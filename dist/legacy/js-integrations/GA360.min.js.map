{"version":3,"file":"GA360.min.js","sources":["../../../node_modules/is/index.js","../../../node_modules/component-each/node_modules/component-type/index.js","../../../node_modules/component-props/index.js","../../../node_modules/to-function/index.js","../../../node_modules/component-each/index.js","../../../node_modules/@lukeed/uuid/dist/index.mjs","../../../src/utils/logUtil.js","../../../node_modules/@lukeed/uuid/secure/index.mjs","../../../src/integrations/AdobeAnalytics/constants.js","../../../src/integrations/BingAds/constants.js","../../../src/integrations/Bugsnag/constants.js","../../../src/integrations/Clevertap/constants.js","../../../src/integrations/Comscore/constants.js","../../../src/integrations/Criteo/constants.js","../../../src/integrations/CustomerIO/constants.js","../../../src/integrations/Drip/constants.js","../../../src/integrations/Fullstory/constants.js","../../../src/integrations/GA/constants.js","../../../src/integrations/GA4/constants.js","../../../src/integrations/GoogleAds/constants.js","../../../src/integrations/GoogleOptimize/constants.js","../../../src/integrations/GoogleTagManager/constants.js","../../../src/integrations/HubSpot/constants.js","../../../src/integrations/INTERCOM/constants.js","../../../src/integrations/Kissmetrics/constants.js","../../../src/integrations/Klaviyo/constants.js","../../../src/integrations/LaunchDarkly/constants.js","../../../src/integrations/LinkedInInsightTag/constants.js","../../../src/integrations/Lotame/constants.js","../../../src/integrations/Lytics/constants.js","../../../src/integrations/Mixpanel/constants.js","../../../src/integrations/MoEngage/constants.js","../../../src/integrations/Optimizely/constants.js","../../../src/integrations/Pendo/constants.js","../../../src/integrations/PostAffiliatePro/constants.js","../../../src/integrations/Posthog/constants.js","../../../src/integrations/ProfitWell/constants.js","../../../src/integrations/Qualtrics/constants.js","../../../src/integrations/QuantumMetric/constants.js","../../../src/integrations/RedditPixel/constants.js","../../../src/integrations/Sentry/constants.js","../../../src/integrations/SnapPixel/constants.js","../../../src/integrations/TVSquared/constants.js","../../../src/integrations/VWO/constants.js","../../../src/integrations/Matomo/constants.js","../../../src/integrations/Vero/constants.js","../../../src/integrations/Mouseflow/constants.js","../../../src/integrations/Rockerbox/constants.js","../../../src/integrations/ConvertFlow/constants.js","../../../src/integrations/SnapEngage/constants.js","../../../src/integrations/LiveChat/constants.js","../../../src/integrations/Shynet/constants.js","../../../src/integrations/Woopra/constants.js","../../../src/integrations/RollBar/constants.js","../../../src/integrations/QuoraPixel/constants.js","../../../src/integrations/June/constants.js","../../../src/integrations/Engage/constants.js","../../../src/integrations/Iterable/constants.js","../../../src/integrations/Refiner/constants.js","../../../src/integrations/Qualaroo/constants.js","../../../src/integrations/Podsights/constants.js","../../../src/integrations/Axeptio/constants.js","../../../src/integrations/MicrosoftClarity/constants.js","../../../src/integrations/Sendinblue/constants.js","../../../src/integrations/Olark/constants.js","../../../src/integrations/Lemnisk/constants.js","../../../src/integrations/Amplitude/constants.js","../../../src/integrations/Appcues/constants.js","../../../src/integrations/Braze/constants.js","../../../src/integrations/Chartbeat/constants.js","../../../src/integrations/FacebookPixel/constants.js","../../../src/integrations/Heap/constants.js","../../../src/integrations/Hotjar/constants.js","../../../src/integrations/Keen/constants.js","../../../src/integrations/PinterestTag/constants.js","../../../src/integrations/GA360/constants.js","../../../src/integrations/Adroll/constants.js","../../../src/integrations/DCMFloodlight/constants.js","../../../src/integrations/YandexMetrica/constants.js","../../../src/integrations/Satismeter/constants.js","../../../src/utils/integration_cname.js","../../../src/utils/errorHandler.js","../../../src/utils/constants.js","../../../src/utils/utils.js","../../../src/utils/ScriptLoader.js","../../../src/integrations/GA/browser.js","../../../src/integrations/GA360/browser.js"],"sourcesContent":["/* globals window, HTMLElement */\n\n'use strict';\n\n/**!\n * is\n * the definitive JavaScript type testing library\n *\n * @copyright 2013-2014 Enrico Marino / Jordan Harband\n * @license MIT\n */\n\nvar objProto = Object.prototype;\nvar owns = objProto.hasOwnProperty;\nvar toStr = objProto.toString;\nvar symbolValueOf;\nif (typeof Symbol === 'function') {\n  symbolValueOf = Symbol.prototype.valueOf;\n}\nvar bigIntValueOf;\nif (typeof BigInt === 'function') {\n  bigIntValueOf = BigInt.prototype.valueOf;\n}\nvar isActualNaN = function (value) {\n  return value !== value;\n};\nvar NON_HOST_TYPES = {\n  'boolean': 1,\n  number: 1,\n  string: 1,\n  undefined: 1\n};\n\nvar base64Regex = /^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;\nvar hexRegex = /^[A-Fa-f0-9]+$/;\n\n/**\n * Expose `is`\n */\n\nvar is = {};\n\n/**\n * Test general.\n */\n\n/**\n * is.type\n * Test if `value` is a type of `type`.\n *\n * @param {*} value value to test\n * @param {String} type type\n * @return {Boolean} true if `value` is a type of `type`, false otherwise\n * @api public\n */\n\nis.a = is.type = function (value, type) {\n  return typeof value === type;\n};\n\n/**\n * is.defined\n * Test if `value` is defined.\n *\n * @param {*} value value to test\n * @return {Boolean} true if 'value' is defined, false otherwise\n * @api public\n */\n\nis.defined = function (value) {\n  return typeof value !== 'undefined';\n};\n\n/**\n * is.empty\n * Test if `value` is empty.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is empty, false otherwise\n * @api public\n */\n\nis.empty = function (value) {\n  var type = toStr.call(value);\n  var key;\n\n  if (type === '[object Array]' || type === '[object Arguments]' || type === '[object String]') {\n    return value.length === 0;\n  }\n\n  if (type === '[object Object]') {\n    for (key in value) {\n      if (owns.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  return !value;\n};\n\n/**\n * is.equal\n * Test if `value` is equal to `other`.\n *\n * @param {*} value value to test\n * @param {*} other value to compare with\n * @return {Boolean} true if `value` is equal to `other`, false otherwise\n */\n\nis.equal = function equal(value, other) {\n  if (value === other) {\n    return true;\n  }\n\n  var type = toStr.call(value);\n  var key;\n\n  if (type !== toStr.call(other)) {\n    return false;\n  }\n\n  if (type === '[object Object]') {\n    for (key in value) {\n      if (!is.equal(value[key], other[key]) || !(key in other)) {\n        return false;\n      }\n    }\n    for (key in other) {\n      if (!is.equal(value[key], other[key]) || !(key in value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (type === '[object Array]') {\n    key = value.length;\n    if (key !== other.length) {\n      return false;\n    }\n    while (key--) {\n      if (!is.equal(value[key], other[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  if (type === '[object Function]') {\n    return value.prototype === other.prototype;\n  }\n\n  if (type === '[object Date]') {\n    return value.getTime() === other.getTime();\n  }\n\n  return false;\n};\n\n/**\n * is.hosted\n * Test if `value` is hosted by `host`.\n *\n * @param {*} value to test\n * @param {*} host host to test with\n * @return {Boolean} true if `value` is hosted by `host`, false otherwise\n * @api public\n */\n\nis.hosted = function (value, host) {\n  var type = typeof host[value];\n  return type === 'object' ? !!host[value] : !NON_HOST_TYPES[type];\n};\n\n/**\n * is.instance\n * Test if `value` is an instance of `constructor`.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an instance of `constructor`\n * @api public\n */\n\nis.instance = is['instanceof'] = function (value, constructor) {\n  return value instanceof constructor;\n};\n\n/**\n * is.nil / is.null\n * Test if `value` is null.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is null, false otherwise\n * @api public\n */\n\nis.nil = is['null'] = function (value) {\n  return value === null;\n};\n\n/**\n * is.undef / is.undefined\n * Test if `value` is undefined.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is undefined, false otherwise\n * @api public\n */\n\nis.undef = is.undefined = function (value) {\n  return typeof value === 'undefined';\n};\n\n/**\n * Test arguments.\n */\n\n/**\n * is.args\n * Test if `value` is an arguments object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.args = is.arguments = function (value) {\n  var isStandardArguments = toStr.call(value) === '[object Arguments]';\n  var isOldArguments = !is.array(value) && is.arraylike(value) && is.object(value) && is.fn(value.callee);\n  return isStandardArguments || isOldArguments;\n};\n\n/**\n * Test array.\n */\n\n/**\n * is.array\n * Test if 'value' is an array.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an array, false otherwise\n * @api public\n */\n\nis.array = Array.isArray || function (value) {\n  return toStr.call(value) === '[object Array]';\n};\n\n/**\n * is.arguments.empty\n * Test if `value` is an empty arguments object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an empty arguments object, false otherwise\n * @api public\n */\nis.args.empty = function (value) {\n  return is.args(value) && value.length === 0;\n};\n\n/**\n * is.array.empty\n * Test if `value` is an empty array.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an empty array, false otherwise\n * @api public\n */\nis.array.empty = function (value) {\n  return is.array(value) && value.length === 0;\n};\n\n/**\n * is.arraylike\n * Test if `value` is an arraylike object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an arguments object, false otherwise\n * @api public\n */\n\nis.arraylike = function (value) {\n  return !!value && !is.bool(value)\n    && owns.call(value, 'length')\n    && isFinite(value.length)\n    && is.number(value.length)\n    && value.length >= 0;\n};\n\n/**\n * Test boolean.\n */\n\n/**\n * is.bool\n * Test if `value` is a boolean.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a boolean, false otherwise\n * @api public\n */\n\nis.bool = is['boolean'] = function (value) {\n  return toStr.call(value) === '[object Boolean]';\n};\n\n/**\n * is.false\n * Test if `value` is false.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is false, false otherwise\n * @api public\n */\n\nis['false'] = function (value) {\n  return is.bool(value) && Boolean(Number(value)) === false;\n};\n\n/**\n * is.true\n * Test if `value` is true.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is true, false otherwise\n * @api public\n */\n\nis['true'] = function (value) {\n  return is.bool(value) && Boolean(Number(value)) === true;\n};\n\n/**\n * Test date.\n */\n\n/**\n * is.date\n * Test if `value` is a date.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a date, false otherwise\n * @api public\n */\n\nis.date = function (value) {\n  return toStr.call(value) === '[object Date]';\n};\n\n/**\n * is.date.valid\n * Test if `value` is a valid date.\n *\n * @param {*} value value to test\n * @returns {Boolean} true if `value` is a valid date, false otherwise\n */\nis.date.valid = function (value) {\n  return is.date(value) && !isNaN(Number(value));\n};\n\n/**\n * Test element.\n */\n\n/**\n * is.element\n * Test if `value` is an html element.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an HTML Element, false otherwise\n * @api public\n */\n\nis.element = function (value) {\n  return value !== undefined\n    && typeof HTMLElement !== 'undefined'\n    && value instanceof HTMLElement\n    && value.nodeType === 1;\n};\n\n/**\n * Test error.\n */\n\n/**\n * is.error\n * Test if `value` is an error object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an error object, false otherwise\n * @api public\n */\n\nis.error = function (value) {\n  return toStr.call(value) === '[object Error]';\n};\n\n/**\n * Test function.\n */\n\n/**\n * is.fn / is.function (deprecated)\n * Test if `value` is a function.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a function, false otherwise\n * @api public\n */\n\nis.fn = is['function'] = function (value) {\n  var isAlert = typeof window !== 'undefined' && value === window.alert;\n  if (isAlert) {\n    return true;\n  }\n  var str = toStr.call(value);\n  return str === '[object Function]' || str === '[object GeneratorFunction]' || str === '[object AsyncFunction]';\n};\n\n/**\n * Test number.\n */\n\n/**\n * is.number\n * Test if `value` is a number.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a number, false otherwise\n * @api public\n */\n\nis.number = function (value) {\n  return toStr.call(value) === '[object Number]';\n};\n\n/**\n * is.infinite\n * Test if `value` is positive or negative infinity.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is positive or negative Infinity, false otherwise\n * @api public\n */\nis.infinite = function (value) {\n  return value === Infinity || value === -Infinity;\n};\n\n/**\n * is.decimal\n * Test if `value` is a decimal number.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a decimal number, false otherwise\n * @api public\n */\n\nis.decimal = function (value) {\n  return is.number(value) && !isActualNaN(value) && !is.infinite(value) && value % 1 !== 0;\n};\n\n/**\n * is.divisibleBy\n * Test if `value` is divisible by `n`.\n *\n * @param {Number} value value to test\n * @param {Number} n dividend\n * @return {Boolean} true if `value` is divisible by `n`, false otherwise\n * @api public\n */\n\nis.divisibleBy = function (value, n) {\n  var isDividendInfinite = is.infinite(value);\n  var isDivisorInfinite = is.infinite(n);\n  var isNonZeroNumber = is.number(value) && !isActualNaN(value) && is.number(n) && !isActualNaN(n) && n !== 0;\n  return isDividendInfinite || isDivisorInfinite || (isNonZeroNumber && value % n === 0);\n};\n\n/**\n * is.integer\n * Test if `value` is an integer.\n *\n * @param value to test\n * @return {Boolean} true if `value` is an integer, false otherwise\n * @api public\n */\n\nis.integer = is['int'] = function (value) {\n  return is.number(value) && !isActualNaN(value) && value % 1 === 0;\n};\n\n/**\n * is.maximum\n * Test if `value` is greater than 'others' values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is greater than `others` values\n * @api public\n */\n\nis.maximum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value < others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.minimum\n * Test if `value` is less than `others` values.\n *\n * @param {Number} value value to test\n * @param {Array} others values to compare with\n * @return {Boolean} true if `value` is less than `others` values\n * @api public\n */\n\nis.minimum = function (value, others) {\n  if (isActualNaN(value)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.arraylike(others)) {\n    throw new TypeError('second argument must be array-like');\n  }\n  var len = others.length;\n\n  while (--len >= 0) {\n    if (value > others[len]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\n * is.nan\n * Test if `value` is not a number.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is not a number, false otherwise\n * @api public\n */\n\nis.nan = function (value) {\n  return !is.number(value) || value !== value;\n};\n\n/**\n * is.even\n * Test if `value` is an even number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an even number, false otherwise\n * @api public\n */\n\nis.even = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 === 0);\n};\n\n/**\n * is.odd\n * Test if `value` is an odd number.\n *\n * @param {Number} value value to test\n * @return {Boolean} true if `value` is an odd number, false otherwise\n * @api public\n */\n\nis.odd = function (value) {\n  return is.infinite(value) || (is.number(value) && value === value && value % 2 !== 0);\n};\n\n/**\n * is.ge\n * Test if `value` is greater than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.ge = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value >= other;\n};\n\n/**\n * is.gt\n * Test if `value` is greater than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean}\n * @api public\n */\n\nis.gt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value > other;\n};\n\n/**\n * is.le\n * Test if `value` is less than or equal to `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if 'value' is less than or equal to 'other'\n * @api public\n */\n\nis.le = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value <= other;\n};\n\n/**\n * is.lt\n * Test if `value` is less than `other`.\n *\n * @param {Number} value value to test\n * @param {Number} other value to compare with\n * @return {Boolean} if `value` is less than `other`\n * @api public\n */\n\nis.lt = function (value, other) {\n  if (isActualNaN(value) || isActualNaN(other)) {\n    throw new TypeError('NaN is not a valid value');\n  }\n  return !is.infinite(value) && !is.infinite(other) && value < other;\n};\n\n/**\n * is.within\n * Test if `value` is within `start` and `finish`.\n *\n * @param {Number} value value to test\n * @param {Number} start lower bound\n * @param {Number} finish upper bound\n * @return {Boolean} true if 'value' is is within 'start' and 'finish'\n * @api public\n */\nis.within = function (value, start, finish) {\n  if (isActualNaN(value) || isActualNaN(start) || isActualNaN(finish)) {\n    throw new TypeError('NaN is not a valid value');\n  } else if (!is.number(value) || !is.number(start) || !is.number(finish)) {\n    throw new TypeError('all arguments must be numbers');\n  }\n  var isAnyInfinite = is.infinite(value) || is.infinite(start) || is.infinite(finish);\n  return isAnyInfinite || (value >= start && value <= finish);\n};\n\n/**\n * Test object.\n */\n\n/**\n * is.object\n * Test if `value` is an object.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is an object, false otherwise\n * @api public\n */\nis.object = function (value) {\n  return toStr.call(value) === '[object Object]';\n};\n\n/**\n * is.primitive\n * Test if `value` is a primitive.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a primitive, false otherwise\n * @api public\n */\nis.primitive = function isPrimitive(value) {\n  if (!value) {\n    return true;\n  }\n  if (typeof value === 'object' || is.object(value) || is.fn(value) || is.array(value)) {\n    return false;\n  }\n  return true;\n};\n\n/**\n * is.hash\n * Test if `value` is a hash - a plain object literal.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a hash, false otherwise\n * @api public\n */\n\nis.hash = function (value) {\n  return is.object(value) && value.constructor === Object && !value.nodeType && !value.setInterval;\n};\n\n/**\n * Test regexp.\n */\n\n/**\n * is.regexp\n * Test if `value` is a regular expression.\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a regexp, false otherwise\n * @api public\n */\n\nis.regexp = function (value) {\n  return toStr.call(value) === '[object RegExp]';\n};\n\n/**\n * Test string.\n */\n\n/**\n * is.string\n * Test if `value` is a string.\n *\n * @param {*} value value to test\n * @return {Boolean} true if 'value' is a string, false otherwise\n * @api public\n */\n\nis.string = function (value) {\n  return toStr.call(value) === '[object String]';\n};\n\n/**\n * Test base64 string.\n */\n\n/**\n * is.base64\n * Test if `value` is a valid base64 encoded string.\n *\n * @param {*} value value to test\n * @return {Boolean} true if 'value' is a base64 encoded string, false otherwise\n * @api public\n */\n\nis.base64 = function (value) {\n  return is.string(value) && (!value.length || base64Regex.test(value));\n};\n\n/**\n * Test base64 string.\n */\n\n/**\n * is.hex\n * Test if `value` is a valid hex encoded string.\n *\n * @param {*} value value to test\n * @return {Boolean} true if 'value' is a hex encoded string, false otherwise\n * @api public\n */\n\nis.hex = function (value) {\n  return is.string(value) && (!value.length || hexRegex.test(value));\n};\n\n/**\n * is.symbol\n * Test if `value` is an ES6 Symbol\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a Symbol, false otherise\n * @api public\n */\n\nis.symbol = function (value) {\n  return typeof Symbol === 'function' && toStr.call(value) === '[object Symbol]' && typeof symbolValueOf.call(value) === 'symbol';\n};\n\n/**\n * is.bigint\n * Test if `value` is an ES-proposed BigInt\n *\n * @param {*} value value to test\n * @return {Boolean} true if `value` is a BigInt, false otherise\n * @api public\n */\n\nis.bigint = function (value) {\n  // eslint-disable-next-line valid-typeof\n  return typeof BigInt === 'function' && toStr.call(value) === '[object BigInt]' && typeof bigIntValueOf.call(value) === 'bigint';\n};\n\nmodule.exports = is;\n","\n/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Function]': return 'function';\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object String]': return 'string';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val && val.nodeType === 1) return 'element';\n  if (val === Object(val)) return 'object';\n\n  return typeof val;\n};\n","/**\n * Global Names\n */\n\nvar globals = /\\b(Array|Date|Object|Math|JSON)\\b/g;\n\n/**\n * Return immediate identifiers parsed from `str`.\n *\n * @param {String} str\n * @param {String|Function} map function or prefix\n * @return {Array}\n * @api public\n */\n\nmodule.exports = function(str, fn){\n  var p = unique(props(str));\n  if (fn && 'string' == typeof fn) fn = prefixed(fn);\n  if (fn) return map(str, p, fn);\n  return p;\n};\n\n/**\n * Return immediate identifiers in `str`.\n *\n * @param {String} str\n * @return {Array}\n * @api private\n */\n\nfunction props(str) {\n  return str\n    .replace(/\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\//g, '')\n    .replace(globals, '')\n    .match(/[a-zA-Z_]\\w*/g)\n    || [];\n}\n\n/**\n * Return `str` with `props` mapped with `fn`.\n *\n * @param {String} str\n * @param {Array} props\n * @param {Function} fn\n * @return {String}\n * @api private\n */\n\nfunction map(str, props, fn) {\n  var re = /\\.\\w+|\\w+ *\\(|\"[^\"]*\"|'[^']*'|\\/([^/]+)\\/|[a-zA-Z_]\\w*/g;\n  return str.replace(re, function(_){\n    if ('(' == _[_.length - 1]) return fn(_);\n    if (!~props.indexOf(_)) return _;\n    return fn(_);\n  });\n}\n\n/**\n * Return unique array.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nfunction unique(arr) {\n  var ret = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (~ret.indexOf(arr[i])) continue;\n    ret.push(arr[i]);\n  }\n\n  return ret;\n}\n\n/**\n * Map with prefix `str`.\n */\n\nfunction prefixed(str) {\n  return function(_){\n    return str + _;\n  };\n}\n","\n/**\n * Module Dependencies\n */\n\nvar expr;\ntry {\n  expr = require('props');\n} catch(e) {\n  expr = require('component-props');\n}\n\n/**\n * Expose `toFunction()`.\n */\n\nmodule.exports = toFunction;\n\n/**\n * Convert `obj` to a `Function`.\n *\n * @param {Mixed} obj\n * @return {Function}\n * @api private\n */\n\nfunction toFunction(obj) {\n  switch ({}.toString.call(obj)) {\n    case '[object Object]':\n      return objectToFunction(obj);\n    case '[object Function]':\n      return obj;\n    case '[object String]':\n      return stringToFunction(obj);\n    case '[object RegExp]':\n      return regexpToFunction(obj);\n    default:\n      return defaultToFunction(obj);\n  }\n}\n\n/**\n * Default to strict equality.\n *\n * @param {Mixed} val\n * @return {Function}\n * @api private\n */\n\nfunction defaultToFunction(val) {\n  return function(obj){\n    return val === obj;\n  };\n}\n\n/**\n * Convert `re` to a function.\n *\n * @param {RegExp} re\n * @return {Function}\n * @api private\n */\n\nfunction regexpToFunction(re) {\n  return function(obj){\n    return re.test(obj);\n  };\n}\n\n/**\n * Convert property `str` to a function.\n *\n * @param {String} str\n * @return {Function}\n * @api private\n */\n\nfunction stringToFunction(str) {\n  // immediate such as \"> 20\"\n  if (/^ *\\W+/.test(str)) return new Function('_', 'return _ ' + str);\n\n  // properties such as \"name.first\" or \"age > 18\" or \"age > 18 && age < 36\"\n  return new Function('_', 'return ' + get(str));\n}\n\n/**\n * Convert `object` to a function.\n *\n * @param {Object} object\n * @return {Function}\n * @api private\n */\n\nfunction objectToFunction(obj) {\n  var match = {};\n  for (var key in obj) {\n    match[key] = typeof obj[key] === 'string'\n      ? defaultToFunction(obj[key])\n      : toFunction(obj[key]);\n  }\n  return function(val){\n    if (typeof val !== 'object') return false;\n    for (var key in match) {\n      if (!(key in val)) return false;\n      if (!match[key](val[key])) return false;\n    }\n    return true;\n  };\n}\n\n/**\n * Built the getter function. Supports getter style functions\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction get(str) {\n  var props = expr(str);\n  if (!props.length) return '_.' + str;\n\n  var val, i, prop;\n  for (i = 0; i < props.length; i++) {\n    prop = props[i];\n    val = '_.' + prop;\n    val = \"('function' == typeof \" + val + \" ? \" + val + \"() : \" + val + \")\";\n\n    // mimic negative lookbehind to avoid problems with nested properties\n    str = stripNested(prop, str, val);\n  }\n\n  return str;\n}\n\n/**\n * Mimic negative lookbehind to avoid problems with nested properties.\n *\n * See: http://blog.stevenlevithan.com/archives/mimic-lookbehind-javascript\n *\n * @param {String} prop\n * @param {String} str\n * @param {String} val\n * @return {String}\n * @api private\n */\n\nfunction stripNested (prop, str, val) {\n  return str.replace(new RegExp('(\\\\.)?' + prop, 'g'), function($0, $1) {\n    return $1 ? $0 : val;\n  });\n}\n","\n/**\n * Module dependencies.\n */\n\ntry {\n  var type = require('type');\n} catch (err) {\n  var type = require('component-type');\n}\n\nvar toFunction = require('to-function');\n\n/**\n * HOP reference.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Iterate the given `obj` and invoke `fn(val, i)`\n * in optional context `ctx`.\n *\n * @param {String|Array|Object} obj\n * @param {Function} fn\n * @param {Object} [ctx]\n * @api public\n */\n\nmodule.exports = function(obj, fn, ctx){\n  fn = toFunction(fn);\n  ctx = ctx || this;\n  switch (type(obj)) {\n    case 'array':\n      return array(obj, fn, ctx);\n    case 'object':\n      if ('number' == typeof obj.length) return array(obj, fn, ctx);\n      return object(obj, fn, ctx);\n    case 'string':\n      return string(obj, fn, ctx);\n  }\n};\n\n/**\n * Iterate string chars.\n *\n * @param {String} obj\n * @param {Function} fn\n * @param {Object} ctx\n * @api private\n */\n\nfunction string(obj, fn, ctx) {\n  for (var i = 0; i < obj.length; ++i) {\n    fn.call(ctx, obj.charAt(i), i);\n  }\n}\n\n/**\n * Iterate object keys.\n *\n * @param {Object} obj\n * @param {Function} fn\n * @param {Object} ctx\n * @api private\n */\n\nfunction object(obj, fn, ctx) {\n  for (var key in obj) {\n    if (has.call(obj, key)) {\n      fn.call(ctx, key, obj[key]);\n    }\n  }\n}\n\n/**\n * Iterate array-ish.\n *\n * @param {Array|Object} obj\n * @param {Function} fn\n * @param {Object} ctx\n * @api private\n */\n\nfunction array(obj, fn, ctx) {\n  for (var i = 0; i < obj.length; ++i) {\n    fn.call(ctx, obj[i], i);\n  }\n}\n","var IDX=256, HEX=[], BUFFER;\nwhile (IDX--) HEX[IDX] = (IDX + 256).toString(16).substring(1);\n\nexport function v4() {\n\tvar i=0, num, out='';\n\n\tif (!BUFFER || ((IDX + 16) > 256)) {\n\t\tBUFFER = Array(i=256);\n\t\twhile (i--) BUFFER[i] = 256 * Math.random() | 0;\n\t\ti = IDX = 0;\n\t}\n\n\tfor (; i < 16; i++) {\n\t\tnum = BUFFER[IDX + i];\n\t\tif (i==6) out += HEX[num & 15 | 64];\n\t\telse if (i==8) out += HEX[num & 63 | 128];\n\t\telse out += HEX[num];\n\n\t\tif (i & 1 && i > 1 && i < 11) out += '-';\n\t}\n\n\tIDX++;\n\treturn out;\n}\n","const LOG_LEVEL_INFO = 1;\nconst LOG_LEVEL_DEBUG = 2;\nconst LOG_LEVEL_WARN = 3;\nconst LOG_LEVEL_ERROR = 4;\nconst DEF_LOG_LEVEL = LOG_LEVEL_ERROR;\nlet LOG_LEVEL = DEF_LOG_LEVEL;\n\nconst logger = {\n  setLogLevel(logLevel) {\n    switch (logLevel.toUpperCase()) {\n      case 'INFO':\n        LOG_LEVEL = LOG_LEVEL_INFO;\n        break;\n      case 'DEBUG':\n        LOG_LEVEL = LOG_LEVEL_DEBUG;\n        break;\n      case 'WARN':\n        LOG_LEVEL = LOG_LEVEL_WARN;\n        break;\n      default:\n        LOG_LEVEL = DEF_LOG_LEVEL;\n        break;\n    }\n  },\n\n  info(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_INFO) {\n      console.info(...args);\n    }\n  },\n\n  debug(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_DEBUG) {\n      console.log(...args);\n    }\n  },\n\n  warn(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_WARN) {\n      console.warn(...args);\n    }\n  },\n\n  error(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_ERROR) {\n      console.error(...args);\n    }\n  },\n};\n\nexport default logger;\n","import { random } from '@lukeed/csprng';\n\nvar SIZE=4096, HEX=[], IDX=0, BUFFER;\n\nfor (; IDX < 256; IDX++) {\n\tHEX[IDX] = (IDX + 256).toString(16).substring(1);\n}\n\nexport function v4() {\n\tif (!BUFFER || ((IDX + 16) > SIZE)) {\n\t\tBUFFER = random(SIZE);\n\t\tIDX = 0;\n\t}\n\n\tvar i=0, tmp, out='';\n\tfor (; i < 16; i++) {\n\t\ttmp = BUFFER[IDX + i];\n\t\tif (i==6) out += HEX[tmp & 15 | 64];\n\t\telse if (i==8) out += HEX[tmp & 63 | 128];\n\t\telse out += HEX[tmp];\n\n\t\tif (i & 1 && i > 1 && i < 11) out += '-';\n\t}\n\n\tIDX += 16;\n\treturn out;\n}\n","const NAME = 'ADOBE_ANALYTICS';\nconst CNameMapping = {\n  'Adobe Analytics': NAME,\n  ADOBEANALYTICS: NAME,\n  'ADOBE ANALYTICS': NAME,\n  [NAME]: NAME,\n  AdobeAnalytics: NAME,\n  adobeanalytics: NAME,\n  'adobe analytics': NAME,\n  'Adobe analytics': NAME,\n  'adobe Analytics': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'BINGADS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  BingAds: NAME,\n  bingads: NAME,\n  'Bing Ads': NAME,\n  'Bing ads': NAME,\n  'bing Ads': NAME,\n  'bing ads': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'BUGSNAG';\nconst CNameMapping = {\n  [NAME]: NAME,\n  bugsnag: NAME,\n  Bugsnag: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'CLEVERTAP';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Clevertap: NAME,\n  clevertap: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'COMSCORE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Comscore: NAME,\n  'Com Score': NAME,\n  'com Score': NAME,\n  'com score': NAME,\n  'Com score': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'CRITEO';\n\nconst CNameMapping = {\n  [NAME]: NAME,\n  Criteo: NAME,\n  criteo: NAME,\n};\n\nconst supportedEvents = ['product viewed', 'cart viewed', 'order completed', 'product list viewed'];\n\nexport { NAME, CNameMapping, supportedEvents };\n","const NAME = 'CUSTOMERIO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Customerio: NAME,\n  'Customer.io': NAME,\n  'CUSTOMER.IO': NAME,\n  'customer.io': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'DRIP';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Drip: NAME,\n  drip: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'FULLSTORY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Fullstory: NAME,\n  FullStory: NAME,\n  'full Story': NAME,\n  'Full Story': NAME,\n  'Full story': NAME,\n  'full story': NAME,\n  fullstory: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GA';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Analytics': NAME,\n  GoogleAnalytics: NAME,\n  'GOOGLE ANALYTICS': NAME,\n  'google analytics': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GA4';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Analytics 4': NAME,\n  'Google analytics 4': NAME,\n  'google analytics 4': NAME,\n  'Google Analytics4': NAME,\n  'Google analytics4': NAME,\n  'google analytics4': NAME,\n  GoogleAnalytics4: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GOOGLEADS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Ads': NAME,\n  GoogleAds: NAME,\n  'GOOGLE ADS': NAME,\n  'google ads': NAME,\n  googleads: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GOOGLE_OPTIMIZE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Optimize': NAME,\n  GoogleOptimize: NAME,\n  Googleoptimize: NAME,\n  GOOGLEOPTIMIZE: NAME,\n  'google optimize': NAME,\n  'Google optimize': NAME,\n  'GOOGLE OPTIMIZE': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GTM';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Tag Manager': NAME,\n  'google tag manager': NAME,\n  'googletag manager': NAME,\n  googletagmanager: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'HS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Hubspot: NAME,\n  HUBSPOT: NAME,\n  'hub spot': NAME,\n  'Hub Spot': NAME,\n  'Hub spot': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'INTERCOM';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Intercom: NAME,\n  intercom: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'KISSMETRICS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Kissmetrics: NAME,\n  kissmetrics: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'KLAVIYO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Klaviyo: NAME,\n  klaviyo: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LAUNCHDARKLY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  LaunchDarkly: NAME,\n  Launch_Darkly: NAME,\n  'Launch Darkly': NAME,\n  launchDarkly: NAME,\n  'launch darkly': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LINKEDIN_INSIGHT_TAG';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'LinkedIn Insight Tag': NAME,\n  'LinkedIn insight tag': NAME,\n  'linkedIn insight tag': NAME,\n  Linkedin_insight_tag: NAME,\n  LinkedinInsighttag: NAME,\n  LinkedinInsightTag: NAME,\n  LinkedInInsightTag: NAME,\n  Linkedininsighttag: NAME,\n  LINKEDININSIGHTTAG: NAME,\n  linkedininsighttag: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LOTAME';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Lotame: NAME,\n  lotame: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LYTICS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Lytics: NAME,\n  lytics: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MP';\nconst CNameMapping = {\n  [NAME]: NAME,\n  MIXPANEL: NAME,\n  Mixpanel: NAME,\n  'MIX PANEL': NAME,\n  'Mix panel': NAME,\n  'Mix Panel': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MOENGAGE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  MoEngage: NAME,\n  moengage: NAME,\n  Moengage: NAME,\n  'Mo Engage': NAME,\n  'mo engage': NAME,\n  'Mo engage': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'OPTIMIZELY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Optimizely: NAME,\n  optimizely: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'PENDO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Pendo: NAME,\n  pendo: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'POST_AFFILIATE_PRO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  PostAffiliatePro: NAME,\n  Post_affiliate_pro: NAME,\n  'Post Affiliate Pro': NAME,\n  'Post affiliate pro': NAME,\n  'post affiliate pro': NAME,\n  postaffiliatepro: NAME,\n  POSTAFFILIATEPRO: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'POSTHOG';\nconst CNameMapping = {\n  [NAME]: NAME,\n  PostHog: NAME,\n  Posthog: NAME,\n  posthog: NAME,\n  'Post Hog': NAME,\n  'Post hog': NAME,\n  'post hog': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'PROFITWELL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  ProfitWell: NAME,\n  profitwell: NAME,\n  Profitwell: NAME,\n  'Profit Well': NAME,\n  'profit well': NAME,\n  'Profit well': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'QUALTRICS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Qualtrics: NAME,\n  qualtrics: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'QUANTUMMETRIC';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Quantum Metric': NAME,\n  'quantum Metric': NAME,\n  'quantum metric': NAME,\n  QuantumMetric: NAME,\n  quantumMetric: NAME,\n  quantummetric: NAME,\n  Quantum_Metric: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'REDDIT_PIXEL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Reddit_Pixel: NAME,\n  RedditPixel: NAME,\n  REDDITPIXEL: NAME,\n  redditpixel: NAME,\n  'Reddit Pixel': NAME,\n  'REDDIT PIXEL': NAME,\n  'reddit pixel': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'SENTRY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  sentry: NAME,\n  Sentry: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'SNAP_PIXEL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Snap_Pixel: NAME,\n  SnapPixel: NAME,\n  SNAPPIXEL: NAME,\n  snappixel: NAME,\n  'Snap Pixel': NAME,\n  'SNAP PIXEL': NAME,\n  'snap pixel': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'TVSQUARED';\nconst CNameMapping = {\n  [NAME]: NAME,\n  TVSquared: NAME,\n  tvsquared: NAME,\n  tvSquared: NAME,\n  TvSquared: NAME,\n  Tvsquared: NAME,\n  'TV Squared': NAME,\n  'tv squared': NAME,\n  'tv Squared': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'VWO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  VisualWebsiteOptimizer: NAME,\n  Visualwebsiteoptimizer: NAME,\n  visualwebsiteoptimizer: NAME,\n  vwo: NAME,\n  'Visual Website Optimizer': NAME,\n  'Visual website optimizer': NAME,\n  'visual website optimizer': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MATOMO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Matomo: NAME,\n  matomo: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'VERO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Vero: NAME,\n  vero: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MOUSEFLOW';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Mouseflow: NAME,\n  mouseflow: NAME,\n  mouseFlow: NAME,\n  MouseFlow: NAME,\n  'Mouse flow': NAME,\n  'mouse flow': NAME,\n  'mouse Flow': NAME,\n  'Mouse Flow': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ROCKERBOX';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Rockerbox: NAME,\n  rockerbox: NAME,\n  RockerBox: NAME,\n  'Rocker box': NAME,\n  'rocker box': NAME,\n  'Rocker Box': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'CONVERTFLOW';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Convertflow: NAME,\n  convertflow: NAME,\n  convertFlow: NAME,\n  ConvertFlow: NAME,\n  'Convert flow': NAME,\n  'convert flow': NAME,\n  'convert Flow': NAME,\n  'Convert Flow': NAME,\n  'CONVERT FLOW': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'SNAPENGAGE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  SnapEngage: NAME,\n  Snap_Engage: NAME,\n  snapengage: NAME,\n  'SNAP ENGAGE': NAME,\n  'Snap Engage': NAME,\n  'snap engage': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LIVECHAT';\nconst CNameMapping = {\n  [NAME]: NAME,\n  LiveChat: NAME,\n  Live_Chat: NAME,\n  livechat: NAME,\n  'LIVE CHAT': NAME,\n  'Live Chat': NAME,\n  'live chat': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'SHYNET';\n\nconst CNameMapping = {\n  [NAME]: NAME,\n  shynet: NAME,\n  ShyNet: NAME,\n  shyNet: NAME,\n  Shynet: NAME,\n  'shy net': NAME,\n  'Shy Net': NAME,\n  'shy Net': NAME,\n  'Shy net': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'WOOPRA';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Woopra: NAME,\n  woopra: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ROLLBAR';\nconst CNameMapping = {\n  [NAME]: NAME,\n  RollBar: NAME,\n  Roll_Bar: NAME,\n  rollbar: NAME,\n  Rollbar: NAME,\n  'ROLL BAR': NAME,\n  'Roll Bar': NAME,\n  'roll bar': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'QUORA_PIXEL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Quora Pixel': NAME,\n  'Quora pixel': NAME,\n  'QUORA PIXEL': NAME,\n  QuoraPixel: NAME,\n  Quorapixel: NAME,\n  QUORAPIXEL: NAME,\n  Quora_Pixel: NAME,\n  quora_pixel: NAME,\n  Quora: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'JUNE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  June: NAME,\n  june: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ENGAGE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Engage: NAME,\n  engage: NAME,\n};\nconst identifyExcludeFields = [\n  'firstName',\n  'firstname',\n  'first_name',\n  'lastName',\n  'lastname',\n  'last_name',\n  'phone',\n];\nexport { NAME, CNameMapping, identifyExcludeFields };\n","const NAME = 'ITERABLE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Iterable: NAME,\n  iterable: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'REFINER';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Refiner: NAME,\n  refiner: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'QUALAROO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Qualaroo: NAME,\n  qualaroo: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'PODSIGHTS';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Podsights: NAME,\n  PodSights: NAME,\n  'pod Sights': NAME,\n  'Pod Sights': NAME,\n  'pod sights': NAME,\n  'POD SIGHTS': NAME,\n  'Pod sights': NAME,\n};\n\n// default mapping for the events\nconst standardEventsListMapping = [\n  { to: 'lead', from: 'Signed Up' },\n  { to: 'product', from: 'Product Viewed' },\n  { to: 'addtocart', from: 'Product Added' },\n  { to: 'checkout', from: 'Checkout Started' },\n  { to: 'purchase', from: 'Order Completed' },\n];\n\nconst LEAD_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'type',\n    sourceKeys: 'type',\n  },\n  {\n    destKey: 'category',\n    sourceKeys: 'category',\n  },\n];\n\nconst PRODUCT_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'product_id',\n    sourceKeys: 'productId',\n  },\n  {\n    destKey: 'product_name',\n    sourceKeys: 'productName',\n  },\n  {\n    destKey: 'product_type',\n    sourceKeys: 'productType',\n  },\n  {\n    destKey: 'product_vendor',\n    sourceKeys: 'productVendor',\n  },\n];\n\nconst ADD_TO_CART_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'product_id',\n    sourceKeys: 'productId',\n  },\n  {\n    destKey: 'product_name',\n    sourceKeys: 'productName',\n  },\n  {\n    destKey: 'product_type',\n    sourceKeys: 'productType',\n  },\n  {\n    destKey: 'product_vendor',\n    sourceKeys: 'productVendor',\n  },\n  {\n    destKey: 'quantity',\n    sourceKeys: 'quantity',\n  },\n  {\n    destKey: 'variant_id',\n    sourceKeys: 'variantId',\n  },\n  {\n    destKey: 'variant_name',\n    sourceKeys: 'variantName',\n  },\n];\n\nconst CHECK_OUT_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'discount_code',\n    sourceKeys: 'discountCode',\n  },\n  {\n    destKey: 'quantity',\n    sourceKeys: 'quantity',\n  },\n  {\n    destKey: 'line_items',\n    sourceKeys: 'lineItems',\n  },\n];\n\nconst PURCHASE_EVENT = [\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'currency',\n    sourceKeys: 'currency',\n  },\n  {\n    destKey: 'discount_code',\n    sourceKeys: 'discountCode',\n  },\n  {\n    destKey: 'line_items',\n    sourceKeys: 'lineItems',\n  },\n  {\n    destKey: 'order_id',\n    sourceKeys: 'orderId',\n  },\n  {\n    destKey: 'is_new_customer',\n    sourceKeys: 'isNewCustomer',\n  },\n  {\n    destKey: 'quantity',\n    sourceKeys: 'quantity',\n  },\n];\n\nconst LINE_ITEMS_CONFIG = [\n  {\n    destKey: 'product_id',\n    sourceKeys: 'productId',\n  },\n  {\n    destKey: 'product_name',\n    sourceKeys: 'productName',\n  },\n  {\n    destKey: 'product_type',\n    sourceKeys: 'productType',\n  },\n  {\n    destKey: 'product_vendor',\n    sourceKeys: 'productVendor',\n  },\n  {\n    destKey: 'variant_id',\n    sourceKeys: 'variantId',\n  },\n  {\n    destKey: 'variant_name',\n    sourceKeys: 'variantName',\n  },\n  {\n    destKey: 'value',\n    sourceKeys: 'value',\n  },\n  {\n    destKey: 'quantity',\n    sourceKeys: 'quantity',\n  },\n];\n\nexport {\n  NAME,\n  CNameMapping,\n  standardEventsListMapping,\n  LEAD_EVENT,\n  PRODUCT_EVENT,\n  ADD_TO_CART_EVENT,\n  CHECK_OUT_EVENT,\n  PURCHASE_EVENT,\n  LINE_ITEMS_CONFIG,\n};\n","const NAME = 'AXEPTIO';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Axeptio: NAME,\n  axeptio: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'MICROSOFT_CLARITY';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Microsoft Clarity': NAME,\n  'Microsoft clarity': NAME,\n  'microsoft clarity': NAME,\n  Microsoft_clarity: NAME,\n  MicrosoftClarity: NAME,\n  MICROSOFTCLARITY: NAME,\n  microsoftclarity: NAME,\n  microsoftClarity: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = \"SENDINBLUE\";\nconst CNameMapping = {\n  [NAME]: NAME,\n  Sendinblue: NAME,\n  sendinblue: NAME,\n  SendinBlue: NAME\n};\n\nconst excludeReservedTraits = [\n  \"firstName\",\n  \"firstname\",\n  \"first_name\",\n  \"lastName\",\n  \"lastname\",\n  \"last_name\",\n  \"phone\",\n  \"Phone\",\n  \"email\",\n  \"Email\",\n  \"E-mail\",\n];\n\nconst excludePageProperties = [\"url\", \"title\", \"path\", \"referrer\"];\n\nexport { NAME, CNameMapping, excludeReservedTraits, excludePageProperties };\n","const NAME = 'OLARK';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Olark: NAME,\n  olark: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'LEMNISK';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'LEMNISK_MARKETING_AUTOMATION': NAME,\n  'Lemnisk Marketing Automation': NAME,\n  'LemniskMarketingAutomation': NAME,\n  'lemniskmarketingautomation': NAME,\n  'lemniskMarketingAutomation': NAME,\n  'lemnisk': NAME,\n  'Lemnisk': NAME,\n};\n\nexport { NAME, CNameMapping };","const NAME = 'AM';\nconst CNameMapping = {\n  [NAME]: NAME,\n  AMPLITUDE: NAME,\n  Amplitude: NAME,\n  am: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'APPCUES';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Appcues: NAME,\n  'App Cues': NAME,\n  appcues: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'BRAZE';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Braze: NAME,\n  braze: NAME,\n};\n\nconst BrazeOperationString =\n  'BrazeSdkMetadata DeviceProperties Card Card.prototype.dismissCard Card.prototype.removeAllSubscriptions Card.prototype.removeSubscription Card.prototype.subscribeToClickedEvent Card.prototype.subscribeToDismissedEvent Card.fromContentCardsJson Banner CaptionedImage ClassicCard ControlCard ContentCards ContentCards.prototype.getUnviewedCardCount Feed Feed.prototype.getUnreadCardCount ControlMessage InAppMessage InAppMessage.SlideFrom InAppMessage.ClickAction InAppMessage.DismissType InAppMessage.OpenTarget InAppMessage.ImageStyle InAppMessage.Orientation InAppMessage.TextAlignment InAppMessage.CropType InAppMessage.prototype.closeMessage InAppMessage.prototype.removeAllSubscriptions InAppMessage.prototype.removeSubscription InAppMessage.prototype.subscribeToClickedEvent InAppMessage.prototype.subscribeToDismissedEvent InAppMessage.fromJson FullScreenMessage ModalMessage HtmlMessage SlideUpMessage User User.Genders User.NotificationSubscriptionTypes User.prototype.addAlias User.prototype.addToCustomAttributeArray User.prototype.addToSubscriptionGroup User.prototype.getUserId User.prototype.incrementCustomUserAttribute User.prototype.removeFromCustomAttributeArray User.prototype.removeFromSubscriptionGroup User.prototype.setCountry User.prototype.setCustomLocationAttribute User.prototype.setCustomUserAttribute User.prototype.setDateOfBirth User.prototype.setEmail User.prototype.setEmailNotificationSubscriptionType User.prototype.setFirstName User.prototype.setGender User.prototype.setHomeCity User.prototype.setLanguage User.prototype.setLastKnownLocation User.prototype.setLastName User.prototype.setPhoneNumber User.prototype.setPushNotificationSubscriptionType InAppMessageButton InAppMessageButton.prototype.removeAllSubscriptions InAppMessageButton.prototype.removeSubscription InAppMessageButton.prototype.subscribeToClickedEvent automaticallyShowInAppMessages destroyFeed hideContentCards showContentCards showFeed showInAppMessage toggleContentCards toggleFeed changeUser destroy getDeviceId initialize isPushBlocked isPushPermissionGranted isPushSupported logCardClick logCardDismissal logCardImpressions logContentCardImpressions logContentCardsDisplayed logCustomEvent logFeedDisplayed logInAppMessageButtonClick logInAppMessageClick logInAppMessageHtmlClick logInAppMessageImpression logPurchase openSession requestPushPermission removeAllSubscriptions removeSubscription requestContentCardsRefresh requestFeedRefresh requestImmediateDataFlush enableSDK isDisabled setLogger setSdkAuthenticationSignature addSdkMetadata disableSDK subscribeToContentCardsUpdates subscribeToFeedUpdates subscribeToInAppMessage subscribeToSdkAuthenticationFailures toggleLogging unregisterPush wipeData handleBrazeAction';\n\nexport { NAME, CNameMapping, BrazeOperationString };\n","const NAME = 'CHARTBEAT';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Chartbeat: NAME,\n  chartbeat: NAME,\n  'Chart Beat': NAME,\n  'chart beat': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'FACEBOOK_PIXEL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'FB Pixel': NAME,\n  'Facebook Pixel': NAME,\n  'facebook pixel': NAME,\n  fbpixel: NAME,\n  FBPIXEL: NAME,\n  FB_PIXEL: NAME,\n};\n\nconst traitsMapper = [\n  {\n    destKey: 'external_id',\n    sourceKeys: ['userId', 'context.traits.userId', 'context.traits.id', 'anonymousId'],\n  },\n  {\n    destKey: 'em',\n    sourceKeys: 'context.traits.email',\n  },\n  {\n    destKey: 'ph',\n    sourceKeys: 'context.traits.phone',\n  },\n  {\n    destKey: 'ge',\n    sourceKeys: 'context.traits.gender',\n  },\n  {\n    destKey: 'db',\n    sourceKeys: 'context.traits.birthday',\n  },\n  {\n    destKey: 'ln',\n    sourceKeys: ['context.traits.lastname', 'context.traits.lastName', 'context.traits.last_name'],\n  },\n  {\n    destKey: 'fn',\n    sourceKeys: [\n      'context.traits.firstname',\n      'context.traits.firstName',\n      'context.traits.first_name',\n    ],\n  },\n  {\n    destKey: 'ct',\n    sourceKeys: ['context.traits.address.city', 'context.traits.city'],\n  },\n  {\n    destKey: 'st',\n    sourceKeys: ['context.traits.address.state', 'context.traits.state'],\n  },\n  {\n    destKey: 'zp',\n    sourceKeys: ['context.traits.address.zip', 'context.traits.zip'],\n  },\n  {\n    destKey: 'country',\n    sourceKeys: ['context.traits.address.country', 'context.traits.country'],\n  },\n];\n\nconst reserveTraits = [\n  'email',\n  'lastName',\n  'firstName',\n  'phone',\n  'external_id',\n  'city',\n  'birthday',\n  'gender',\n  'street',\n  'zip',\n  'country',\n];\n\nexport { traitsMapper, CNameMapping, NAME, reserveTraits };\n","const NAME = 'HEAP';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Heap: NAME,\n  heap: NAME,\n  'Heap.io': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'HOTJAR';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Hotjar: NAME,\n  hotjar: NAME,\n  'Hot Jar': NAME,\n  'hot jar': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'KEEN';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Keen: NAME,\n  'Keen.io': NAME,\n  keen: NAME,\n  'keen.io': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'PINTEREST_TAG';\nconst CNameMapping = {\n  [NAME]: NAME,\n  PinterestTag: NAME,\n  Pinterest_Tag: NAME,\n  PINTERESTTAG: NAME,\n  pinterest: NAME,\n  PinterestAds: NAME,\n  Pinterest_Ads: NAME,\n  Pinterest: NAME,\n  'Pinterest Tag': NAME,\n  'Pinterest tag': NAME,\n  'PINTEREST TAG': NAME,\n  'pinterest tag': NAME,\n  'Pinterest Ads': NAME,\n  'Pinterest ads': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'GA360';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'Google Analytics 360': NAME,\n  'Google analytics 360': NAME,\n  'google analytics 360': NAME,\n  'Google Analytics360': NAME,\n  'Google analytics360': NAME,\n  'google analytics360': NAME,\n  GoogleAnalytics360: NAME,\n  'GA 360': NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'ADROLL';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Adroll: NAME,\n  'Ad roll': NAME,\n  'ad roll': NAME,\n  adroll: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = 'DCM_FLOODLIGHT';\nconst CNameMapping = {\n  [NAME]: NAME,\n  'DCM Floodlight': NAME,\n  'dcm floodlight': NAME,\n  'Dcm Floodlight': NAME,\n  DCMFloodlight: NAME,\n  dcmfloodlight: NAME,\n  DcmFloodlight: NAME,\n  dcm_floodlight: NAME,\n  DCM_Floodlight: NAME,\n};\nconst GTAG = 'globalSiteTag';\n\nexport { NAME, CNameMapping, GTAG };\n","const NAME = 'YANDEX_METRICA';\nconst CNameMapping = {\n  [NAME]: NAME,\n  Yandexmetrica: NAME,\n  yandexmetrica: NAME,\n  yandexMetrica: NAME,\n  YandexMetrica: NAME,\n};\n\nexport { NAME, CNameMapping };\n","const NAME = \"SATISMETER\";\nconst CNameMapping = {\n  [NAME]: NAME,\n  Satismeter: NAME,\n  SatisMeter: NAME,\n  SATISMETER: NAME,\n};\n\nexport { NAME, CNameMapping };\n","import { CNameMapping as AdobeAnalytics } from '../integrations/AdobeAnalytics/constants';\nimport { CNameMapping as Amplitude } from '../integrations/Amplitude/constants';\nimport { CNameMapping as Appcues } from '../integrations/Appcues/constants';\nimport { CNameMapping as BingAds } from '../integrations/BingAds/constants';\nimport { CNameMapping as Braze } from '../integrations/Braze/constants';\nimport { CNameMapping as Bugsnag } from '../integrations/Bugsnag/constants';\nimport { CNameMapping as Chartbeat } from '../integrations/Chartbeat/constants';\nimport { CNameMapping as Clevertap } from '../integrations/Clevertap/constants';\nimport { CNameMapping as Comscore } from '../integrations/Comscore/constants';\nimport { CNameMapping as Criteo } from '../integrations/Criteo/constants';\nimport { CNameMapping as CustomerIO } from '../integrations/CustomerIO/constants';\nimport { CNameMapping as Drip } from '../integrations/Drip/constants';\nimport { CNameMapping as FacebookPixel } from '../integrations/FacebookPixel/constants';\nimport { CNameMapping as Fullstory } from '../integrations/Fullstory/constants';\nimport { CNameMapping as GA } from '../integrations/GA/constants';\nimport { CNameMapping as GA4 } from '../integrations/GA4/constants';\nimport { CNameMapping as GoogleAds } from '../integrations/GoogleAds/constants';\nimport { CNameMapping as GoogleOptimize } from '../integrations/GoogleOptimize/constants';\nimport { CNameMapping as GoogleTagManager } from '../integrations/GoogleTagManager/constants';\nimport { CNameMapping as Heap } from '../integrations/Heap/constants';\nimport { CNameMapping as Hotjar } from '../integrations/Hotjar/constants';\nimport { CNameMapping as HubSpot } from '../integrations/HubSpot/constants';\nimport { CNameMapping as INTERCOM } from '../integrations/INTERCOM/constants';\nimport { CNameMapping as Keen } from '../integrations/Keen/constants';\nimport { CNameMapping as Kissmetrics } from '../integrations/Kissmetrics/constants';\nimport { CNameMapping as Klaviyo } from '../integrations/Klaviyo/constants';\nimport { CNameMapping as LaunchDarkly } from '../integrations/LaunchDarkly/constants';\nimport { CNameMapping as LinkedInInsightTag } from '../integrations/LinkedInInsightTag/constants';\nimport { CNameMapping as Lotame } from '../integrations/Lotame/constants';\nimport { CNameMapping as Lytics } from '../integrations/Lytics/constants';\nimport { CNameMapping as Mixpanel } from '../integrations/Mixpanel/constants';\nimport { CNameMapping as MoEngage } from '../integrations/MoEngage/constants';\nimport { CNameMapping as Optimizely } from '../integrations/Optimizely/constants';\nimport { CNameMapping as Pendo } from '../integrations/Pendo/constants';\nimport { CNameMapping as PinterestTag } from '../integrations/PinterestTag/constants';\nimport { CNameMapping as PostAffiliatePro } from '../integrations/PostAffiliatePro/constants';\nimport { CNameMapping as Posthog } from '../integrations/Posthog/constants';\nimport { CNameMapping as ProfitWell } from '../integrations/ProfitWell/constants';\nimport { CNameMapping as Qualtrics } from '../integrations/Qualtrics/constants';\nimport { CNameMapping as QuantumMetric } from '../integrations/QuantumMetric/constants';\nimport { CNameMapping as RedditPixel } from '../integrations/RedditPixel/constants';\nimport { CNameMapping as Sentry } from '../integrations/Sentry/constants';\nimport { CNameMapping as SnapPixel } from '../integrations/SnapPixel/constants';\nimport { CNameMapping as TVSquared } from '../integrations/TVSquared/constants';\nimport { CNameMapping as VWO } from '../integrations/VWO/constants';\nimport { CNameMapping as GA360 } from '../integrations/GA360/constants';\nimport { CNameMapping as Adroll } from '../integrations/Adroll/constants';\nimport { CNameMapping as DCMFloodlight } from '../integrations/DCMFloodlight/constants';\nimport { CNameMapping as Matomo } from '../integrations/Matomo/constants';\nimport { CNameMapping as Vero } from '../integrations/Vero/constants';\nimport { CNameMapping as Mouseflow } from '../integrations/Mouseflow/constants';\nimport { CNameMapping as Rockerbox } from '../integrations/Rockerbox/constants';\nimport { CNameMapping as ConvertFlow } from '../integrations/ConvertFlow/constants';\nimport { CNameMapping as SnapEngage } from '../integrations/SnapEngage/constants';\nimport { CNameMapping as LiveChat } from '../integrations/LiveChat/constants';\nimport { CNameMapping as Shynet } from '../integrations/Shynet/constants';\nimport { CNameMapping as Woopra } from '../integrations/Woopra/constants';\nimport { CNameMapping as RollBar } from '../integrations/RollBar/constants';\nimport { CNameMapping as QuoraPixel } from '../integrations/QuoraPixel/constants';\nimport { CNameMapping as June } from '../integrations/June/constants';\nimport { CNameMapping as Engage } from '../integrations/Engage/constants';\nimport { CNameMapping as Iterable } from '../integrations/Iterable/constants';\nimport { CNameMapping as YandexMetrica } from '../integrations/YandexMetrica/constants';\nimport { CNameMapping as Refiner } from '../integrations/Refiner/constants';\nimport { CNameMapping as Qualaroo } from '../integrations/Qualaroo/constants';\nimport { CNameMapping as Podsights } from '../integrations/Podsights/constants';\nimport { CNameMapping as Axeptio } from '../integrations/Axeptio/constants';\nimport { CNameMapping as SatisMeter } from '../integrations/Satismeter/constants';\nimport { CNameMapping as MicrosoftClarity } from '../integrations/MicrosoftClarity/constants';\nimport { CNameMapping as Sendinblue } from '../integrations/Sendinblue/constants';\nimport { CNameMapping as Olark } from '../integrations/Olark/constants';\nimport { CNameMapping as Lemnisk } from '../integrations/Lemnisk/constants';\n\n// for sdk side native integration identification\n// add a mapping from common names to index.js exported key names as identified by Rudder\nconst commonNames = {\n  All: 'All',\n  ...AdobeAnalytics,\n  ...Amplitude,\n  ...Appcues,\n  ...BingAds,\n  ...Braze,\n  ...Bugsnag,\n  ...Chartbeat,\n  ...Clevertap,\n  ...Comscore,\n  ...Criteo,\n  ...CustomerIO,\n  ...Drip,\n  ...FacebookPixel,\n  ...Fullstory,\n  ...GA,\n  ...GA4,\n  ...GA360,\n  ...GoogleAds,\n  ...GoogleOptimize,\n  ...GoogleTagManager,\n  ...Heap,\n  ...Hotjar,\n  ...HubSpot,\n  ...INTERCOM,\n  ...Keen,\n  ...Kissmetrics,\n  ...Klaviyo,\n  ...LaunchDarkly,\n  ...LinkedInInsightTag,\n  ...Lotame,\n  ...Lytics,\n  ...Mixpanel,\n  ...MoEngage,\n  ...Optimizely,\n  ...Pendo,\n  ...PinterestTag,\n  ...PostAffiliatePro,\n  ...Posthog,\n  ...ProfitWell,\n  ...Qualtrics,\n  ...QuantumMetric,\n  ...RedditPixel,\n  ...Sentry,\n  ...SnapPixel,\n  ...TVSquared,\n  ...VWO,\n  ...Adroll,\n  ...DCMFloodlight,\n  ...Matomo,\n  ...Vero,\n  ...Mouseflow,\n  ...ConvertFlow,\n  ...SnapEngage,\n  ...LiveChat,\n  ...Shynet,\n  ...Woopra,\n  ...RollBar,\n  ...QuoraPixel,\n  ...June,\n  ...Engage,\n  ...Iterable,\n  ...Rockerbox,\n  ...YandexMetrica,\n  ...Refiner,\n  ...Qualaroo,\n  ...Podsights,\n  ...Axeptio,\n  ...SatisMeter,\n  ...MicrosoftClarity,\n  ...Sendinblue,\n  ...Olark,\n  ...Lemnisk,\n};\n\nexport { commonNames };\n","import logger from './logUtil';\nimport { LOAD_ORIGIN, ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME } from './constants';\n\n/**\n * This function is to send handled errors to available error reporting client\n *\n * @param {Error} error Error instance from handled error\n */\nfunction notifyError(error) {\n  const errorReportingClient =\n    window.rudderanalytics && window.rudderanalytics[ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME];\n\n  if (errorReportingClient) {\n    errorReportingClient.notify(error);\n  }\n}\n\nfunction normaliseError(error, customMessage, analyticsInstance) {\n  let errorMessage;\n  try {\n    if (typeof error === 'string') {\n      errorMessage = error;\n    } else if (error instanceof Error) {\n      errorMessage = error.message;\n    } else {\n      errorMessage = error.message ? error.message : JSON.stringify(error);\n    }\n  } catch (e) {\n    errorMessage = '';\n  }\n\n  if (error instanceof Event) {\n    // Discard all the non-script loading errors\n    if (error.target && error.target.localName !== 'script') {\n      return '';\n    }\n\n    // Discard script errors that are not originated at SDK or from native SDKs\n    if (\n      error.target.dataset &&\n      (error.target.dataset.loader !== LOAD_ORIGIN ||\n        error.target.dataset.isNonNativeSDK !== 'true')\n    )\n      return '';\n\n    errorMessage = `error in script loading:: src::  ${error.target.src} id:: ${error.target.id}`;\n\n    // SDK triggered ad-blocker script\n    if (error.target.id === 'ad-block') {\n      analyticsInstance.page(\n        'RudderJS-Initiated',\n        'ad-block page request',\n        { path: '/ad-blocked', title: errorMessage },\n        analyticsInstance.sendAdblockPageOptions,\n      );\n      // No need to proceed further for Ad-block errors\n      return '';\n    }\n  }\n\n  const customErrMessagePrefix = customMessage || '';\n  return `[handleError]::${customErrMessagePrefix} \"${errorMessage}\"`;\n}\n\nfunction handleError(error, customMessage, analyticsInstance) {\n  let errorMessage;\n\n  try {\n    errorMessage = normaliseError(error, customMessage, analyticsInstance);\n  } catch (err) {\n    logger.error('[handleError] Exception:: ', err);\n    logger.error('[handleError] Original error:: ', JSON.stringify(error));\n    notifyError(err);\n  }\n\n  if (!errorMessage) {\n    return;\n  }\n\n  logger.error(errorMessage);\n  let errorObj = error;\n  if (!(error instanceof Error)) errorObj = new Error(errorMessage);\n  notifyError(errorObj);\n}\n\nexport { notifyError, handleError, normaliseError };\n","// Reserved Keywords for properties/traits\nconst RESERVED_KEYS = [\n  'anonymous_id',\n  'id',\n  'sent_at',\n  'received_at',\n  'timestamp',\n  'original_timestamp',\n  'event_text',\n  'event',\n];\n\nconst CONFIG_URL =\n  'https://api.rudderlabs.com/sourceConfig/?p=__MODULE_TYPE__&v=__PACKAGE_VERSION__';\nconst SDK_CDN_BASE_URL = 'https://cdn.rudderlabs.com';\nconst CDN_ARCH_VERSION_DIR = 'v1.1';\nconst CDN_INT_DIR = 'js-integrations';\nconst DEST_SDK_BASE_URL = `${SDK_CDN_BASE_URL}/${CDN_ARCH_VERSION_DIR}/${CDN_INT_DIR}`;\n\nconst MAX_WAIT_FOR_INTEGRATION_LOAD = 10000;\nconst INTEGRATION_LOAD_CHECK_INTERVAL = 1000;\nconst INTG_SUFFIX = '_RS';\nconst POLYFILL_URL =\n  'https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.find%2CArray.prototype.includes%2CPromise%2CString.prototype.endsWith%2CString.prototype.includes%2CString.prototype.startsWith%2CObject.entries%2CObject.values%2CElement.prototype.dataset%2CString.prototype.replaceAll';\n\nconst GENERIC_TRUE_VALUES = ['true', 'True', 'TRUE', 't', 'T', '1'];\nconst GENERIC_FALSE_VALUES = ['false', 'False', 'FALSE', 'f', 'F', '0'];\n\nconst SAMESITE_COOKIE_OPTS = ['Lax', 'None', 'Strict'];\n\nconst DEFAULT_SESSION_TIMEOUT = 30 * 60 * 1000; // 30 min in milliseconds\nconst MIN_SESSION_TIMEOUT = 10 * 1000; // 10 sec in milliseconds\nconst MIN_SESSION_ID_LENGTH = 10;\n\nconst ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME = 'errorReporting';\nconst LOAD_ORIGIN = 'RS_JS_SDK';\n\nconst DEFAULT_REGION = 'US';\nconst DEFAULT_DATAPLANE_URL = 'https://hosted.rudderlabs.com';\n\nconst RESIDENCY_SERVERS = [DEFAULT_REGION, 'EU'];\n\nconst SUPPORTED_CONSENT_MANAGERS = ['oneTrust'];\n\nconst SYSTEM_KEYWORDS = ['library', 'consentManagement'];\nconst UA_CH_LEVELS = ['none', 'default', 'full'];\n\nexport {\n  RESERVED_KEYS,\n  CONFIG_URL,\n  SDK_CDN_BASE_URL,\n  CDN_ARCH_VERSION_DIR,\n  CDN_INT_DIR,\n  DEST_SDK_BASE_URL,\n  MAX_WAIT_FOR_INTEGRATION_LOAD,\n  INTEGRATION_LOAD_CHECK_INTERVAL,\n  INTG_SUFFIX,\n  POLYFILL_URL,\n  GENERIC_TRUE_VALUES,\n  GENERIC_FALSE_VALUES,\n  SAMESITE_COOKIE_OPTS,\n  DEFAULT_SESSION_TIMEOUT,\n  MIN_SESSION_TIMEOUT,\n  MIN_SESSION_ID_LENGTH,\n  ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME,\n  LOAD_ORIGIN,\n  DEFAULT_REGION,\n  DEFAULT_DATAPLANE_URL,\n  RESIDENCY_SERVERS,\n  SUPPORTED_CONSENT_MANAGERS,\n  SYSTEM_KEYWORDS,\n  UA_CH_LEVELS,\n};\n","// import * as XMLHttpRequestNode from \"Xmlhttprequest\";\nimport get from 'get-value';\nimport { v4 as uuid } from '@lukeed/uuid';\nimport { v4 as uuidSecure } from '@lukeed/uuid/secure';\nimport logger from './logUtil';\nimport { commonNames } from './integration_cname';\nimport { clientToServerNames } from './client_server_name';\nimport {\n  CONFIG_URL,\n  RESERVED_KEYS,\n  DEFAULT_REGION,\n  RESIDENCY_SERVERS,\n  SUPPORTED_CONSENT_MANAGERS,\n} from './constants';\nimport { handleError } from './errorHandler';\n\n/**\n *\n * Utility method for excluding null and empty values in JSON\n * @param {*} key\n * @param {*} value\n * @returns\n */\nfunction replacer(key, value) {\n  if (value === null || value === undefined) {\n    return undefined;\n  }\n  return value;\n}\n\n/**\n * Utility method to remove '/' at the end of URL\n * @param {*} inURL\n */\nfunction removeTrailingSlashes(inURL) {\n  return inURL && inURL.endsWith('/') ? inURL.replace(/\\/+$/, '') : inURL;\n}\n\n/**\n *\n * Utility function for UUID generation\n * @returns\n */\nfunction generateUUID() {\n  if (window.crypto && typeof window.crypto.getRandomValues === 'function') {\n    return uuidSecure();\n  }\n\n  return uuid();\n}\n\n/**\n *\n * Utility function to get current time (formatted) for including in sent_at field\n * @returns\n */\nfunction getCurrentTimeFormatted() {\n  const curDateTime = new Date().toISOString();\n  // Keeping same as iso string\n  /* let curDate = curDateTime.split(\"T\")[0];\n  let curTimeExceptMillis = curDateTime\n    .split(\"T\")[1]\n    .split(\"Z\")[0]\n    .split(\".\")[0];\n  let curTimeMillis = curDateTime.split(\"Z\")[0].split(\".\")[1];\n  return curDate + \" \" + curTimeExceptMillis + \"+\" + curTimeMillis; */\n  return curDateTime;\n}\n\n/**\n *\n * Utility function to retrieve configuration JSON from server\n * @param {*} url\n * @param {*} wrappers\n * @param {*} isLoaded\n * @param {*} callback\n */\nfunction getJSON(url, wrappers, isLoaded, callback) {\n  // server-side integration, XHR is node module\n\n  const xhr = new XMLHttpRequest();\n\n  xhr.open('GET', url, false);\n  xhr.onload = function () {\n    const { status } = xhr;\n    if (status == 200) {\n      // logger.debug(\"status 200\");\n      callback(null, xhr.responseText, wrappers, isLoaded);\n    } else {\n      callback(status);\n    }\n  };\n  xhr.send();\n}\n\n/**\n *\n * Utility function to retrieve configuration JSON from server\n * @param {*} context\n * @param {*} url\n * @param {*} callback\n */\nfunction getJSONTrimmed(context, url, writeKey, callback) {\n  // server-side integration, XHR is node module\n  const cb_ = callback.bind(context);\n\n  const xhr = new XMLHttpRequest();\n\n  xhr.open('GET', url, true);\n  xhr.setRequestHeader(\n    'Authorization',\n    `Basic ${btoa(`${writeKey}:`)}`,\n    // `Basic ${Buffer.from(`${writeKey}:`).toString(\"base64\")}`\n  );\n\n  xhr.onload = function () {\n    const { status } = xhr;\n    if (status == 200) {\n      // logger.debug(\"status 200 \" + \"calling callback\");\n      cb_(200, xhr.responseText);\n    } else {\n      handleError(new Error(`request failed with status: ${xhr.status} for url: ${url}`));\n      cb_(status);\n    }\n  };\n  xhr.send();\n}\n\nfunction getCurrency(val) {\n  if (!val) return;\n  if (typeof val === 'number') {\n    return val;\n  }\n  if (typeof val !== 'string') {\n    return;\n  }\n\n  val = val.replace(/\\$/g, '');\n  val = parseFloat(val);\n\n  if (!isNaN(val)) {\n    return val;\n  }\n}\n\nfunction getRevenue(properties, eventName) {\n  let { revenue } = properties;\n  const orderCompletedRegExp = /^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;\n\n  // it's always revenue, unless it's called during an order completion.\n  if (!revenue && eventName && eventName.match(orderCompletedRegExp)) {\n    revenue = properties.total;\n  }\n\n  return getCurrency(revenue);\n}\n\nfunction transformNamesCore(integrationObject, namesObj) {\n  Object.keys(integrationObject).forEach((key) => {\n    if (integrationObject.hasOwnProperty(key)) {\n      if (namesObj[key]) {\n        integrationObject[namesObj[key]] = integrationObject[key];\n      }\n      if (key != 'All') {\n        // delete user supplied keys except All and if except those where oldkeys are not present or oldkeys are same as transformed keys\n        if (namesObj[key] != undefined && namesObj[key] != key) {\n          delete integrationObject[key];\n        }\n      }\n    }\n  });\n}\n\n/**\n *\n *\n * @param {*} integrationObject\n */\nfunction transformToRudderNames(integrationObject) {\n  transformNamesCore(integrationObject, commonNames);\n}\n\nfunction transformToServerNames(integrationObject) {\n  transformNamesCore(integrationObject, clientToServerNames);\n}\n\n/**\n *\n * @param {*} sdkSuppliedIntegrations\n * @param {*} configPlaneEnabledIntegrations\n */\nfunction findAllEnabledDestinations(sdkSuppliedIntegrations, configPlaneEnabledIntegrations) {\n  const enabledList = [];\n  if (!configPlaneEnabledIntegrations || configPlaneEnabledIntegrations.length === 0) {\n    return enabledList;\n  }\n  let allValue = true;\n  if (sdkSuppliedIntegrations.All !== undefined) {\n    allValue = sdkSuppliedIntegrations.All;\n  }\n  const intgData = [];\n  if (typeof configPlaneEnabledIntegrations[0] === 'string') {\n    configPlaneEnabledIntegrations.forEach((intg) => {\n      intgData.push({\n        intgName: intg,\n        intObj: intg,\n      });\n    });\n  } else if (typeof configPlaneEnabledIntegrations[0] === 'object') {\n    configPlaneEnabledIntegrations.forEach((intg) => {\n      intgData.push({\n        intgName: intg.name,\n        intObj: intg,\n      });\n    });\n  }\n\n  intgData.forEach(({ intgName, intObj }) => {\n    if (!allValue) {\n      // All false ==> check if intg true supplied\n      if (\n        sdkSuppliedIntegrations[intgName] != undefined &&\n        sdkSuppliedIntegrations[intgName] == true\n      ) {\n        enabledList.push(intObj);\n      }\n    } else {\n      // All true ==> intg true by default\n      let intgValue = true;\n      // check if intg false supplied\n      if (\n        sdkSuppliedIntegrations[intgName] != undefined &&\n        sdkSuppliedIntegrations[intgName] == false\n      ) {\n        intgValue = false;\n      }\n      if (intgValue) {\n        enabledList.push(intObj);\n      }\n    }\n  });\n\n  return enabledList;\n}\n\n/**\n * reject all null values from array/object\n * @param  {} obj\n * @param  {} fn\n */\nfunction rejectArr(obj, fn) {\n  fn = fn || compact;\n  return type(obj) == 'array' ? rejectarray(obj, fn) : rejectobject(obj, fn);\n}\n\n/**\n * particular case when rejecting an array\n * @param  {} arr\n * @param  {} fn\n */\nvar rejectarray = function (arr, fn) {\n  const ret = [];\n\n  for (let i = 0; i < arr.length; ++i) {\n    if (!fn(arr[i], i)) ret[ret.length] = arr[i];\n  }\n\n  return ret;\n};\n\n/**\n * Rejecting null from any object other than arrays\n * @param  {} obj\n * @param  {} fn\n *\n */\nvar rejectobject = function (obj, fn) {\n  const ret = {};\n\n  for (const k in obj) {\n    if (obj.hasOwnProperty(k) && !fn(obj[k], k)) {\n      ret[k] = obj[k];\n    }\n  }\n\n  return ret;\n};\n\nfunction compact(value) {\n  return value == null;\n}\n\n/**\n * check type of object incoming in the rejectArr function\n * @param  {} val\n */\nfunction type(val) {\n  switch (Object.prototype.toString.call(val)) {\n    case '[object Function]':\n      return 'function';\n    case '[object Date]':\n      return 'date';\n    case '[object RegExp]':\n      return 'regexp';\n    case '[object Arguments]':\n      return 'arguments';\n    case '[object Array]':\n      return 'array';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val === Object(val)) return 'object';\n\n  return typeof val;\n}\n\nfunction getUserProvidedConfigUrl(configUrl, defConfigUrl) {\n  let url = configUrl;\n  if (url.indexOf('sourceConfig') === -1) {\n    url = `${removeTrailingSlashes(url)}/sourceConfig/`;\n  }\n  url = url.slice(-1) === '/' ? url : `${url}/`;\n  const defQueryParams = defConfigUrl.split('?')[1];\n  const urlSplitItems = url.split('?');\n  if (urlSplitItems.length > 1 && urlSplitItems[1] !== defQueryParams) {\n    url = `${urlSplitItems[0]}?${defQueryParams}`;\n  } else {\n    url = `${url}?${defQueryParams}`;\n  }\n  return url;\n}\n/**\n * Check if a reserved keyword is present in properties/traits\n * @param {*} properties\n * @param {*} reservedKeywords\n * @param {*} type\n */\nfunction checkReservedKeywords(message, messageType) {\n  //  properties, traits, contextualTraits are either undefined or object\n  const { properties, traits } = message;\n  if (properties) {\n    Object.keys(properties).forEach((property) => {\n      if (RESERVED_KEYS.indexOf(property.toLowerCase()) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in properties--> ${property} with ${messageType} call`,\n        );\n      }\n    });\n  }\n  if (traits) {\n    Object.keys(traits).forEach((trait) => {\n      if (RESERVED_KEYS.indexOf(trait.toLowerCase()) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in traits--> ${trait} with ${messageType} call`,\n        );\n      }\n    });\n  }\n  const contextualTraits = message.context.traits;\n  if (contextualTraits) {\n    Object.keys(contextualTraits).forEach((contextTrait) => {\n      if (RESERVED_KEYS.indexOf(contextTrait.toLowerCase()) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in traits --> ${contextTrait} with ${messageType} call`,\n        );\n      }\n    });\n  }\n}\n\n/* ------- Start FlattenJson -----------\n * This function flatten given json object to single level.\n * So if there is nested object or array, all will appear in first level properties of an object.\n * Following is case we are handling in this function ::\n * condition 1: String\n * condition 2: Array\n * condition 3: Nested object\n */\nfunction recurse(cur, prop, result) {\n  const res = result;\n  if (Object(cur) !== cur) {\n    res[prop] = cur;\n  } else if (Array.isArray(cur)) {\n    const l = cur.length;\n    for (let i = 0; i < l; i += 1) recurse(cur[i], prop ? `${prop}.${i}` : `${i}`, res);\n    if (l === 0) res[prop] = [];\n  } else {\n    let isEmpty = true;\n    Object.keys(cur).forEach((key) => {\n      isEmpty = false;\n      recurse(cur[key], prop ? `${prop}.${key}` : key, res);\n    });\n    if (isEmpty) res[prop] = {};\n  }\n  return res;\n}\n\nfunction flattenJsonPayload(data, property = '') {\n  return recurse(data, property, {});\n}\n/* ------- End FlattenJson ----------- */\n/**\n *\n * @param {*} message\n * @param {*} destination\n * @param {*} keys\n * @param {*} exclusionFields\n * Extract fields from message with exclusions\n * Pass the keys of message for extraction and\n * exclusion fields to exclude and the payload to map into\n * -----------------Example-------------------\n * extractCustomFields(message,payload,[\"traits\", \"context.traits\", \"properties\"], \"email\",\n * [\"firstName\",\n * \"lastName\",\n * \"phone\",\n * \"title\",\n * \"organization\",\n * \"city\",\n * \"region\",\n * \"country\",\n * \"zip\",\n * \"image\",\n * \"timezone\"])\n * -------------------------------------------\n * The above call will map the fields other than the\n * exclusion list from the given keys to the destination payload\n *\n */\n\nfunction extractCustomFields(message, destination, keys, exclusionFields) {\n  keys.map((key) => {\n    const messageContext = get(message, key);\n    if (messageContext) {\n      const objKeys = [];\n      Object.keys(messageContext).map((k) => {\n        if (exclusionFields.indexOf(k) < 0) {\n          objKeys.push(k);\n        }\n      });\n      objKeys.map((k) => {\n        if (!(typeof messageContext[k] === 'undefined')) {\n          if (destination) {\n            destination[k] = get(messageContext, k);\n          } else {\n            destination = {\n              k: get(messageContext, k),\n            };\n          }\n        }\n      });\n    }\n  });\n  return destination;\n}\n/**\n *\n * @param {*} message\n *\n * Use get-value to retrieve defined traits from message traits\n */\nfunction getDefinedTraits(message) {\n  const traitsValue = {\n    userId:\n      get(message, 'userId') ||\n      get(message, 'context.traits.userId') ||\n      get(message, 'anonymousId'),\n    userIdOnly: get(message, 'userId') || get(message, 'context.traits.userId'),\n    email:\n      get(message, 'context.traits.email') ||\n      get(message, 'context.traits.Email') ||\n      get(message, 'context.traits.E-mail'),\n    phone: get(message, 'context.traits.phone') || get(message, 'context.traits.Phone'),\n    firstName:\n      get(message, 'context.traits.firstName') ||\n      get(message, 'context.traits.firstname') ||\n      get(message, 'context.traits.first_name'),\n    lastName:\n      get(message, 'context.traits.lastName') ||\n      get(message, 'context.traits.lastname') ||\n      get(message, 'context.traits.last_name'),\n    name: get(message, 'context.traits.name') || get(message, 'context.traits.Name'),\n    state:\n      get(message, 'context.traits.state') ||\n      get(message, 'context.traits.State') ||\n      get(message, 'context.traits.address.state') ||\n      get(message, 'context.traits.address.State'),\n    city:\n      get(message, 'context.traits.city') ||\n      get(message, 'context.traits.City') ||\n      get(message, 'context.traits.address.city') ||\n      get(message, 'context.traits.address.City'),\n    country:\n      get(message, 'context.traits.country') ||\n      get(message, 'context.traits.Country') ||\n      get(message, 'context.traits.address.country') ||\n      get(message, 'context.traits.address.Country'),\n  };\n\n  if (!get(traitsValue, 'name') && get(traitsValue, 'firstName') && get(traitsValue, 'lastName')) {\n    traitsValue.name = `${get(traitsValue, 'firstName')} ${get(traitsValue, 'lastName')}`;\n  }\n  return traitsValue;\n}\n\n/**\n * To check if a variable is storing object or not\n */\nconst isObject = (obj) => {\n  return type(obj) === 'object';\n};\n\n/**\n * To check if a variable is storing array or not\n */\nconst isArray = (obj) => {\n  return type(obj) === 'array';\n};\n\nconst isDefined = (x) => x !== undefined;\nconst isNotNull = (x) => x !== null;\nconst isDefinedAndNotNull = (x) => isDefined(x) && isNotNull(x);\n\nconst getDataFromSource = (src, dest, properties) => {\n  const data = {};\n  if (isArray(src)) {\n    for (let index = 0; index < src.length; index += 1) {\n      if (properties[src[index]]) {\n        data[dest] = properties[src[index]];\n        if (data) {\n          // return only if the value is valid.\n          // else look for next possible source in precedence\n          return data;\n        }\n      }\n    }\n  } else if (typeof src === 'string') {\n    if (properties[src]) {\n      data[dest] = properties[src];\n    }\n  }\n  return data;\n};\n\nconst getConfigUrl = (writeKey) => {\n  return CONFIG_URL.concat(CONFIG_URL.includes('?') ? '&' : '?').concat(\n    writeKey ? `writeKey=${writeKey}` : '',\n  );\n};\n\nconst getSDKUrlInfo = () => {\n  const scripts = document.getElementsByTagName('script');\n  let sdkURL;\n  let isStaging = false;\n  for (let i = 0; i < scripts.length; i += 1) {\n    const curScriptSrc = removeTrailingSlashes(scripts[i].getAttribute('src'));\n    if (curScriptSrc) {\n      const urlMatches = curScriptSrc.match(/^.*rudder-analytics(-staging)?(\\.min)?\\.js$/);\n      if (urlMatches) {\n        sdkURL = curScriptSrc;\n        isStaging = urlMatches[1] !== undefined;\n        break;\n      }\n    }\n  }\n  return { sdkURL, isStaging };\n};\n\n/**\n * Using this function we can create a payload from a mapping object.\n * @param {*} object = {\n   traits:{\n     name: \"abcd efgh\",\n     address: {\n       city: \"xyz\"\n     }\n   }\n  }\n * @param {*} mapper = [\n  {\n    destKey: \"userName\",\n    sourceKeys: \"traits.name\",\n  },\n  {\n    destKey: \"city\",\n    sourceKeys: \"traits.address.city\",\n  },\n]\n * @returns {\n   userName : \"abcd efgh\",\n   city : \"xyz\"\n }\n\n*/\nconst constructPayload = (object, mapper) => {\n  const payload = {};\n  if (object)\n    mapper.forEach((element) => {\n      if (!Array.isArray(element.sourceKeys)) {\n        payload[element.destKey] = get(object, element.sourceKeys);\n      } else {\n        for (let i = 0; i < element.sourceKeys.length; i += 1) {\n          if (get(object, element.sourceKeys[i])) {\n            payload[element.destKey] = get(object, element.sourceKeys[i]);\n            break;\n          }\n        }\n      }\n    });\n  return payload;\n};\n\nconst countDigits = (number) => {\n  return number ? number.toString().length : 0;\n};\n\n/**\n * A function to convert non-string IDs to string format\n * @param {any} id\n * @returns\n */\nconst getStringId = (id) => {\n  return typeof id === 'string' || typeof id === 'undefined' || id === null\n    ? id\n    : JSON.stringify(id);\n};\n\n/**\n * A function to validate and return Residency server input\n * @returns string/undefined\n */\nconst getResidencyServer = (options) => {\n  const region = options ? options.residencyServer : undefined;\n  if (region) {\n    if (typeof region !== 'string' || !RESIDENCY_SERVERS.includes(region.toUpperCase())) {\n      logger.error('Invalid residencyServer input');\n      return undefined;\n    }\n    return region.toUpperCase();\n  }\n  return undefined;\n};\n\nconst isValidServerUrl = (serverUrl) => {\n  if (!serverUrl || typeof serverUrl !== 'string' || serverUrl.trim().length === 0) {\n    return false;\n  }\n  return true;\n};\n\n/**\n * A function to get url from source config response\n * @param {array} urls    An array of objects containing urls\n * @returns\n */\nconst getDefaultUrlofRegion = (urls) => {\n  let url;\n  if (Array.isArray(urls) && urls.length) {\n    const obj = urls.find((elem) => elem.default === true);\n    if (obj && isValidServerUrl(obj.url)) {\n      return obj.url;\n    }\n  }\n  return url;\n};\n\n/**\n * A function to determine the dataPlaneUrl\n * @param {Object} dataPlaneUrls An object containing dataPlaneUrl for different region\n * @returns string\n */\nconst resolveDataPlaneUrl = (response, serverUrl, options) => {\n  try {\n    const dataPlanes = response.source.dataplanes || {};\n    // Check if dataPlanes object is present in source config\n    if (Object.keys(dataPlanes).length) {\n      const inputRegion = getResidencyServer(options);\n      const regionUrlArr = dataPlanes[inputRegion] || dataPlanes[DEFAULT_REGION];\n\n      if (regionUrlArr) {\n        const defaultUrl = getDefaultUrlofRegion(regionUrlArr);\n        if (defaultUrl) {\n          return defaultUrl;\n        }\n      }\n    }\n    // return the dataPlaneUrl provided in load API(if available)\n    if (isValidServerUrl(serverUrl)) {\n      return serverUrl;\n    }\n    // return the default dataPlaneUrl\n    // return DEFAULT_DATAPLANE_URL; // we do not want to divert the events to hosted data plane url\n\n    // Throw error if correct data plane url is not provided\n    throw Error('Unable to load the SDK due to invalid data plane url');\n  } catch (e) {\n    throw Error(e);\n  }\n};\n\n/**\n * Function to return the state of consent management based on config passed in load options\n * @param {Object} cookieConsentOptions\n * @returns\n */\nconst fetchCookieConsentState = (cookieConsentOptions) => {\n  let isEnabled = false;\n  // eslint-disable-next-line consistent-return\n  Object.keys(cookieConsentOptions).forEach((e) => {\n    const isSupportedAndEnabled =\n      SUPPORTED_CONSENT_MANAGERS.includes(e) &&\n      typeof cookieConsentOptions[e].enabled === 'boolean' &&\n      cookieConsentOptions[e].enabled === true;\n\n    if (isSupportedAndEnabled) {\n      isEnabled = true;\n    }\n  });\n  return isEnabled;\n};\n\nexport {\n  replacer,\n  generateUUID,\n  getCurrentTimeFormatted,\n  getJSONTrimmed,\n  getJSON,\n  getRevenue,\n  getUserProvidedConfigUrl,\n  findAllEnabledDestinations,\n  transformToRudderNames,\n  transformToServerNames,\n  rejectArr,\n  type,\n  flattenJsonPayload,\n  checkReservedKeywords,\n  extractCustomFields,\n  getDefinedTraits,\n  isObject,\n  isArray,\n  isDefinedAndNotNull,\n  getDataFromSource,\n  commonNames,\n  removeTrailingSlashes,\n  constructPayload,\n  getConfigUrl,\n  getSDKUrlInfo,\n  get,\n  countDigits,\n  getStringId,\n  resolveDataPlaneUrl,\n  fetchCookieConsentState,\n};\n","/* eslint-disable no-use-before-define */\n// import logger from \"../utils/logUtil\";\n\nimport { handleError } from \"./errorHandler\";\n\nconst defaultAsyncState = true;\n\nexport const LOAD_ORIGIN = 'RS_JS_SDK';\n/**\n * Script loader\n * @param {String} id                               Id of the script\n * @param {String} src                              URL of the script\n * @param {Object} options                          Object containing different configuration\n * @param {Boolean} options.async                   Determines script will be loaded asynchronously or not\n * @param {Boolean} options.isNonNativeSDK          Determines whether the script that will be loaded is one of RS's own\n * @param {Boolean} options.skipDatasetAttributes   Determines whether to add or skip dataset attribute\n */\nconst ScriptLoader = (id, src, options = {}) => {\n  try {\n    const exists = document.getElementById(id);\n    if (exists) {\n      // logger.debug(\"script already loaded\");\n      return;\n    }\n\n    const js = document.createElement('script');\n    js.src = src;\n    js.async = options.async === undefined ? defaultAsyncState : options.async;\n    js.type = 'text/javascript';\n    js.id = id;\n    // This checking is in place to skip the dataset attribute for some cases(while loading polyfill)\n    if (options.skipDatasetAttributes !== true) {\n      js.setAttribute('data-loader', LOAD_ORIGIN);\n      if (options.isNonNativeSDK !== undefined) {\n        js.setAttribute('data-isNonNativeSDK', options.isNonNativeSDK);\n      }\n    }\n    const headElmColl = document.getElementsByTagName('head');\n    if (headElmColl.length > 0) {\n      // logger.debug(\"==adding script==\", js);\n      headElmColl[0].insertBefore(js, headElmColl[0].firstChild);\n    } else {\n      const e = document.getElementsByTagName('script')[0];\n      // logger.debug(\"==parent script==\", e);\n      // logger.debug(\"==adding script==\", js);\n      e.parentNode.insertBefore(js, e);\n    }\n  } catch (e) {\n    handleError(e);\n  }\n};\n\nexport default ScriptLoader;\n","/* eslint-disable class-methods-use-this */\nimport is from 'is';\nimport each from 'component-each';\nimport logger from '../../utils/logUtil';\nimport { rejectArr } from '../../utils/utils';\nimport ScriptLoader from '../../utils/ScriptLoader';\nimport { NAME } from './constants';\n\nexport default class GA {\n  constructor(config, analytics, destinationInfo) {\n    if (analytics.logLevel) {\n      logger.setLogLevel(analytics.logLevel);\n    }\n    this.analytics = analytics;\n    this.trackingID = config.trackingID;\n    this.sendUserId = config.sendUserId || false;\n    this.dimensions = config.dimensions || [];\n    this.metrics = config.metrics || [];\n    this.contentGroupings = config.contentGroupings || [];\n    this.nonInteraction = config.nonInteraction || false;\n    this.anonymizeIp = config.anonymizeIp || false;\n    this.useGoogleAmpClientId = config.useGoogleAmpClientId || false;\n\n    this.domain = config.domain || 'auto';\n    this.doubleClick = config.doubleClick || false;\n    this.enhancedEcommerce = config.enhancedEcommerce || false;\n    this.enhancedLinkAttribution = config.enhancedLinkAttribution || false;\n\n    this.includeSearch = config.includeSearch || false;\n    this.setAllMappedProps = config.setAllMappedProps || true;\n    this.siteSpeedSampleRate = config.siteSpeedSampleRate || 1;\n    this.sampleRate = config.sampleRate || 100;\n    this.trackCategorizedPages = config.trackCategorizedPages || true;\n    this.trackNamedPages = config.trackNamedPages || true;\n    this.useRichEventNames = config.useRichEventNames || false;\n    this.optimizeContainerId = config.optimize || '';\n    this.resetCustomDimensionsOnPage = config.resetCustomDimensionsOnPage || [];\n    this.enhancedEcommerceLoaded = 0;\n    this.namedTracker = config.namedTracker || false;\n    this.name = NAME;\n    this.eventWithCategoryFieldProductScoped = [\n      'product clicked',\n      'product added',\n      'product viewed',\n      'product removed',\n    ];\n    this.areTransformationsConnected = destinationInfo && destinationInfo.areTransformationsConnected;\n    this.destinationId = destinationInfo && destinationInfo.destinationId;\n  }\n\n  initializeGlobalObject() {\n    window.GoogleAnalyticsObject = 'ga';\n    window.ga =\n      window.ga ||\n      function a() {\n        window.ga.q = window.ga.q || [];\n        window.ga.q.push(arguments);\n      };\n    window.ga.l = new Date().getTime();\n  }\n\n  loadScript() {\n    ScriptLoader('google-analytics', 'https://www.google-analytics.com/analytics.js');\n  }\n\n  init() {\n    this.pageCalled = false;\n    this.dimensionsArray = {};\n    let elementTo;\n    this.dimensions.forEach((element) => {\n      if (element.to.startsWith('dimension')) {\n        this.dimensionsArray[element.from] = element.to;\n      } else {\n        /* eslint-disable no-param-reassign */\n        elementTo = element.to.replace(/cd/g, 'dimension');\n        this.dimensionsArray[element.from] = elementTo;\n      }\n    });\n    this.metricsArray = {};\n    this.metrics.forEach((element) => {\n      if (element.to.startsWith('dimension')) {\n        this.metricsArray[element.from] = element.to;\n      } else {\n        elementTo = element.to.replace(/cm/g, 'metric');\n        this.metricsArray[element.from] = elementTo;\n      }\n    });\n    this.contentGroupingsArray = {};\n    this.contentGroupings.forEach((element) => {\n      this.contentGroupingsArray[element.from] = element.to;\n    });\n\n    if (this.analytics.loadIntegration) {\n      this.initializeGlobalObject();\n      this.loadScript();\n    }\n\n    // create ga with these properties. if the properties are empty it will take default values.\n    const config = {\n      cookieDomain: this.domain || GA.prototype.defaults.domain,\n      siteSpeedSampleRate: this.siteSpeedSampleRate,\n      sampleRate: this.sampleRate,\n      allowLinker: true,\n      useAmpClientId: this.useGoogleAmpClientId,\n    };\n\n    // set tracker name to rudderGATracker if on\n    if (this.namedTracker) {\n      config.name = 'rudderGATracker';\n      this.trackerName = 'rudderGATracker.';\n    } else {\n      this.trackerName = '';\n    }\n    window.ga('create', this.trackingID, config);\n\n    if (this.analytics.loadIntegration) {\n      if (this.optimizeContainerId) {\n        window.ga(`${this.trackerName}require`, this.optimizeContainerId);\n      }\n\n      // ecommerce is required\n      if (!this.ecommerce) {\n        window.ga(`${this.trackerName}require`, 'ecommerce');\n        this.ecommerce = true;\n      }\n\n      // this is to display advertising\n      if (this.doubleClick) {\n        window.ga(`${this.trackerName}require`, 'displayfeatures');\n      }\n\n      // https://support.google.com/analytics/answer/2558867?hl=en\n      if (this.enhancedLinkAttribution) {\n        window.ga(`${this.trackerName}require`, 'linkid');\n      }\n    }\n\n    // a warning is in ga debugger if anonymize is false after initialization\n    if (this.anonymizeIp) {\n      window.ga(`${this.trackerName}set`, 'anonymizeIp', true);\n    }\n\n    logger.debug('===in init GA===');\n  }\n\n  identify(rudderElement) {\n    // send global id\n    if (this.sendUserId && rudderElement.message.userId) {\n      window.ga(`${this.trackerName}set`, 'userId', rudderElement.message.userId);\n    }\n\n    // custom dimensions and metrics\n    const custom = this.metricsFunction(\n      rudderElement.message.context.traits,\n      this.dimensionsArray,\n      this.metricsArray,\n      this.contentGroupingsArray,\n    );\n\n    if (Object.keys(custom).length) {\n      window.ga(`${this.trackerName}set`, custom);\n    }\n\n    logger.debug('in GoogleAnalyticsManager identify');\n  }\n\n  track(rudderElement) {\n    const self = this;\n    // Ecommerce events\n    const { event, properties, name } = rudderElement.message;\n    const options = this.extractCheckoutOptions(rudderElement);\n    const props = rudderElement.message.properties;\n    const { products, revenue } = properties;\n    let { total } = properties;\n    const data = {};\n    const eventCategory = rudderElement.message.properties.category;\n    const orderId = properties.order_id;\n    const eventAction = event || name || '';\n    const eventLabel = rudderElement.message.properties.label;\n    let eventValue = '';\n    let payload;\n    const { campaign } = rudderElement.message.context;\n    let params;\n    let filters;\n    let sorts;\n    if (event === 'Order Completed' && !this.enhancedEcommerce) {\n      // order_id is required\n      if (!orderId) {\n        logger.debug('order_id not present events are not sent to GA');\n        return;\n      }\n\n      // add transaction\n      window.ga(`${this.trackerName}ecommerce:addTransaction`, {\n        affiliation: properties.affiliation,\n        shipping: properties.shipping,\n        revenue: total || revenue,\n        tax: properties.tax,\n        id: orderId,\n        currency: properties.currency,\n      });\n\n      // products added\n      products.forEach((product) => {\n        const productTrack = self.createProductTrack(rudderElement, product);\n\n        window.ga(`${this.trackerName}ecommerce:addItem`, {\n          category: productTrack.properties.category,\n          quantity: productTrack.properties.quantity,\n          price: productTrack.properties.price,\n          name: productTrack.properties.name,\n          sku: productTrack.properties.sku,\n          id: orderId,\n          currency: productTrack.properties.currency,\n        });\n      });\n\n      window.ga(`${this.trackerName}ecommerce:send`);\n    }\n\n    // enhanced ecommerce events\n    else if (this.enhancedEcommerce) {\n      switch (event) {\n        case 'Checkout Started':\n        case 'Checkout Step Viewed':\n        case 'Order Updated':\n          this.loadEnhancedEcommerce(rudderElement);\n          each(products, (product) => {\n            let productTrack = self.createProductTrack(rudderElement, product);\n            productTrack = { message: productTrack };\n\n            self.enhancedEcommerceTrackProduct(productTrack);\n          });\n\n          window.ga(`${this.trackerName}ec:setAction`, 'checkout', {\n            step: properties.step || 1,\n            option: options || undefined,\n          });\n\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Checkout Step Completed':\n          if (!props.step) {\n            logger.debug('step not present events are not sent to GA');\n            return;\n          }\n          params = {\n            step: props.step || 1,\n            option: options || undefined,\n          };\n\n          this.loadEnhancedEcommerce(rudderElement);\n\n          window.ga(`${this.trackerName}ec:setAction`, 'checkout_option', params);\n          window.ga(`${this.trackerName}send`, 'event', 'Checkout', 'Option');\n          break;\n        case 'Order Completed':\n          total =\n            rudderElement.message.properties.total || rudderElement.message.properties.revenue || 0;\n\n          if (!orderId) {\n            logger.debug('order_id not present events are not sent to GA');\n            return;\n          }\n          this.loadEnhancedEcommerce(rudderElement);\n\n          each(products, (product) => {\n            let productTrack = self.createProductTrack(rudderElement, product);\n            productTrack = { message: productTrack };\n            self.enhancedEcommerceTrackProduct(productTrack);\n          });\n          window.ga(`${this.trackerName}ec:setAction`, 'purchase', {\n            id: orderId,\n            affiliation: props.affiliation,\n            revenue: total || revenue,\n            tax: props.tax,\n            shipping: props.shipping,\n            coupon: props.coupon,\n          });\n\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Order Refunded':\n          if (!orderId) {\n            logger.debug('order_id not present events are not sent to GA');\n            return;\n          }\n          this.loadEnhancedEcommerce(rudderElement);\n\n          each(products, (product) => {\n            const track = { properties: product };\n            window.ga(`${this.trackerName}ec:addProduct`, {\n              id: track.properties.product_id || track.properties.id || track.properties.sku,\n              quantity: track.properties.quantity,\n            });\n          });\n\n          window.ga(`${this.trackerName}ec:setAction`, 'refund', {\n            id: orderId,\n          });\n\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Product Added':\n          this.loadEnhancedEcommerce(rudderElement);\n          this.enhancedEcommerceTrackProductAction(rudderElement, 'add', null);\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Product Removed':\n          this.loadEnhancedEcommerce(rudderElement);\n          this.enhancedEcommerceTrackProductAction(rudderElement, 'remove', null);\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Product Viewed':\n          this.loadEnhancedEcommerce(rudderElement);\n\n          if (props.list) data.list = props.list;\n          this.enhancedEcommerceTrackProductAction(rudderElement, 'detail', data);\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Product Clicked':\n          this.loadEnhancedEcommerce(rudderElement);\n\n          if (props.list) data.list = props.list;\n          this.enhancedEcommerceTrackProductAction(rudderElement, 'click', data);\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Promotion Viewed':\n          this.loadEnhancedEcommerce(rudderElement);\n          window.ga(`${this.trackerName}ec:addPromo`, {\n            id: props.promotion_id || props.id,\n            name: props.name,\n            creative: props.creative,\n            position: props.position,\n          });\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Promotion Clicked':\n          this.loadEnhancedEcommerce(rudderElement);\n\n          window.ga(`${this.trackerName}ec:addPromo`, {\n            id: props.promotion_id || props.id,\n            name: props.name,\n            creative: props.creative,\n            position: props.position,\n          });\n          window.ga(`${this.trackerName}ec:setAction`, 'promo_click', {});\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Product List Viewed':\n          this.loadEnhancedEcommerce(rudderElement);\n\n          each(products, (product) => {\n            const item = { properties: product };\n            if (!(item.properties.product_id || item.properties.sku) && !item.properties.name) {\n              logger.debug('product_id/sku/name of product not present events are not sent to GA');\n              return;\n            }\n            let impressionObj = {\n              id: item.properties.product_id || item.properties.sku,\n              name: item.properties.name,\n              category: item.properties.category || props.category,\n              list: props.list_id || props.category || 'products',\n              brand: item.properties.band,\n              variant: item.properties.variant,\n              price: item.properties.price,\n              position: self.getProductPosition(item, products),\n            };\n            impressionObj = {\n              ...impressionObj,\n              ...self.metricsFunction(\n                item.properties,\n                self.dimensionsArray,\n                self.metricsArray,\n                self.contentGroupingsArray,\n              ),\n            };\n            Object.keys(impressionObj).forEach((key) => {\n              if (impressionObj[key] === undefined) delete impressionObj[key];\n            });\n            window.ga(`${this.trackerName}ec:addImpression`, impressionObj);\n          });\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        case 'Product List Filtered':\n          props.filters = props.filters || [];\n          props.sorts = props.sorts || [];\n          filters = props.filters\n            .map((obj) => {\n              return `${obj.type}:${obj.value}`;\n            })\n            .join();\n          sorts = props.sorters\n            .map((obj) => {\n              return `${obj.type}:${obj.value}`;\n            })\n            .join();\n\n          this.loadEnhancedEcommerce(rudderElement);\n\n          each(products, (product) => {\n            const item = { properties: product };\n\n            if (!(item.properties.product_id || item.properties.sku) && !item.properties.name) {\n              logger.debug('product_id/sku/name of product not present events are not sent to GA');\n              return;\n            }\n\n            let impressionObj = {\n              id: item.properties.product_id || item.sku,\n              name: item.name,\n              category: item.category || props.category,\n              list: props.list_id || props.category || 'search results',\n              brand: props.brand,\n              variant: `${filters}::${sorts}`,\n              price: item.price,\n              position: self.getProductPosition(item, products),\n            };\n\n            impressionObj = {\n              impressionObj,\n              ...self.metricsFunction(\n                item.properties,\n                self.dimensionsArray,\n                self.metricsArray,\n                self.contentGroupingsArray,\n              ),\n            };\n            Object.keys(impressionObj).forEach((key) => {\n              if (impressionObj[key] === undefined) delete impressionObj[key];\n            });\n            window.ga(`${this.trackerName}ec:addImpression`, impressionObj);\n          });\n          this.pushEnhancedEcommerce(rudderElement);\n          break;\n        default:\n          if (rudderElement.message.properties) {\n            eventValue = rudderElement.message.properties.value\n              ? rudderElement.message.properties.value\n              : rudderElement.message.properties.revenue;\n          }\n\n          payload = {\n            eventCategory: eventCategory || 'All',\n            eventAction,\n            eventLabel,\n            eventValue: this.formatValue(eventValue),\n            // Allow users to override their nonInteraction integration setting for any single particluar event.\n            nonInteraction:\n              rudderElement.message.properties.nonInteraction !== undefined\n                ? !!rudderElement.message.properties.nonInteraction\n                : !!this.nonInteraction,\n          };\n\n          if (campaign) {\n            if (campaign.name) payload.campaignName = campaign.name;\n            if (campaign.source) payload.campaignSource = campaign.source;\n            if (campaign.medium) payload.campaignMedium = campaign.medium;\n            if (campaign.content) payload.campaignContent = campaign.content;\n            if (campaign.term) payload.campaignKeyword = campaign.term;\n          }\n\n          payload = {\n            payload,\n            ...this.setCustomDimenionsAndMetrics(rudderElement.message.properties),\n          };\n\n          window.ga(`${this.trackerName}send`, 'event', payload.payload);\n          logger.debug('in GoogleAnalyticsManager track');\n      }\n    } else {\n      if (rudderElement.message.properties) {\n        eventValue = rudderElement.message.properties.value\n          ? rudderElement.message.properties.value\n          : rudderElement.message.properties.revenue;\n      }\n\n      payload = {\n        eventCategory: eventCategory || 'All',\n        eventAction,\n        eventLabel,\n        eventValue: this.formatValue(eventValue),\n        // Allow users to override their nonInteraction integration setting for any single particluar event.\n        nonInteraction:\n          rudderElement.message.properties.nonInteraction !== undefined\n            ? !!rudderElement.message.properties.nonInteraction\n            : !!this.nonInteraction,\n      };\n\n      if (campaign) {\n        if (campaign.name) payload.campaignName = campaign.name;\n        if (campaign.source) payload.campaignSource = campaign.source;\n        if (campaign.medium) payload.campaignMedium = campaign.medium;\n        if (campaign.content) payload.campaignContent = campaign.content;\n        if (campaign.term) payload.campaignKeyword = campaign.term;\n      }\n\n      payload = {\n        payload,\n        ...this.setCustomDimenionsAndMetrics(rudderElement.message.properties),\n      };\n\n      window.ga(`${this.trackerName}send`, 'event', payload.payload);\n      logger.debug('in GoogleAnalyticsManager track');\n    }\n  }\n\n  page(rudderElement) {\n    logger.debug('in GoogleAnalyticsManager page');\n\n    const { category } = rudderElement.message.properties;\n    const eventProperties = rudderElement.message.properties;\n    let name;\n    if (rudderElement.message.properties.category && rudderElement.message.name) {\n      name = `${rudderElement.message.properties.category} ${rudderElement.message.name}`;\n    } else if (!rudderElement.message.properties.category && !rudderElement.message.name) {\n      name = '';\n    } else {\n      name = rudderElement.message.name || rudderElement.message.properties.category;\n    }\n\n    const campaign = rudderElement.message.context.campaign || {};\n    let pageview = {};\n    const pagePath = this.path(eventProperties, this.includeSearch);\n    const pageReferrer = rudderElement.message.properties.referrer || '';\n    let pageTitle;\n    if (!rudderElement.message.properties.category && !rudderElement.message.name)\n      pageTitle = eventProperties.title;\n    else if (!rudderElement.message.properties.category) pageTitle = rudderElement.message.name;\n    else if (!rudderElement.message.name) pageTitle = rudderElement.message.properties.category;\n    else pageTitle = name;\n\n    pageview.page = pagePath;\n    pageview.title = pageTitle;\n    pageview.location = eventProperties.url;\n\n    if (campaign) {\n      if (campaign.name) pageview.campaignName = campaign.name;\n      if (campaign.source) pageview.campaignSource = campaign.source;\n      if (campaign.medium) pageview.campaignMedium = campaign.medium;\n      if (campaign.content) pageview.campaignContent = campaign.content;\n      if (campaign.term) pageview.campaignKeyword = campaign.term;\n    }\n\n    const resetCustomDimensions = {};\n    for (let i = 0; i < this.resetCustomDimensionsOnPage.length; i += 1) {\n      const property = this.resetCustomDimensionsOnPage[i].resetCustomDimensionsOnPage;\n      if (this.dimensionsArray[property]) {\n        resetCustomDimensions[this.dimensionsArray[property]] = null;\n      }\n    }\n    window.ga(`${this.trackerName}set`, resetCustomDimensions);\n\n    // adds more properties to pageview which will be sent\n    pageview = {\n      ...pageview,\n      ...this.setCustomDimenionsAndMetrics(eventProperties),\n    };\n    const payload = {\n      page: pagePath,\n      title: pageTitle,\n    };\n    logger.debug(`referrer: ${pageReferrer}`);\n    logger.debug('document referrer: ', document.referrer);\n    if (pageReferrer !== document.referrer) payload.referrer = pageReferrer;\n\n    window.ga(`${this.trackerName}set`, payload);\n\n    if (this.pageCalled) delete pageview.location;\n\n    window.ga(`${this.trackerName}send`, 'pageview', pageview);\n\n    // categorized pages\n    if (category && this.trackCategorizedPages) {\n      if (this.useRichEventNames) {\n        rudderElement.message.event = `Viewed ${category} Page`;\n        rudderElement.message.type = 'track';\n      }\n      this.track(rudderElement, { nonInteraction: 1 });\n    }\n\n    // named pages\n    if (name && this.trackNamedPages) {\n      if (this.useRichEventNames) {\n        rudderElement.message.event = `Viewed ${name} Page`;\n        rudderElement.message.type = 'track';\n      }\n      this.track(rudderElement, { nonInteraction: 1 });\n    }\n    this.pageCalled = true;\n  }\n\n  isLoaded() {\n    logger.debug('in GA isLoaded');\n    return !!window.gaplugins;\n  }\n\n  isReady() {\n    return !!window.gaplugins;\n  }\n\n  /**\n   *\n   *\n   * @param  {} obj  incoming properties\n   * @param  {} dimensions   the dimension mapping which is entered by the user in the ui. Eg: firstName : dimension1\n   * @param  {} metrics  the metrics mapping which is entered by the user in the ui. Eg: age : metrics1\n   * @param  {} contentGroupings the contentGrouping mapping which is entered by the user in the ui. Eg: section : contentGrouping1\n   *\n   * This function maps these dimensions,metrics and contentGroupings with the incoming properties to send it to GA where the user has to set the corresponding dimension/metric/content group.\n   * For example if:\n   * if obj -> {age: 24}\n   * metrics -> {age: metric1}\n   * then the function will return {metric1:24} and it will be shown sent to GA if metric1 is set there.\n   *\n   * if obj -> {age: 24}\n   * metrics - {revenue: metric2}\n   * then the function will return {} as there is no corresponding mapping of metric.\n   *\n   */\n  metricsFunction(obj, dimensions, metrics, contentGroupings) {\n    const ret = {};\n\n    each([metrics, dimensions, contentGroupings], (group) => {\n      each(group, (prop, key) => {\n        let value = obj[prop];\n        if (is.boolean(value)) value = value.toString();\n        if (value || value === 0) ret[key] = value;\n      });\n    });\n\n    return ret;\n  }\n\n  formatValue(value) {\n    if (!value || value < 0) return 0;\n    return Math.round(value);\n  }\n\n  /**\n   * @param  {} props\n   * @param  {} inputs\n   */\n  setCustomDimenionsAndMetrics(props) {\n    const ret = {};\n    const custom = this.metricsFunction(\n      props,\n      this.dimensionsArray,\n      this.metricsArray,\n      this.contentGroupingsArray,\n    );\n    if (Object.keys(custom).length) {\n      if (this.setAllMappedProps) {\n        window.ga(`${this.trackerName}set`, custom);\n      } else {\n        Object.keys(custom).forEach((key) => {\n          ret[key] = custom[key];\n        });\n        // each(custom, (key, value) => {\n        //   ret[key] = value;\n        // });\n      }\n    }\n    return ret;\n  }\n\n  /**\n   *  Return the path based on `properties` and `options`\n   *\n   * @param  {} properties\n   * @param  {} includeSearch\n   */\n  path(properties, includeSearch) {\n    let str = properties.path;\n    if (properties) {\n      if (includeSearch && properties.search) {\n        str += properties.search;\n      }\n    }\n    return str;\n  }\n\n  /**\n   * Creates a track out of product properties\n   * @param  {} rudderElement\n   * @param  {} properties\n   */\n  createProductTrack(rudderElement, properties) {\n    const props = properties || {};\n    props.currency = properties.currency || rudderElement.message.properties.currency;\n    return { properties: props };\n  }\n\n  /**\n   * Loads ec.js (unless already loaded)\n   * @param  {} rudderElement\n   * @param  {} a\n   */\n  loadEnhancedEcommerce(rudderElement) {\n    if (this.enhancedEcommerceLoaded === 0) {\n      window.ga(`${this.trackerName}require`, 'ec');\n      this.enhancedEcommerceLoaded = 1;\n    }\n\n    window.ga(`${this.trackerName}set`, '&cu', rudderElement.message.properties.currency);\n  }\n\n  /**\n   * helper class to not repeat `ec:addProduct`\n   * @param  {} rudderElement\n   * @param  {} inputs\n   */\n  enhancedEcommerceTrackProduct(rudderElement) {\n    const props = rudderElement.message.properties;\n\n    let product = {\n      id: props.product_id || props.id || props.sku,\n      name: props.name,\n      category: props.category,\n      quantity: props.quantity,\n      price: props.price,\n      brand: props.brand,\n      variant: props.variant,\n      currency: props.currency,\n    };\n\n    if (props.position != null) {\n      product.position = Math.round(props.position);\n    }\n\n    const { coupon } = props;\n    if (coupon) product.coupon = coupon;\n    product = {\n      ...product,\n      ...this.metricsFunction(\n        props,\n        this.dimensionsArray,\n        this.metricsArray,\n        this.contentGroupingsArray,\n      ),\n    };\n\n    window.ga(`${this.trackerName}ec:addProduct`, product);\n  }\n\n  /**\n   * set action with data\n   * @param  {} rudderElement\n   * @param  {} action\n   * @param  {} data\n   * @param  {} inputs\n   */\n  enhancedEcommerceTrackProductAction(rudderElement, action, data) {\n    this.enhancedEcommerceTrackProduct(rudderElement);\n    window.ga(`${this.trackerName}ec:setAction`, action, data || {});\n  }\n\n  /**\n   * @param  {} rudderElement\n   * @param  {} inputs\n   */\n  pushEnhancedEcommerce(rudderElement) {\n    const args = rejectArr([\n      'send',\n      'event',\n      rudderElement.message.properties.category || 'EnhancedEcommerce',\n      rudderElement.message.event || 'Action not defined',\n      rudderElement.message.properties.label,\n      {\n        nonInteraction: 1,\n        ...this.setCustomDimenionsAndMetrics(rudderElement.message.properties),\n      },\n    ]);\n\n    let { event } = rudderElement.message;\n    event = event.toLowerCase();\n\n    if (this.eventWithCategoryFieldProductScoped.includes(event)) {\n      args[2] = 'EnhancedEcommerce';\n    }\n\n    window.ga.call(window, ...args);\n  }\n\n  /**\n   * @param  {} item\n   * @param  {} products\n   */\n  getProductPosition(item, products) {\n    const { position } = item.properties;\n\n    if (\n      typeof position !== 'undefined' &&\n      !Number.isNaN(Number(position)) &&\n      Number(position) > -1\n    ) {\n      return position;\n    }\n\n    return (\n      products\n        .map((x) => {\n          return x.product_id;\n        })\n        .indexOf(item.properties.product_id) + 1\n    );\n  }\n\n  /**\n   *extracts checkout options\n   * @param  {} rudderElement\n   */\n  extractCheckoutOptions(rudderElement) {\n    const options = [\n      rudderElement.message.properties.paymentMethod,\n      rudderElement.message.properties.shippingMethod,\n    ];\n    // remove all nulls and join with commas.\n    const valid = rejectArr(options);\n    return valid.length > 0 ? valid.join(', ') : null;\n  }\n}\n","/**\n * Purpose of this integration:\n * GA 360 is the enterprise version of Google Analytics. It is not different from GA. But in order Work GA 360 as\n * device-mode integration and maintain the same structure with others created this integration.\n * This GA360 class inherited all the properties from the GA class and whenever a method of this class is called,\n * underlying GA method will get called.\n */\n/* eslint-disable class-methods-use-this */\nimport { GA } from '../GA';\nimport logger from '../../utils/logUtil';\nimport { NAME } from './constants';\n\nclass GA360 extends GA {\n  constructor(config, analytics, destinationInfo) {\n    if (analytics.logLevel) {\n      logger.setLogLevel(analytics.logLevel);\n    }\n    super(config, analytics);\n    this.name = NAME;\n    this.areTransformationsConnected = destinationInfo && destinationInfo.areTransformationsConnected;\n    this.destinationId = destinationInfo && destinationInfo.destinationId;\n  }\n\n  init() {\n    logger.debug('===in init GA 360 ===');\n    return super.init();\n  }\n\n  identify(rudderElement) {\n    logger.debug('=========in GA 360 identify ==========');\n    return super.identify(rudderElement);\n  }\n\n  track(rudderElement) {\n    logger.debug('=========in GA 360 track ==========');\n    return super.track(rudderElement);\n  }\n\n  page(rudderElement) {\n    logger.debug('=========in GA 360 page ==========');\n    return super.page(rudderElement);\n  }\n\n  isLoaded() {\n    logger.debug('=========in GA 360 load ==========');\n    return super.isLoaded();\n  }\n\n  isReady() {\n    return super.isReady();\n  }\n}\n\nexport { GA360 };\n"],"names":["symbolValueOf","bigIntValueOf","Object","prototype","owns","objProto","hasOwnProperty","toStr","toString","Symbol","valueOf","BigInt","isActualNaN","value","NON_HOST_TYPES","boolean","number","string","undefined","base64Regex","hexRegex","is","a","type","_typeof","defined","empty","key","call","length","equal","other","getTime","hosted","host","instance","constructor","nil","undef","args","arguments","isStandardArguments","isOldArguments","array","arraylike","object","fn","callee","Array","isArray","bool","isFinite","Boolean","Number","date","valid","isNaN","element","HTMLElement","nodeType","error","window","alert","str","infinite","Infinity","decimal","divisibleBy","n","isDividendInfinite","isDivisorInfinite","isNonZeroNumber","integer","maximum","others","TypeError","len","minimum","nan","even","odd","ge","gt","le","lt","within","start","finish","primitive","hash","setInterval","regexp","base64","test","hex","symbol","bigint","is_1","componentType","val","globals","componentProps","p","arr","ret","i","indexOf","push","unique","replace","match","props","_","prefixed","re","map","expr","require$$0","e","require$$1","toFunction_1","toFunction","obj","defaultToFunction","objectToFunction","Function","prop","stripNested","get","RegExp","$0","$1","err","require$$2","componentEach","ctx","this","has","charAt","LOG_LEVEL","logger","logLevel","toUpperCase","_console2","console","log","apply","_console4","IDX","substring","_CNameMapping","CNameMapping","NAME","ADOBEANALYTICS","_defineProperty","_objectSpread","All","AdobeAnalytics","Amplitude","Appcues","BingAds","Braze","Bugsnag","Chartbeat","Clevertap","Comscore","Criteo","CustomerIO","Drip","FacebookPixel","Fullstory","GA","GA4","GA360","GoogleAds","GoogleOptimize","GoogleTagManager","Heap","Hotjar","HubSpot","INTERCOM","Keen","Kissmetrics","Klaviyo","LaunchDarkly","LinkedInInsightTag","Lotame","Lytics","Mixpanel","MoEngage","Optimizely","Pendo","PinterestTag","PostAffiliatePro","Posthog","ProfitWell","Qualtrics","QuantumMetric","RedditPixel","Sentry","SnapPixel","TVSquared","VWO","Adroll","DCMFloodlight","Matomo","Vero","Mouseflow","ConvertFlow","SnapEngage","LiveChat","Shynet","Woopra","RollBar","QuoraPixel","June","Engage","Iterable","Rockerbox","YandexMetrica","Refiner","Qualaroo","Podsights","Axeptio","SatisMeter","MicrosoftClarity","Sendinblue","Olark","Lemnisk","notifyError","errorReportingClient","rudderanalytics","notify","handleError","customMessage","analyticsInstance","errorMessage","Error","message","JSON","stringify","Event","target","localName","dataset","loader","isNonNativeSDK","src","id","page","path","title","sendAdblockPageOptions","customErrMessagePrefix","normaliseError","errorObj","rejectArr","compact","rejectarray","rejectobject","k","LOAD_ORIGIN","config","analytics","destinationInfo","_classCallCheck","trackingID","sendUserId","dimensions","metrics","contentGroupings","nonInteraction","anonymizeIp","useGoogleAmpClientId","domain","doubleClick","enhancedEcommerce","enhancedLinkAttribution","includeSearch","setAllMappedProps","siteSpeedSampleRate","sampleRate","trackCategorizedPages","trackNamedPages","useRichEventNames","optimizeContainerId","optimize","resetCustomDimensionsOnPage","enhancedEcommerceLoaded","namedTracker","name","eventWithCategoryFieldProductScoped","areTransformationsConnected","destinationId","_createClass","GoogleAnalyticsObject","ga","q","l","Date","options","document","getElementById","js","createElement","async","skipDatasetAttributes","setAttribute","headElmColl","getElementsByTagName","insertBefore","firstChild","parentNode","ScriptLoader","elementTo","_this","pageCalled","dimensionsArray","forEach","to","startsWith","from","metricsArray","contentGroupingsArray","loadIntegration","initializeGlobalObject","loadScript","cookieDomain","defaults","allowLinker","useAmpClientId","trackerName","ecommerce","concat","rudderElement","userId","custom","metricsFunction","context","traits","keys","payload","params","filters","sorts","_this2","self","_rudderElement$messag","event","properties","extractCheckoutOptions","products","revenue","total","eventCategory","category","orderId","order_id","eventAction","eventLabel","label","campaign","loadEnhancedEcommerce","each","product","createProductTrack","productTrack","enhancedEcommerceTrackProduct","step","option","pushEnhancedEcommerce","affiliation","tax","shipping","coupon","track","product_id","sku","quantity","enhancedEcommerceTrackProductAction","list","data","promotion_id","creative","position","item","impressionObj","list_id","brand","band","variant","price","getProductPosition","join","sorters","eventValue","formatValue","campaignName","source","campaignSource","medium","campaignMedium","content","campaignContent","term","campaignKeyword","setCustomDimenionsAndMetrics","currency","eventProperties","pageTitle","pageview","pagePath","pageReferrer","referrer","location","url","resetCustomDimensions","property","gaplugins","group","Math","round","search","action","toLowerCase","includes","_window$ga","x","paymentMethod","shippingMethod","_get","_getPrototypeOf"],"mappings":"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"}