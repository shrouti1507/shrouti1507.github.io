var MoEngage_RS=function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function r(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var o,a=Object.prototype.hasOwnProperty,s=String.prototype.charAt,u=Object.prototype.toString,l=function(e,t){return s.call(e,t)},c=function(e,t){return a.call(e,t)},d=function(e,t){t=t||c;for(var n=[],r=0,i=e.length;r<i;r+=1)t(e,r)&&n.push(String(r));return n},f=function(e){return null==e?[]:(t=e,"[object String]"===u.call(t)?d(e,l):function(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}(e)?d(e,c):function(e,t){t=t||c;var n=[];for(var r in e)t(e,r)&&n.push(String(r));return n}(e));var t},m=Object.prototype.toString,g="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===m.call(e)},p=function(e){return null!=e&&(g(e)||"function"!==e&&function(e){var n=t(e);return"number"===n||"object"===n&&"[object Number]"===m.call(e)}(e.length))},y=function(e,t){for(var n=0;n<t.length&&!1!==e(t[n],n,t);n+=1);},b=function(e,t){for(var n=f(t),r=0;r<n.length&&!1!==e(t[n[r]],n[r],t);r+=1);},h=function(e,t){return(p(t)?y:b).call(this,e,t)},_=4,v=function(e){switch(e.toUpperCase()){case"INFO":_=1;break;case"DEBUG":_=2;break;case"WARN":_=3;break;default:_=4}},w=function(){var e;_<=2&&(e=console).log.apply(e,arguments)},S=function(){var e;_<=4&&(e=console).error.apply(e,arguments)},j="MOENGAGE";r(o={},j,j),r(o,"MoEngage",j),r(o,"moengage",j),r(o,"Moengage",j),r(o,"Mo Engage",j),r(o,"mo engage",j),r(o,"Mo engage",j);var k={firstName:"first_name",lastName:"last_name",firstname:"first_name",lastname:"last_name",email:"email",phone:"mobile",name:"user_name",username:"user_name",userName:"user_name",gender:"gender",birthday:"birthday",id:null},E=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLoaded=function(){return w("in MoEngage isLoaded"),!!window.moeBannerText},this.isReady=function(){return w("in MoEngage isReady"),!!window.moeBannerText},n.logLevel&&v(n.logLevel),this.apiId=t.apiId,this.debug=t.debug,this.region=t.region,this.name=j,this.analyticsinstance=n,this.areTransformationsConnected=r&&r.areTransformationsConnected,this.destinationId=r&&r.destinationId}var t,r,i;return t=e,r=[{key:"init",value:function(){w("===in init MoEnagage==="),function(e,t,n,r,i,o,a,s){e.moengage_object=i;var u={},l=function(t){return function(){(e.moengage_q=e.moengage_q||[]).push({f:t,a:arguments})}},c=["track_event","add_user_attribute","add_first_name","add_last_name","add_email","add_mobile","add_user_name","add_gender","add_birthday","destroy_session","add_unique_user_id","moe_events","call_web_push","track","location_type_attribute"],d={onsite:["getData","registerCallback"]};for(var f in c)u[c[f]]=l(c[f]);for(var f in d)for(var m in d[f])null==u[f]&&(u[f]={}),u[f][d[f][m]]=l(f+"."+d[f][m]);o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.setAttribute("data-loader","RS_JS_SDK"),o.src=r,a.parentNode.insertBefore(o,a),e.moe=e.moe||function(){return s=arguments[0],u},o.onload=function(){s&&(e[i]=moe(s))}}(window,document,"script","https:"===document.location.protocol?"https://cdn.moengage.com/webpush/moe_webSdk.min.latest.js":"http://cdn.moengage.com/webpush/moe_webSdk.min.latest.js","Moengage"),"US"!==this.region?this.moeClient=window.moe({app_id:this.apiId,debug_logs:this.debug?1:0,cluster:"EU"===this.region?"eu":"in"}):this.moeClient=window.moe({app_id:this.apiId,debug_logs:this.debug?1:0}),this.initialUserId=this.analyticsinstance.userId}},{key:"track",value:function(e){if(w("inside track"),e.message){var t=e.message,n=t.event,r=t.properties,i=t.userId;i&&this.initialUserId!==i&&this.reset(),n?r?this.moeClient.track_event(n,r):this.moeClient.track_event(n):S("Event name not present")}else S("Payload not correct")}},{key:"reset",value:function(){w("inside reset"),this.initialUserId=this.analyticsinstance.userId,this.moeClient.destroy_session()}},{key:"identify",value:function(e){var t=this,n=e.message.userId,r=null;e.message.context&&(r=e.message.context.traits),this.initialUserId!==n&&this.reset(),n&&this.moeClient.add_unique_user_id(n),r&&h((function(e,n){if("name"===n&&t.moeClient.add_user_name(e),Object.prototype.hasOwnProperty.call(k,n)){var r="add_".concat(k[n]);t.moeClient[r](e)}else t.moeClient.add_user_attribute(n,e)}),r)}}],r&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();return e.MoEngage=E,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=MoEngage.min.js.map
