var PostAffiliatePro_RS=function(t){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,a(o.key),o)}}function o(t,e,i){return(e=a(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var r=function(t){return null!=t&&"object"===e(t)&&!1===Array.isArray(t)};function n(t,e,i){return"function"==typeof i.join?i.join(t):t[0]+e+t[1]}function s(t,e,i){return"function"!=typeof i.isValid||i.isValid(t,e)}function d(t){return r(t)||Array.isArray(t)||"function"==typeof t}var f=function(t,e){e.total&&t.setTotalCost(e.total),e.fixedCost&&t.setFixedCost(e.fixedCost),e.order_id&&t.setOrderID(e.order_id),e.data1&&t.setData1(e.data1),e.data2&&t.setData2(e.data2),e.data3&&t.setData3(e.data3),e.data4&&t.setData4(e.data4),e.data5&&t.setData5(e.data5),e.doNotDeleteCookies&&!0===e.doNotDeleteCookies&&t.doNotDeleteCookies(),e.status&&t.setStatus(e.status),e.currency&&t.setCurrency(e.currency),e.customCommision&&t.setCustomCommission(e.customCommision),e.channel&&t.setChannelID(e.channel),e.coupon&&t.setCoupon(e.coupon),e.campaignId&&t.setCampaignID(e.campaignId),e.affiliateId&&t.setAffiliateID(e.affiliateId)},c=4,l=function(t){switch(t.toUpperCase()){case"INFO":c=1;break;case"DEBUG":c=2;break;case"WARN":c=3;break;default:c=4}},u=function(){var t;c<=2&&(t=console).log.apply(t,arguments)},m=function(){var t;c<=4&&(t=console).error.apply(t,arguments)};function p(t){var e=window.rudderanalytics&&window.rudderanalytics.errorReporting;e&&e.notify(t)}function w(t,e,i){var o;try{o=function(t,e,i){var o;try{o="string"==typeof t?t:t instanceof Error||t.message?t.message:JSON.stringify(t)}catch(t){o=""}if(t instanceof Event){if(t.target&&"script"!==t.target.localName)return"";if(t.target.dataset&&("RS_JS_SDK"!==t.target.dataset.loader||"true"!==t.target.dataset.isNonNativeSDK))return"";if(o="error in script loading:: src::  ".concat(t.target.src," id:: ").concat(t.target.id),"ad-block"===t.target.id)return i.page("RudderJS-Initiated","ad-block page request",{path:"/ad-blocked",title:o},i.sendAdblockPageOptions),""}return"[handleError]::".concat(e||"",' "').concat(o,'"')}(t,e,i)}catch(e){m("[handleError] Exception:: ",e),m("[handleError] Original error:: ",JSON.stringify(t)),p(e)}if(o){m(o);var a=t;t instanceof Error||(a=new Error(o)),p(a)}}var h,k="RS_JS_SDK",y="POST_AFFILIATE_PRO";o(h={},y,y),o(h,"PostAffiliatePro",y),o(h,"Post_affiliate_pro",y),o(h,"Post Affiliate Pro",y),o(h,"Post affiliate pro",y),o(h,"post affiliate pro",y),o(h,"postaffiliatepro",y),o(h,"POSTAFFILIATEPRO",y);var g=function(){function t(e,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.logLevel&&l(i.logLevel),this.name=y,this.url=e.url,this.mergeProducts=e.mergeProducts,this.accountId=e.accountId,this.affLinkId=e.affLinkId,this.idName=e.idName,this.cookieLinkId=e.cookieLinkId,this.cookieName=e.cookieName,this.affiliateToCustomField=e.affiliateToCustomField,this.campaignToCustomField=e.campaignToCustomField,this.cookieDomain=e.cookieDomain,this.cookieToCustomField=e.cookieToCustomField,this.disableTrackingMethod=e.disableTrackingMethod,this.paramNameUserId=e.paramNameUserId,this.clickEvents=e.clickEvents,this.areTransformationsConnected=o&&o.areTransformationsConnected,this.destinationId=o&&o.destinationId}var e,o,a;return e=t,o=[{key:"init",value:function(){u("===in init Post Affiliate Pro==="),this.url?function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(document.getElementById(t))return;var o=document.createElement("script");o.src=e,o.async=void 0===i.async||i.async,o.type="text/javascript",o.id=t,!0!==i.skipDatasetAttributes&&(o.setAttribute("data-loader",k),void 0!==i.isNonNativeSDK&&o.setAttribute("data-isNonNativeSDK",i.isNonNativeSDK));var a=document.getElementsByTagName("head");if(a.length>0)a[0].insertBefore(o,a[0].firstChild);else{var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}}catch(r){w(r)}}("pap_x2s6df8d",this.url):u("URL is missing")}},{key:"isLoaded",value:function(){return u("===In isLoaded Post Affiliate Pro==="),!!window.PostAffTracker}},{key:"isReady",value:function(){return u("===In isReady Post Affiliate Pro==="),!!window.PostAffTracker&&(this.disableTrackingMethod||window.PostAffTracker.disableTrackingMethod("F"),this.paramNameUserId&&window.PostAffTracker.setParamNameUserId(this.paramNameUserId),this.accountId&&window.PostAffTracker.setAccountId(this.accountId),this.cookieDomain&&window.PostAffTracker.setCookieDomain(this.cookieDomain),this.cookieToCustomField&&window.PostAffTracker.writeCookieToCustomField(this.cookieToCustomField),this.affiliateToCustomField&&window.PostAffTracker.writeAffiliateToCustomField(this.affiliateToCustomField),this.campaignToCustomField&&window.PostAffTracker.writeCampaignToCustomField(this.campaignToCustomField),this.affLinkId&&this.idName&&window.PostAffTracker.writeAffiliateToLink(this.affLinkId,this.idName),this.cookieName&&this.cookieLinkId&&window.PostAffTracker.writeCookieToLink(this.cookieLinkId,this.cookieName),!0)}},{key:"identify",value:function(t){u("===In Post Affiliate Pro identify===");var e=function(t,e,i){if(r(i)||(i={default:i}),!d(t))return void 0!==i.default?i.default:t;"number"==typeof e&&(e=String(e));var o=Array.isArray(e),a="string"==typeof e,f=i.separator||".",c=i.joinChar||("string"==typeof f?f:".");if(!a&&!o)return t;if(a&&e in t)return s(e,t,i)?t[e]:i.default;var l=o?e:function(t,e,i){return"function"==typeof i.split?i.split(t):t.split(e)}(e,f,i),u=l.length,m=0;do{var p=l[m];for("number"==typeof p&&(p=String(p));p&&"\\"===p.slice(-1);)p=n([p.slice(0,-1),l[++m]||""],c,i);if(p in t){if(!s(p,t,i))return i.default;t=t[p]}else{for(var w=!1,h=m+1;h<u;)if(w=(p=n([p,l[h++]],c,i))in t){if(!s(p,t,i))return i.default;t=t[p],m=h-1;break}if(!w)return i.default}}while(++m<u&&d(t));return m===u?t:i.default}(t.message,"userId");window.PostAffTracker.setVisitorId(e)}},{key:"track",value:function(t){u("===In Post Affiliate Pro track===");var e=this.clickEvents?this.clickEvents.split(","):null,i=t.message,o=i.event,a=i.properties;if(e&&e.includes(o)&&(a&&(a.data1&&(window.Data1=a.data1),a.data2&&(window.Data2=a.data2),a.affiliateId&&(window.AffiliateID=a.affiliateId),a.bannerId&&(window.BannerID=a.bannerId),a.campaignId&&(window.CampaignID=a.campaignId),a.channel&&(window.Channel=a.channel)),window.PostAffTracker.track()),"Order Completed"===o){var r=a&&a.products?a.products:null;if(r)if(this.mergeProducts){window.sale=window.PostAffTracker.createSale(),window.sale&&f(window.sale,a);for(var n=[],s=0;s<r.length;s+=1)r[s].product_id&&n.push(r[s].product_id);var d=n.join();d&&window.sale.setProductID(d)}else for(var c=0;c<r.length;c+=1)window["sale".concat(c)]=window.PostAffTracker.createSale(),f(window["sale".concat(c)],a),r[c].product_id&&window["sale".concat(c)].setProductID(r[c].product_id);else window.sale=window.PostAffTracker.createSale();window.PostAffTracker.register()}}}],o&&i(e.prototype,o),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();return t.PostAffiliatePro=g,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=PostAffiliatePro.min.js.map
