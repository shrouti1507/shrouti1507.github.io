var DCMFloodlight_RS=function(t){"use strict";function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function i(t,e,r){return(e=u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=function(t){return null!=t&&"object"===n(t)&&!1===Array.isArray(t)},f=function(t,e,r){if(s(r)||(r={default:r}),!v(t))return void 0!==r.default?r.default:t;"number"==typeof e&&(e=String(e));var n=Array.isArray(e),o="string"==typeof e,i=r.separator||".",a=r.joinChar||("string"==typeof i?i:".");if(!o&&!n)return t;if(o&&e in t)return p(e,t,r)?t[e]:r.default;var c=n?e:function(t,e,r){if("function"==typeof r.split)return r.split(t);return t.split(e)}(e,i,r),u=c.length,l=0;do{var f=c[l];for("number"==typeof f&&(f=String(f));f&&"\\"===f.slice(-1);)f=d([f.slice(0,-1),c[++l]||""],a,r);if(f in t){if(!p(f,t,r))return r.default;t=t[f]}else{for(var g=!1,h=l+1;h<u;)if(g=(f=d([f,c[h++]],a,r))in t){if(!p(f,t,r))return r.default;t=t[f],l=h-1;break}if(!g)return r.default}}while(++l<u&&v(t));return l===u?t:r.default};function d(t,e,r){return"function"==typeof r.join?r.join(t):t[0]+e+t[1]}function p(t,e,r){return"function"!=typeof r.isValid||r.isValid(t,e)}function v(t){return s(t)||Array.isArray(t)||"function"==typeof t}var g=4,h=function(t){switch(t.toUpperCase()){case"INFO":g=1;break;case"DEBUG":g=2;break;case"WARN":g=3;break;default:g=4}},y=function(){var t;g<=1&&(t=console).info.apply(t,arguments)},b=function(){var t;g<=2&&(t=console).log.apply(t,arguments)},_=function(){var t;g<=4&&(t=console).error.apply(t,arguments)},m=["true","True","TRUE","t","T","1"],j=["false","False","FALSE","f","F","0"];function w(t){var e=window.rudderanalytics&&window.rudderanalytics.errorReporting;e&&t instanceof Error&&e.notify(t)}function O(t,e,r){var n;try{n=function(t,e,r){var n;try{n="string"==typeof t?t:t instanceof Error||t.message?t.message:JSON.stringify(t)}catch(t){n=""}if(t instanceof Event){if(t.target&&"script"!==t.target.localName)return"";if(t.target.dataset&&("RS_JS_SDK"!==t.target.dataset.loader||"true"!==t.target.dataset.isNonNativeSDK))return"";if(n="error in script loading:: src::  ".concat(t.target.src," id:: ").concat(t.target.id),"ad-block"===t.target.id)return r.page("RudderJS-Initiated","ad-block page request",{path:"/ad-blocked",title:n},r.sendAdblockPageOptions),""}return"[handleError]::".concat(e||"",' "').concat(n,'"')}(t,e,r)}catch(e){_("[handleError] Exception:: ",e),_("[handleError] Original error:: ",JSON.stringify(t)),w(e)}n&&(_(n),w(t))}var k="RS_JS_SDK";var S=function(t){return void 0===t},I={};!function(t,e){var r=9007199254740991,o="[object Map]",i="[object Promise]",a="[object Set]",c="[object WeakMap]",u="[object DataView]",s=/^\[object .+?Constructor\]$/,f="object"==n(l)&&l&&l.Object===Object&&l,d="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,p=f||d||Function("return this")(),v=e&&!e.nodeType&&e,g=v&&t&&!t.nodeType&&t,h=g&&g.exports===v;var y,b,_,m=Function.prototype,j=Object.prototype,w=p["__core-js_shared__"],O=(y=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",k=m.toString,S=j.hasOwnProperty,I=j.toString,A=RegExp("^"+k.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=h?p.Buffer:void 0,D=j.propertyIsEnumerable,F=C?C.isBuffer:void 0,E=(b=Object.keys,_=Object,function(t){return b(_(t))}),T=U(p,"DataView"),M=U(p,"Map"),P=U(p,"Promise"),N=U(p,"Set"),L=U(p,"WeakMap"),x=!D.call({valueOf:1},"valueOf"),R=V(T),$=V(M),G=V(P),q=V(N),B=V(L);function W(t){if(!Y(t)||function(t){return!!O&&O in t}(t))return!1;var e=X(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?A:s;return e.test(V(t))}function U(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return W(r)?r:void 0}var z=function(t){return I.call(t)};function V(t){if(null!=t){try{return k.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function J(t){return function(t){return function(t){return!!t&&"object"==n(t)}(t)&&H(t)}(t)&&S.call(t,"callee")&&(!D.call(t,"callee")||"[object Arguments]"==I.call(t))}(T&&z(new T(new ArrayBuffer(1)))!=u||M&&z(new M)!=o||P&&z(P.resolve())!=i||N&&z(new N)!=a||L&&z(new L)!=c)&&(z=function(t){var e=I.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?V(r):void 0;if(n)switch(n){case R:return u;case $:return o;case G:return i;case q:return a;case B:return c}return e});var K=Array.isArray;function H(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!X(t)}var Q=F||function(){return!1};function X(t){var e=Y(t)?I.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Y(t){var e=n(t);return!!t&&("object"==e||"function"==e)}t.exports=function(t){if(H(t)&&(K(t)||"string"==typeof t||"function"==typeof t.splice||Q(t)||J(t)))return!t.length;var e=z(t);if(e==o||e==a)return!t.size;if(x||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||j)}(t))return!E(t).length;for(var r in t)if(S.call(t,r))return!1;return!0}}({get exports(){return I},set exports(t){I=t}},I);var A=I,C={};!function(t,e){var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",c="[object Boolean]",u="[object Date]",s="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",v="[object Object]",g="[object Promise]",h="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",m="[object WeakMap]",j="[object ArrayBuffer]",w="[object DataView]",O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,S=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,C=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,F={};F["[object Float32Array]"]=F["[object Float64Array]"]=F["[object Int8Array]"]=F["[object Int16Array]"]=F["[object Int32Array]"]=F["[object Uint8Array]"]=F["[object Uint8ClampedArray]"]=F["[object Uint16Array]"]=F["[object Uint32Array]"]=!0,F[i]=F[a]=F[j]=F[c]=F[w]=F[u]=F[s]=F[f]=F[d]=F[p]=F[v]=F[h]=F[y]=F[b]=F[m]=!1;var E="object"==n(l)&&l&&l.Object===Object&&l,T="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,M=E||T||Function("return this")(),P=e&&!e.nodeType&&e,N=P&&t&&!t.nodeType&&t,L=N&&N.exports===P&&E.process,x=function(){try{return L&&L.binding("util")}catch(t){}}(),R=x&&x.isTypedArray;function $(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function G(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function q(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function B(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function W(t,e){return function(r){return t(e(r))}}function U(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var z,V=Array.prototype,J=Function.prototype,K=Object.prototype,H=M["__core-js_shared__"],Q=(z=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",X=J.toString,Y=K.hasOwnProperty,Z=K.toString,tt=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=M.Symbol,rt=M.Uint8Array,nt=W(Object.getPrototypeOf,Object),ot=K.propertyIsEnumerable,it=V.splice,at=Object.getOwnPropertySymbols,ct=W(Object.keys,Object),ut=$t(M,"DataView"),lt=$t(M,"Map"),st=$t(M,"Promise"),ft=$t(M,"Set"),dt=$t(M,"WeakMap"),pt=$t(Object,"create"),vt=Qt(ut),gt=Qt(lt),ht=Qt(st),yt=Qt(ft),bt=Qt(dt),_t=et?et.prototype:void 0,mt=_t?_t.valueOf:void 0,jt=_t?_t.toString:void 0;function wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.__data__=new kt;++e<r;)this.add(t[e])}function It(t){this.__data__=new Ot(t)}function At(t,e){var r=te(t)||Zt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!Y.call(t,i)||o&&("length"==i||Wt(i,n))||r.push(i);return r}function Ct(t,e){for(var r=t.length;r--;)if(Yt(t[r][0],e))return r;return-1}function Dt(t,e){for(var r=0,n=(e=Ut(e,t)?[e]:Nt(e)).length;null!=t&&r<n;)t=t[Ht(e[r++])];return r&&r==n?t:void 0}function Ft(t,e){return null!=t&&e in Object(t)}function Et(t,e,r,n,o){return t===e||(null==t||null==e||!oe(t)&&!ie(e)?t!=t&&e!=e:function(t,e,r,n,o,l){var f=te(t),g=te(e),m=a,O=a;f||(m=(m=Bt(t))==i?v:m);g||(O=(O=Bt(e))==i?v:O);var k=m==v&&!q(t),S=O==v&&!q(e),I=m==O;if(I&&!k)return l||(l=new It),f||ue(t)?Lt(t,e,r,n,o,l):function(t,e,r,n,o,i,a){switch(r){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case j:return!(t.byteLength!=e.byteLength||!n(new rt(t),new rt(e)));case c:case u:case p:return Yt(+t,+e);case s:return t.name==e.name&&t.message==e.message;case h:case b:return t==e+"";case d:var l=B;case y:var f=2&i;if(l||(l=U),t.size!=e.size&&!f)return!1;var v=a.get(t);if(v)return v==e;i|=1,a.set(t,e);var g=Lt(l(t),l(e),n,o,i,a);return a.delete(t),g;case _:if(mt)return mt.call(t)==mt.call(e)}return!1}(t,e,m,r,n,o,l);if(!(2&o)){var A=k&&Y.call(t,"__wrapped__"),C=S&&Y.call(e,"__wrapped__");if(A||C){var D=A?t.value():t,F=C?e.value():e;return l||(l=new It),r(D,F,n,o,l)}}if(!I)return!1;return l||(l=new It),function(t,e,r,n,o,i){var a=2&o,c=le(t),u=c.length,l=le(e).length;if(u!=l&&!a)return!1;var s=u;for(;s--;){var f=c[s];if(!(a?f in e:Y.call(e,f)))return!1}var d=i.get(t);if(d&&i.get(e))return d==e;var p=!0;i.set(t,e),i.set(e,t);var v=a;for(;++s<u;){var g=t[f=c[s]],h=e[f];if(n)var y=a?n(h,g,f,e,t,i):n(g,h,f,t,e,i);if(!(void 0===y?g===h||r(g,h,n,o,i):y)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=t.constructor,_=e.constructor;b==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,r,n,o,l)}(t,e,Et,r,n,o))}function Tt(t){return!(!oe(t)||(e=t,Q&&Q in e))&&(re(t)||q(t)?tt:C).test(Qt(t));var e}function Mt(t){return"function"==typeof t?t:null==t?fe:"object"==n(t)?te(t)?function(t,e){if(Ut(t)&&Vt(e))return Jt(Ht(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Dt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=Ut(e,t)?[e]:Nt(e);var n,o=-1,i=e.length;for(;++o<i;){var a=Ht(e[o]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;return!!(i=t?t.length:0)&&ne(i)&&Wt(a,i)&&(te(t)||Zt(t))}(t,e,Ft)}(r,t):Et(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=le(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,Vt(o)]}return e}(t);if(1==e.length&&e[0][2])return Jt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var c=r[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<i;){var u=(c=r[o])[0],l=t[u],s=c[1];if(a&&c[2]){if(void 0===l&&!(u in t))return!1}else{var f=new It;if(n)var d=n(l,s,u,t,e,f);if(!(void 0===d?Et(s,l,n,3,f):d))return!1}}return!0}(r,t,e)}}(t):Ut(e=t)?(r=Ht(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Dt(e,t)}}(e);var e,r}function Pt(t){if(!oe(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=zt(t),r=[];for(var n in t)("constructor"!=n||!e&&Y.call(t,n))&&r.push(n);return r}function Nt(t){return te(t)?t:Kt(t)}function Lt(t,e,r,n,o,i){var a=2&o,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var s=-1,f=!0,d=1&o?new St:void 0;for(i.set(t,e),i.set(e,t);++s<c;){var p=t[s],v=e[s];if(n)var g=a?n(v,p,s,e,t,i):n(p,v,s,t,e,i);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!G(e,(function(t,e){if(!d.has(e)&&(p===t||r(p,t,n,o,i)))return d.add(e)}))){f=!1;break}}else if(p!==v&&!r(p,v,n,o,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function xt(t){return function(t,e,r){var n=e(t);return te(t)?n:$(n,r(t))}(t,se,qt)}function Rt(t,e){var r,o,i=t.__data__;return("string"==(o=n(r=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function $t(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Tt(r)?r:void 0}wt.prototype.clear=function(){this.__data__=pt?pt(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(pt){var n=e[t];return n===r?void 0:n}return Y.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return pt?void 0!==e[t]:Y.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=pt&&void 0===e?r:e,this},Ot.prototype.clear=function(){this.__data__=[]},Ot.prototype.delete=function(t){var e=this.__data__,r=Ct(e,t);return!(r<0)&&(r==e.length-1?e.pop():it.call(e,r,1),!0)},Ot.prototype.get=function(t){var e=this.__data__,r=Ct(e,t);return r<0?void 0:e[r][1]},Ot.prototype.has=function(t){return Ct(this.__data__,t)>-1},Ot.prototype.set=function(t,e){var r=this.__data__,n=Ct(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new wt,map:new(lt||Ot),string:new wt}},kt.prototype.delete=function(t){return Rt(this,t).delete(t)},kt.prototype.get=function(t){return Rt(this,t).get(t)},kt.prototype.has=function(t){return Rt(this,t).has(t)},kt.prototype.set=function(t,e){return Rt(this,t).set(t,e),this},St.prototype.add=St.prototype.push=function(t){return this.__data__.set(t,r),this},St.prototype.has=function(t){return this.__data__.has(t)},It.prototype.clear=function(){this.__data__=new Ot},It.prototype.delete=function(t){return this.__data__.delete(t)},It.prototype.get=function(t){return this.__data__.get(t)},It.prototype.has=function(t){return this.__data__.has(t)},It.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Ot){var n=r.__data__;if(!lt||n.length<199)return n.push([t,e]),this;r=this.__data__=new kt(n)}return r.set(t,e),this};var Gt=at?W(at,Object):de,qt=at?function(t){for(var e=[];t;)$(e,Gt(t)),t=nt(t);return e}:de,Bt=function(t){return Z.call(t)};function Wt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t,e){if(te(t))return!1;var r=n(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ae(t))||(k.test(t)||!O.test(t)||null!=e&&t in Object(e))}function zt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||K)}function Vt(t){return t==t&&!oe(t)}function Jt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ut&&Bt(new ut(new ArrayBuffer(1)))!=w||lt&&Bt(new lt)!=d||st&&Bt(st.resolve())!=g||ft&&Bt(new ft)!=y||dt&&Bt(new dt)!=m)&&(Bt=function(t){var e=Z.call(t),r=e==v?t.constructor:void 0,n=r?Qt(r):void 0;if(n)switch(n){case vt:return w;case gt:return d;case ht:return g;case yt:return y;case bt:return m}return e});var Kt=Xt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ae(t))return jt?jt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return S.test(t)&&r.push(""),t.replace(I,(function(t,e,n,o){r.push(n?o.replace(A,"$1"):e||t)})),r}));function Ht(t){if("string"==typeof t||ae(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Xt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(Xt.Cache||kt),r}function Yt(t,e){return t===e||t!=t&&e!=e}function Zt(t){return function(t){return ie(t)&&ee(t)}(t)&&Y.call(t,"callee")&&(!ot.call(t,"callee")||Z.call(t)==i)}Xt.Cache=kt;var te=Array.isArray;function ee(t){return null!=t&&ne(t.length)&&!re(t)}function re(t){var e=oe(t)?Z.call(t):"";return e==f||"[object GeneratorFunction]"==e}function ne(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function oe(t){var e=n(t);return!!t&&("object"==e||"function"==e)}function ie(t){return!!t&&"object"==n(t)}function ae(t){return"symbol"==n(t)||ie(t)&&Z.call(t)==_}var ce,ue=R?(ce=R,function(t){return ce(t)}):function(t){return ie(t)&&ne(t.length)&&!!F[Z.call(t)]};function le(t){return ee(t)?At(t):function(t){if(!zt(t))return ct(t);var e=[];for(var r in Object(t))Y.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}function se(t){return ee(t)?At(t,!0):Pt(t)}function fe(t){return t}function de(){return[]}t.exports=function(t,e){return null==t?{}:function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],c=t[a];r(c,a)&&(i[a]=c)}return i}(t,xt(t),Mt(e))}}({get exports(){return C},set exports(t){C=t}},C);var D=C,F=9007199254740991,E="[object Arguments]",T="[object Function]",M="[object GeneratorFunction]",P="[object Symbol]",N="object"==n(l)&&l&&l.Object===Object&&l,L="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,x=N||L||Function("return this")();function R(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var $=Object.prototype,G=$.hasOwnProperty,q=$.toString,B=x.Symbol,W=$.propertyIsEnumerable,U=B?B.isConcatSpreadable:void 0,z=Math.max;function V(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=J),o||(o=[]);++i<a;){var c=t[i];e>0&&r(c)?e>1?V(c,e-1,r,n,o):R(o,c):n||(o[o.length]=c)}return o}function J(t){return X(t)||function(t){return function(t){return Y(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=F}(t.length)&&!function(t){var e=function(t){var e=n(t);return!!t&&("object"==e||"function"==e)}(t)?q.call(t):"";return e==T||e==M}(t)}(t)}(t)&&G.call(t,"callee")&&(!W.call(t,"callee")||q.call(t)==E)}(t)||!!(U&&t&&t[U])}function K(t){if("string"==typeof t||function(t){return"symbol"==n(t)||Y(t)&&q.call(t)==P}(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}var H,Q,X=Array.isArray;function Y(t){return!!t&&"object"==n(t)}H=function(t,e){return null==t?{}:function(t,e){return function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],c=t[a];r(c,a)&&(i[a]=c)}return i}(t=Object(t),e,(function(e,r){return r in t}))}(t,function(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(V(e,1),K))},Q=z(void 0===Q?H.length-1:Q,0);var Z="object"==n(l)&&l&&l.Object===Object&&l,tt="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,et=(Z||tt||Function("return this")()).Symbol,rt=et?et.prototype:void 0;rt&&rt.toString;var nt,ot=function(t){return!A(t)},it=function(t){return function(t){return!S(t)}(t)&&function(t){return null!=t}(t)},at=function(t){return D(t,it)},ct=function(t){return!(null==t||Number.isNaN(t)||"object"===n(t)&&0===Object.keys(t).length||"string"==typeof t&&0===t.trim().length)},ut="DCM_FLOODLIGHT";i(nt={},ut,ut),i(nt,"DCM Floodlight",ut),i(nt,"dcm floodlight",ut),i(nt,"Dcm Floodlight",ut),i(nt,"DCMFloodlight",ut),i(nt,"dcmfloodlight",ut),i(nt,"DcmFloodlight",ut),i(nt,"dcm_floodlight",ut),i(nt,"DCM_Floodlight",ut);var lt="globalSiteTag",st=function(t,e){if(m.includes(e.toString()))return 1;if(j.includes(e.toString()))return 0;throw Error("[DCM Floodlight]:: ".concat(t,": valid parameters are [1|true] or [0|false]"))},ft=function(t){return t&&t.length>0&&Array.isArray(t)?t.reduce((function(t,e){return e.quantity?t+e.quantity:t}),0):0},dt=function(t,e){var r={},n=t.integrations.DCM_FLOODLIGHT;n||(n=e.DCM_FLOODLIGHT),n&&(ct(n.COPPA)&&(r.tag_for_child_directed_treatment=st("COPPA",n.COPPA)),ct(n.GDPR)&&(r.tfua=st("GDPR",n.GDPR)),ct(n.npa)&&(r.npa=st("npa",n.npa)));var o=f(t,"properties.matchId");return o&&(r.match_id=o),r},pt=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.logLevel&&h(r.logLevel),this.analytics=r,this.advertiserId=e.advertiserId,this.activityTag=e.activityTag,this.groupTag=e.groupTag,this.conversionEvents=e.conversionEvents,this.conversionLinker=e.conversionLinker,this.allowAdPersonalizationSignals=e.allowAdPersonalizationSignals,this.doubleclickId=e.doubleclickId,this.googleNetworkId=e.googleNetworkId,this.tagFormat=e.tagFormat||lt,this.name=ut,this.areTransformationsConnected=n&&n.areTransformationsConnected,this.destinationId=n&&n.destinationId}var e,n,i;return e=t,n=[{key:"init",value:function(){b("===In init DCMFloodlight==="),this.tagFormat===lt&&(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(document.getElementById(t))return;var n=document.createElement("script");n.src=e,n.async=void 0===r.async||r.async,n.type="text/javascript",n.id=t,!0!==r.skipDatasetAttributes&&(n.setAttribute("data-loader",k),void 0!==r.isNonNativeSDK&&n.setAttribute("data-isNonNativeSDK",r.isNonNativeSDK));var o=document.getElementsByTagName("head");if(o.length>0)o[0].insertBefore(n,o[0].firstChild);else{var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}catch(i){O(i)}}("DCMFloodlight-integration","https://www.googletagmanager.com/gtag/js?id=DC-".concat(this.advertiserId)),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},this.allowAdPersonalizationSignals||window.gtag("set","allow_ad_personalization_signals",!1),window.gtag("js",new Date),this.conversionLinker?window.gtag("config","DC-".concat(this.advertiserId)):window.gtag("config","DC-".concat(this.advertiserId),{conversion_linker:!1})),this.loadCookieMatching()}},{key:"loadCookieMatching",value:function(){if(b("===In loadCookieMatching DCMFloodlight==="),this.doubleclickId&&this.googleNetworkId){var t=document.createElement("img");t.src="https://cm.g.doubleclick.net/pixel?google_nid=".concat(this.googleNetworkId,"&google_hm=").concat(btoa(this.analytics.anonymousId)),document.getElementsByTagName("head")[0].appendChild(t)}}},{key:"isLoaded",value:function(){return b("===In isLoaded DCMFloodlight==="),this.tagFormat!==lt||window.dataLayer.push!==Array.prototype.push}},{key:"isReady",value:function(){return b("===In isReady DCMFloodlight==="),this.tagFormat!==lt||window.dataLayer.push!==Array.prototype.push}},{key:"identify",value:function(){b("[DCM Floodlight] identify:: method not supported")}},{key:"track",value:function(t){b("===In DCMFloodlight track===");var e,r=t.message,n=t.message.event;if(n){var o=f(r,"properties.countingMethod");if(o){o=o.trim().toLowerCase().replace(/\s+/g,"_");var i=this.conversionEvents.find((function(t){return t&&t.eventName&&t.eventName.trim().toLowerCase()===n.toLowerCase()}));if(i){i.floodlightActivityTag&&i.floodlightGroupTag&&(this.activityTag=i.floodlightActivityTag.trim(),this.groupTag=i.floodlightGroupTag.trim());var a=i.salesTag;!function(t,e){if(t){if("transactions"===e||"items_sold"===e)return!0}else if("standard"===e||"unique"===e||"per_session"===e)return!0;return!1}(a,o)?_("[DCM Floodlight] ".concat(a?"Sales":"Counter"," Tag:: invalid counting method")):(e=function(t,e){var r={},n=['"',"<",">","#"];return t.forEach((function(t){if(t&&ot(t.from)&&ot(t.to)){var o=f(e,"properties.".concat(t.from.trim()));if(!it(o)){var i,a=e.traits||(null===(i=e.context)||void 0===i?void 0:i.traits);a&&(o=a[t.from.trim()])}o&&"string"==typeof o&&n.some((function(t){return o.includes(t)}))&&(y("".concat(n," string variable is not acceptable")),o=void 0),it(o)&&"boolean"!=typeof o&&(r["u".concat(t.to.trim().replace(/u/g,""))]=encodeURIComponent(o))}})),r}(e=i.customVariables||[],r),e=at(e),this.tagFormat===lt?this.trackWithGtag(r,a,e,o):this.trackWithIframe(r,a,e,o))}else _("[DCM Floodlight]:: Conversion event not found")}else _("[DCM Floodlight]:: countingMethod is required for track call")}else _("[DCM Floodlight]:: event is required for track call")}},{key:"trackWithGtag",value:function(t,e,n,o){b("===In DCMFloodlight trackWithGtag===");var i=function(t,e,n,o){var i={},a={};if(e){if(i.ord=f(t,"properties.orderId")||f(t,"properties.order_id"),a=r(r({},a),{},{value:f(t,"properties.revenue"),transaction_id:i.ord}),"items_sold"===n){var c=f(t,"properties.quantity"),u=f(t,"properties.products"),l=ft(u);l&&(c=l),c&&(a.quantity=parseFloat(c))}}else switch(n){case"standard":i.ord=f(t,"properties.ord");break;case"unique":i.num=f(t,"properties.num");break;case"per_session":i.ord=f(t,"properties.sessionId"),a.session_id=i.ord}i=r(r({},i),dt(t,o));var s=f(t,"context.device.adTrackingEnabled"),d=f(t,"properties.matchId");return ct(s)&&(i.dc_lat=st("dc_lat",s)),d&&(i.match_id=d),i=at(i),Object.keys(i).length>0&&(a.dc_custom_params=i),a}(t,e,o,this.analytics.loadOnlyIntegrations);i=r(r(r({allow_custom_scripts:!0},i),n),{},{send_to:"DC-".concat(this.advertiserId,"/").concat(this.groupTag,"/").concat(this.activityTag,"+").concat(o)}),i=at(i),b("[DCM] eventSnippetPayload:: ".concat(JSON.stringify(i))),window.gtag("event","conversion",i)}},{key:"trackWithIframe",value:function(t,e,n,o){b("===In DCMFloodlight trackWithIframe===");var i,c,u=function(t,e,n,o){var i=1e13*Math.random(),a={};if(e)if(a.ord=f(t,"properties.orderId")||f(t,"properties.order_id"),a.cost=f(t,"properties.revenue"),"transactions"===n)a.qty=1;else{var c=f(t,"properties.quantity"),u=f(t,"properties.products"),l=ft(u);l&&(c=l),c&&(a.qty=parseFloat(c))}else switch(n){case"standard":a.ord=f(t,"properties.ord")||i;break;case"unique":a.ord=1,a.num=f(t,"properties.num")||i;break;case"per_session":a.ord=f(t,"properties.sessionId")}a=r(r({},a),dt(t,o));var s=f(t,"context.device.adTrackingEnabled"),d=f(t,"properties.matchId");return ct(s)&&(a.dc_lat=st("dc_lat",s)),d&&(a.match_id=d),a}(t,e,o,this.analytics.loadOnlyIntegrations);u=r(r({},u),n),u=at(u),i=u,c="",Object.entries(i).forEach((function(t){var e=a(t,2),r=e[0],n=e[1];r&&ct(n)&&(c+="".concat(r,"=").concat(n,";"))})),u=c.replace(/.$/,"");var l="https://".concat(this.advertiserId,".fls.doubleclick.net/activityi;src=").concat(this.advertiserId,";type=").concat(this.groupTag,";cat=").concat(this.activityTag,";").concat(u,"?");this.addIframe(l)}},{key:"addIframe",value:function(t){b("===In DCMFloodlight addIframe===");var e=document.createElement("iframe");e.src=t,e.style.width="1px",e.style.height="1px",e.style.display="none",e.style.border=0,document.getElementsByTagName("body")[0].appendChild(e)}},{key:"page",value:function(t){b("===In DCMFloodlight page===");var e=t.message.properties.category,r=(t.message||t.message.properties).name;if(e||r){var n=e?"".concat(e," "):"",o=r?"".concat(r," "):"";t.message.event="Viewed ".concat(n).concat(o,"Page"),t.message.type="track",this.track(t)}else _("[DCM Floodlight]:: category or name is required for page")}}],n&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();return t.DCMFloodlight=pt,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=DCMFloodlight.min.js.map
