var Braze_RS=function(e){"use strict";function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},p={};!function(e){function t(e){return function(t,r,n,a){var i,s=a&&function(e){return"function"==typeof e}(a.normalizer)?a.normalizer:o;r=s(r);for(var u=!1;!u;)c();function c(){for(i in t){var e=s(i);if(0===r.indexOf(e)){var n=r.substr(e.length);if("."===n.charAt(0)||0===n.length){r=n.substr(1);var o=t[i];return null==o?void(u=!0):r.length?void(t=o):void(u=!0)}}}i=void 0,u=!0}if(i)return null==t?t:e(t,i,n)}}function r(e,t){return e.hasOwnProperty(t)&&delete e[t],e}function n(e,t,r){return e.hasOwnProperty(t)&&(e[t]=r),e}function o(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}e.exports=t((function(e,t){if(e.hasOwnProperty(t))return e[t]})),e.exports.find=e.exports,e.exports.replace=function(e,r,o,a){return t(n).call(this,e,r,o,a),e},e.exports.del=function(e,n,o){return t(r).call(this,e,n,null,o),e}}({get exports(){return p},set exports(e){p=e}});var d={};!function(e,t){var r="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",i="[object Boolean]",s="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",p="[object Number]",d="[object Object]",h="[object Promise]",y="[object RegExp]",v="[object Set]",b="[object String]",g="[object Symbol]",_="[object WeakMap]",m="[object ArrayBuffer]",w="[object DataView]",j="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",z="[object Int32Array]",U="[object Uint8Array]",S="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",k=/\w*$/,M=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,x={};x[a]=x["[object Array]"]=x[m]=x[w]=x[i]=x[s]=x[j]=x[A]=x[C]=x[O]=x[z]=x[l]=x[p]=x[d]=x[y]=x[v]=x[b]=x[g]=x[U]=x[S]=x[I]=x[P]=!0,x["[object Error]"]=x[u]=x[_]=!1;var B="object"==n(f)&&f&&f.Object===Object&&f,L="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,T=B||L||Function("return this")(),F=t&&!t.nodeType&&t,D=F&&e&&!e.nodeType&&e,R=D&&D.exports===F;function N(e,t){return e.set(t[0],t[1]),e}function G(e,t){return e.add(t),e}function $(e,t,r,n){var o=-1,a=e?e.length:0;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function J(e,t){return function(r){return e(t(r))}}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var W,V=Array.prototype,Q=Function.prototype,Z=Object.prototype,Y=T["__core-js_shared__"],X=(W=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",ee=Q.toString,te=Z.hasOwnProperty,re=Z.toString,ne=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=R?T.Buffer:void 0,ae=T.Symbol,ie=T.Uint8Array,se=J(Object.getPrototypeOf,Object),ue=Object.create,ce=Z.propertyIsEnumerable,le=V.splice,fe=Object.getOwnPropertySymbols,pe=oe?oe.isBuffer:void 0,de=J(Object.keys,Object),he=De(T,"DataView"),ye=De(T,"Map"),ve=De(T,"Promise"),be=De(T,"Set"),ge=De(T,"WeakMap"),_e=De(Object,"create"),me=Ke(he),we=Ke(ye),je=Ke(ve),Ae=Ke(be),Ce=Ke(ge),Oe=ae?ae.prototype:void 0,ze=Oe?Oe.valueOf:void 0;function Ue(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){this.__data__=new Se(e)}function ke(e,t){var r=Je(e)||function(e){return function(e){return function(e){return!!e&&"object"==n(e)}(e)&&qe(e)}(e)&&te.call(e,"callee")&&(!ce.call(e,"callee")||re.call(e)==a)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],o=r.length,i=!!o;for(var s in e)!t&&!te.call(e,s)||i&&("length"==s||Ge(s,o))||r.push(s);return r}function Me(e,t,r){var n=e[t];te.call(e,t)&&He(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ee(e,t){for(var r=e.length;r--;)if(He(e[r][0],t))return r;return-1}function xe(e,t,r,n,o,f,h){var _;if(n&&(_=f?n(e,o,f,h):n(e)),void 0!==_)return _;if(!Qe(e))return e;var M=Je(e);if(M){if(_=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&te.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,_)}else{var E=Ne(e),B=E==u||E==c;if(We(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(E==d||E==a||B&&!f){if(K(e))return f?e:{};if(_=function(e){return"function"!=typeof e.constructor||$e(e)?{}:(t=se(e),Qe(t)?ue(t):{});var t}(B?{}:e),!t)return function(e,t){return Te(e,Re(e),t)}(e,function(e,t){return e&&Te(t,Ze(t),e)}(_,e))}else{if(!x[E])return f?e:{};_=function(e,t,r,n){var o=e.constructor;switch(t){case m:return Le(e);case i:case s:return new o(+e);case w:return function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case j:case A:case C:case O:case z:case U:case S:case I:case P:return function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case l:return function(e,t,r){return $(t?r(H(e),!0):H(e),N,new e.constructor)}(e,n,r);case p:case b:return new o(e);case y:return function(e){var t=new e.constructor(e.source,k.exec(e));return t.lastIndex=e.lastIndex,t}(e);case v:return function(e,t,r){return $(t?r(q(e),!0):q(e),G,new e.constructor)}(e,n,r);case g:return a=e,ze?Object(ze.call(a)):{}}var a}(e,E,xe,t)}}h||(h=new Pe);var L=h.get(e);if(L)return L;if(h.set(e,_),!M)var T=r?function(e){return function(e,t,r){var n=t(e);return Je(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Ze,Re)}(e):Ze(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(T||e,(function(o,a){T&&(o=e[a=o]),Me(_,a,xe(o,t,r,n,a,e,h))})),_}function Be(e){return!(!Qe(e)||(t=e,X&&X in t))&&(Ve(e)||K(e)?ne:M).test(Ke(e));var t}function Le(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Te(e,t,r,n){r||(r={});for(var o=-1,a=t.length;++o<a;){var i=t[o],s=n?n(r[i],e[i],i,r,e):void 0;Me(r,i,void 0===s?e[i]:s)}return r}function Fe(e,t){var r,o,a=e.__data__;return("string"==(o=n(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function De(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Be(r)?r:void 0}Ue.prototype.clear=function(){this.__data__=_e?_e(null):{}},Ue.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ue.prototype.get=function(e){var t=this.__data__;if(_e){var n=t[e];return n===r?void 0:n}return te.call(t,e)?t[e]:void 0},Ue.prototype.has=function(e){var t=this.__data__;return _e?void 0!==t[e]:te.call(t,e)},Ue.prototype.set=function(e,t){return this.__data__[e]=_e&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=Ee(t,e);return!(r<0)&&(r==t.length-1?t.pop():le.call(t,r,1),!0)},Se.prototype.get=function(e){var t=this.__data__,r=Ee(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Ee(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Ee(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ie.prototype.clear=function(){this.__data__={hash:new Ue,map:new(ye||Se),string:new Ue}},Ie.prototype.delete=function(e){return Fe(this,e).delete(e)},Ie.prototype.get=function(e){return Fe(this,e).get(e)},Ie.prototype.has=function(e){return Fe(this,e).has(e)},Ie.prototype.set=function(e,t){return Fe(this,e).set(e,t),this},Pe.prototype.clear=function(){this.__data__=new Se},Pe.prototype.delete=function(e){return this.__data__.delete(e)},Pe.prototype.get=function(e){return this.__data__.get(e)},Pe.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!ye||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ie(n)}return r.set(e,t),this};var Re=fe?J(fe,Object):function(){return[]},Ne=function(e){return re.call(e)};function Ge(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||E.test(e))&&e>-1&&e%1==0&&e<t}function $e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function Ke(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(he&&Ne(new he(new ArrayBuffer(1)))!=w||ye&&Ne(new ye)!=l||ve&&Ne(ve.resolve())!=h||be&&Ne(new be)!=v||ge&&Ne(new ge)!=_)&&(Ne=function(e){var t=re.call(e),r=t==d?e.constructor:void 0,n=r?Ke(r):void 0;if(n)switch(n){case me:return w;case we:return l;case je:return h;case Ae:return v;case Ce:return _}return t});var Je=Array.isArray;function qe(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!Ve(e)}var We=pe||function(){return!1};function Ve(e){var t=Qe(e)?re.call(e):"";return t==u||t==c}function Qe(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function Ze(e){return qe(e)?ke(e):function(e){if(!$e(e))return de(e);var t=[];for(var r in Object(e))te.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return xe(e,!0,!0)}}({get exports(){return d},set exports(e){d=e}},d);var h=d,y={};!function(e,t){var r="__lodash_hash_undefined__",o=9007199254740991,a="[object Arguments]",i="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",y="[object Promise]",v="[object RegExp]",b="[object Set]",g="[object String]",_="[object Symbol]",m="[object WeakMap]",w="[object ArrayBuffer]",j="[object DataView]",A=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O[a]=O[i]=O[w]=O[s]=O[j]=O[u]=O[c]=O[l]=O[p]=O[d]=O[h]=O[v]=O[b]=O[g]=O[m]=!1;var z="object"==n(f)&&f&&f.Object===Object&&f,U="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,S=z||U||Function("return this")(),I=t&&!t.nodeType&&t,P=I&&e&&!e.nodeType&&e,k=P&&P.exports===I,M=k&&z.process,E=function(){try{return M&&M.binding&&M.binding("util")}catch(e){}}(),x=E&&E.isTypedArray;function B(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function L(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function T(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var F,D,R,N=Array.prototype,G=Function.prototype,$=Object.prototype,K=S["__core-js_shared__"],H=G.toString,J=$.hasOwnProperty,q=(F=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",W=$.toString,V=RegExp("^"+H.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=k?S.Buffer:void 0,Z=S.Symbol,Y=S.Uint8Array,X=$.propertyIsEnumerable,ee=N.splice,te=Z?Z.toStringTag:void 0,re=Object.getOwnPropertySymbols,ne=Q?Q.isBuffer:void 0,oe=(D=Object.keys,R=Object,function(e){return D(R(e))}),ae=Ee(S,"DataView"),ie=Ee(S,"Map"),se=Ee(S,"Promise"),ue=Ee(S,"Set"),ce=Ee(S,"WeakMap"),le=Ee(Object,"create"),fe=Te(ae),pe=Te(ie),de=Te(se),he=Te(ue),ye=Te(ce),ve=Z?Z.prototype:void 0,be=ve?ve.valueOf:void 0;function ge(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function we(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new me;++t<r;)this.add(e[t])}function je(e){var t=this.__data__=new _e(e);this.size=t.size}function Ae(e,t){var r=Re(e),n=!r&&De(e),o=!r&&!n&&Ne(e),a=!r&&!n&&!o&&Je(e),i=r||n||o||a,s=i?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!J.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Le(c,u))||s.push(c);return s}function Ce(e,t){for(var r=e.length;r--;)if(Fe(e[r][0],t))return r;return-1}function Oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":te&&te in Object(e)?function(e){var t=J.call(e,te),r=e[te];try{e[te]=void 0;var n=!0}catch(e){}var o=W.call(e);n&&(t?e[te]=r:delete e[te]);return o}(e):function(e){return W.call(e)}(e)}function ze(e){return He(e)&&Oe(e)==a}function Ue(e,t,r,n,o){return e===t||(null==e||null==t||!He(e)&&!He(t)?e!=e&&t!=t:function(e,t,r,n,o,l){var f=Re(e),y=Re(t),m=f?i:Be(e),A=y?i:Be(t),C=(m=m==a?h:m)==h,O=(A=A==a?h:A)==h,z=m==A;if(z&&Ne(e)){if(!Ne(t))return!1;f=!0,C=!1}if(z&&!C)return l||(l=new je),f||Je(e)?Pe(e,t,r,n,o,l):function(e,t,r,n,o,a,i){switch(r){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!a(new Y(e),new Y(t)));case s:case u:case d:return Fe(+e,+t);case c:return e.name==t.name&&e.message==t.message;case v:case g:return e==t+"";case p:var l=L;case b:var f=1&n;if(l||(l=T),e.size!=t.size&&!f)return!1;var h=i.get(e);if(h)return h==t;n|=2,i.set(e,t);var y=Pe(l(e),l(t),n,o,a,i);return i.delete(e),y;case _:if(be)return be.call(e)==be.call(t)}return!1}(e,t,m,r,n,o,l);if(!(1&r)){var U=C&&J.call(e,"__wrapped__"),S=O&&J.call(t,"__wrapped__");if(U||S){var I=U?e.value():e,P=S?t.value():t;return l||(l=new je),o(I,P,r,n,l)}}if(!z)return!1;return l||(l=new je),function(e,t,r,n,o,a){var i=1&r,s=ke(e),u=s.length,c=ke(t).length;if(u!=c&&!i)return!1;var l=u;for(;l--;){var f=s[l];if(!(i?f in t:J.call(t,f)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var d=!0;a.set(e,t),a.set(t,e);var h=i;for(;++l<u;){var y=e[f=s[l]],v=t[f];if(n)var b=i?n(v,y,f,t,e,a):n(y,v,f,e,t,a);if(!(void 0===b?y===v||o(y,v,r,n,a):b)){d=!1;break}h||(h="constructor"==f)}if(d&&!h){var g=e.constructor,_=t.constructor;g==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(d=!1)}return a.delete(e),a.delete(t),d}(e,t,r,n,o,l)}(e,t,r,n,Ue,o))}function Se(e){return!(!Ke(e)||function(e){return!!q&&q in e}(e))&&(Ge(e)?V:A).test(Te(e))}function Ie(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||$,t!==n)return oe(e);var t,r,n,o=[];for(var a in Object(e))J.call(e,a)&&"constructor"!=a&&o.push(a);return o}function Pe(e,t,r,n,o,a){var i=1&r,s=e.length,u=t.length;if(s!=u&&!(i&&u>s))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var l=-1,f=!0,p=2&r?new we:void 0;for(a.set(e,t),a.set(t,e);++l<s;){var d=e[l],h=t[l];if(n)var y=i?n(h,d,l,t,e,a):n(d,h,l,e,t,a);if(void 0!==y){if(y)continue;f=!1;break}if(p){if(!B(t,(function(e,t){if(i=t,!p.has(i)&&(d===e||o(d,e,r,n,a)))return p.push(t);var i}))){f=!1;break}}else if(d!==h&&!o(d,h,r,n,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function ke(e){return function(e,t,r){var n=t(e);return Re(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,qe,xe)}function Me(e,t){var r,o,a=e.__data__;return("string"==(o=n(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function Ee(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Se(r)?r:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return J.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:J.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,r=Ce(t,e);return!(r<0)&&(r==t.length-1?t.pop():ee.call(t,r,1),--this.size,!0)},_e.prototype.get=function(e){var t=this.__data__,r=Ce(t,e);return r<0?void 0:t[r][1]},_e.prototype.has=function(e){return Ce(this.__data__,e)>-1},_e.prototype.set=function(e,t){var r=this.__data__,n=Ce(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},me.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(ie||_e),string:new ge}},me.prototype.delete=function(e){var t=Me(this,e).delete(e);return this.size-=t?1:0,t},me.prototype.get=function(e){return Me(this,e).get(e)},me.prototype.has=function(e){return Me(this,e).has(e)},me.prototype.set=function(e,t){var r=Me(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,r),this},we.prototype.has=function(e){return this.__data__.has(e)},je.prototype.clear=function(){this.__data__=new _e,this.size=0},je.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},je.prototype.get=function(e){return this.__data__.get(e)},je.prototype.has=function(e){return this.__data__.has(e)},je.prototype.set=function(e,t){var r=this.__data__;if(r instanceof _e){var n=r.__data__;if(!ie||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new me(n)}return r.set(e,t),this.size=r.size,this};var xe=re?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a}(re(e),(function(t){return X.call(e,t)})))}:function(){return[]},Be=Oe;function Le(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Te(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fe(e,t){return e===t||e!=e&&t!=t}(ae&&Be(new ae(new ArrayBuffer(1)))!=j||ie&&Be(new ie)!=p||se&&Be(se.resolve())!=y||ue&&Be(new ue)!=b||ce&&Be(new ce)!=m)&&(Be=function(e){var t=Oe(e),r=t==h?e.constructor:void 0,n=r?Te(r):"";if(n)switch(n){case fe:return j;case pe:return p;case de:return y;case he:return b;case ye:return m}return t});var De=ze(function(){return arguments}())?ze:function(e){return He(e)&&J.call(e,"callee")&&!X.call(e,"callee")},Re=Array.isArray;var Ne=ne||function(){return!1};function Ge(e){if(!Ke(e))return!1;var t=Oe(e);return t==l||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ke(e){var t=n(e);return null!=e&&("object"==t||"function"==t)}function He(e){return null!=e&&"object"==n(e)}var Je=x?function(e){return function(t){return e(t)}}(x):function(e){return He(e)&&$e(e.length)&&!!O[Oe(e)]};function qe(e){return null!=(t=e)&&$e(t.length)&&!Ge(t)?Ae(e):Ie(e);var t}e.exports=function(e,t){return Ue(e,t)}}({get exports(){return y},set exports(e){y=e}},y);var v,b=y,g={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},_=function(){function e(t,r){o(this,e),this.level=+r||g.ERROR.value,this.scope=t||""}return i(e,[{key:"setLogLevel",value:function(e){if(e&&"string"==typeof e){var t=e.toUpperCase();this.level=g[t]?g[t].value:this.level}}},{key:"setScope",value:function(e){this.scope=e||this.scope}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,g.LOG.value)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,g.INFO.value)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,g.DEBUG.value)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,g.WARN.value)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,g.ERROR.value)}},{key:"logBase",value:function(e,t){if(this.level<=t){var r=Object.values(g).find((function(e){return e.value===t}));r.method.apply(r,u(this.getLogData(e)))}}},{key:"getLogData",value:function(e){if(Array.isArray(e)&&e.length>0){var t="%c RS SDK";this.scope&&(t="".concat(t," - ").concat(this.scope));var r=e[0].trim();t="".concat(t," %c ").concat(r);var n=[];return n.push(t),n.push("font-weight: bold; background: black; color: white;"),n.push("font-weight: normal;"),n.push.apply(n,u(e.slice(1))),n}return e}}]),e}(),m="BRAZE";s(v={},m,m),s(v,"Braze",m),s(v,"braze",m);var w=new _(m),j=function(){function e(t,r,n){if(o(this,e),r.logLevel&&w.setLogLevel(r.logLevel),this.analytics=r,this.appKey=t.appKey,this.trackAnonymousUser=t.trackAnonymousUser,this.enableBrazeLogging=t.enableBrazeLogging||!1,this.enableHtmlInAppMessages=t.enableHtmlInAppMessages||!1,this.allowUserSuppliedJavascript=t.allowUserSuppliedJavascript||!1,t.appKey||(this.appKey=""),this.endPoint="",t.dataCenter){var a=t.dataCenter.trim().split("-");"eu"===a[0].toLowerCase()?this.endPoint="sdk.fra-".concat(a[1],".braze.eu"):this.endPoint="sdk.iad-".concat(a[1],".braze.com")}this.name=m,this.previousPayload=null,this.supportDedup=t.supportDedup||!1,this.areTransformationsConnected=n&&n.areTransformationsConnected,this.destinationId=n&&n.destinationId,w.debug("Config ",t)}return i(e,[{key:"formatGender",value:function(e){if(e&&"string"==typeof e){return["woman","female","w","f"].indexOf(e.toLowerCase())>-1?window.braze.User.Genders.FEMALE:["man","male","m"].indexOf(e.toLowerCase())>-1?window.braze.User.Genders.MALE:["other","o"].indexOf(e.toLowerCase())>-1?window.braze.User.Genders.OTHER:void 0}}},{key:"init",value:function(){w.debug("===in init Braze==="),function(e,t,r,n,o){e.braze={},e.brazeQueue=[];for(var a="BrazeSdkMetadata DeviceProperties Card Card.prototype.dismissCard Card.prototype.removeAllSubscriptions Card.prototype.removeSubscription Card.prototype.subscribeToClickedEvent Card.prototype.subscribeToDismissedEvent Card.fromContentCardsJson Banner CaptionedImage ClassicCard ControlCard ContentCards ContentCards.prototype.getUnviewedCardCount Feed Feed.prototype.getUnreadCardCount ControlMessage InAppMessage InAppMessage.SlideFrom InAppMessage.ClickAction InAppMessage.DismissType InAppMessage.OpenTarget InAppMessage.ImageStyle InAppMessage.Orientation InAppMessage.TextAlignment InAppMessage.CropType InAppMessage.prototype.closeMessage InAppMessage.prototype.removeAllSubscriptions InAppMessage.prototype.removeSubscription InAppMessage.prototype.subscribeToClickedEvent InAppMessage.prototype.subscribeToDismissedEvent InAppMessage.fromJson FullScreenMessage ModalMessage HtmlMessage SlideUpMessage User User.Genders User.NotificationSubscriptionTypes User.prototype.addAlias User.prototype.addToCustomAttributeArray User.prototype.addToSubscriptionGroup User.prototype.getUserId User.prototype.incrementCustomUserAttribute User.prototype.removeFromCustomAttributeArray User.prototype.removeFromSubscriptionGroup User.prototype.setCountry User.prototype.setCustomLocationAttribute User.prototype.setCustomUserAttribute User.prototype.setDateOfBirth User.prototype.setEmail User.prototype.setEmailNotificationSubscriptionType User.prototype.setFirstName User.prototype.setGender User.prototype.setHomeCity User.prototype.setLanguage User.prototype.setLastKnownLocation User.prototype.setLastName User.prototype.setPhoneNumber User.prototype.setPushNotificationSubscriptionType InAppMessageButton InAppMessageButton.prototype.removeAllSubscriptions InAppMessageButton.prototype.removeSubscription InAppMessageButton.prototype.subscribeToClickedEvent automaticallyShowInAppMessages destroyFeed hideContentCards showContentCards showFeed showInAppMessage toggleContentCards toggleFeed changeUser destroy getDeviceId initialize isPushBlocked isPushPermissionGranted isPushSupported logCardClick logCardDismissal logCardImpressions logContentCardImpressions logContentCardsDisplayed logCustomEvent logFeedDisplayed logInAppMessageButtonClick logInAppMessageClick logInAppMessageHtmlClick logInAppMessageImpression logPurchase openSession requestPushPermission removeAllSubscriptions removeSubscription requestContentCardsRefresh requestFeedRefresh requestImmediateDataFlush enableSDK isDisabled setLogger setSdkAuthenticationSignature addSdkMetadata disableSDK subscribeToContentCardsUpdates subscribeToFeedUpdates subscribeToInAppMessage subscribeToSdkAuthenticationFailures toggleLogging unregisterPush wipeData handleBrazeAction".split(" "),i=0;i<a.length;i++){for(var s=a[i],u=e.braze,c=s.split("."),l=0;l<c.length-1;l++)u=u[c[l]];u[c[l]]=new Function("return function ".concat(s.replace(/\./g,"_"),"(){window.brazeQueue.push(arguments); return true}"))()}window.braze.getCachedContentCards=function(){return new window.braze.ContentCards},window.braze.getCachedFeed=function(){return new window.braze.Feed},window.braze.getUser=function(){return new window.braze.User},(o=t.createElement(r)).type="text/javascript",o.src="https://js.appboycdn.com/web-sdk/4.2/braze.min.js",o.async=1,o.setAttribute("data-loader","RS_JS_SDK"),(n=t.getElementsByTagName(r)[0]).parentNode.insertBefore(o,n)}(window,document,"script"),window.braze.initialize(this.appKey,{enableLogging:this.enableBrazeLogging,baseUrl:this.endPoint,enableHtmlInAppMessages:this.enableHtmlInAppMessages,allowUserSuppliedJavascript:this.allowUserSuppliedJavascript}),window.braze.automaticallyShowInAppMessages();var e=this.analytics.userId;e&&window.braze.changeUser(e),window.braze.openSession()}},{key:"handleReservedProperties",value:function(e){return["time","product_id","quantity","event_name","price","currency"].forEach((function(t){delete e[t]})),e}},{key:"identify",value:function(e){var t,n,o,a,i,s,u,c,l,f;w.debug("in Braze identify");var p=e.message.userId,d=e.message.context.traits.address,y=(null===(t=e.message.context.traits)||void 0===t?void 0:t.birthday)||(null===(n=e.message.context.traits)||void 0===n?void 0:n.dob),v=e.message.context.traits.email,g=(null===(o=e.message.context.traits)||void 0===o?void 0:o.firstname)||(null===(a=e.message.context.traits)||void 0===a?void 0:a.firstName),_=e.message.context.traits.gender,m=(null===(i=e.message.context.traits)||void 0===i?void 0:i.lastname)||(null===(s=e.message.context.traits)||void 0===s?void 0:s.lastName),j=e.message.context.traits.phone;function A(){window.braze.getUser().setCountry(d.country),window.braze.getUser().setHomeCity(d.city)}function C(){window.braze.getUser().setDateOfBirth(y.getUTCFullYear(),y.getUTCMonth()+1,y.getUTCDate())}function O(){window.braze.getUser().setEmail(v)}function z(){window.braze.getUser().setFirstName(g)}function U(e){window.braze.getUser().setGender(e)}function S(){window.braze.getUser().setLastName(m)}function I(){window.braze.getUser().setPhoneNumber(j)}var P={};if(null!==(u=e.message)&&void 0!==u&&null!==(c=u.context)&&void 0!==c&&c.traits&&(P=h(e.message.context.traits)),["address","birthday","email","id","firstname","gender","lastname","phone","dob","external_id","country","home_city","bio","email_subscribe","push_subscribe"].forEach((function(e){delete P[e]})),this.supportDedup&&null!==this.previousPayload&&p&&p===(null===(l=this.previousPayload.rudderElement)||void 0===l||null===(f=l.message)||void 0===f?void 0:f.userId)){var k,M,E=null===(k=this.previousPayload.rudderElement)||void 0===k?void 0:k.message,x=null==E||null===(M=E.context)||void 0===M?void 0:M.traits,B=null==x?void 0:x.address,L=(null==x?void 0:x.birthday)||(null==x?void 0:x.dob),T=null==x?void 0:x.email,F=(null==x?void 0:x.firstname)||(null==x?void 0:x.firstName),D=null==x?void 0:x.gender,R=(null==x?void 0:x.lastname)||(null==x?void 0:x.lastName),N=null==x?void 0:x.phone;d&&!b(d,B)&&A(),y&&!b(y,L)&&C(),v&&v!==T&&O(),g&&g!==F&&z(),_&&this.formatGender(_)!==this.formatGender(D)&&U(this.formatGender(_)),m&&m!==R&&S(),j&&j!==N&&I(),Object.keys(P).forEach((function(e){x[e]&&b(x[e],P[e])||window.braze.getUser().setCustomUserAttribute(e,P[e])}))}else window.braze.changeUser(p),v&&O(),g&&z(),_&&U(this.formatGender(_)),m&&S(),j&&I(),d&&A(),y&&C(),Object.keys(P).forEach((function(e){window.braze.getUser().setCustomUserAttribute(e,P[e])}));this.previousPayload=r(r({},this.previousPayload),{},{rudderElement:e})}},{key:"handlePurchase",value:function(e,t){var r=e.products,n=e.currency;window.braze.changeUser(t),p.del(e,"products"),p.del(e,"currency"),r&&Array.isArray(r)&&r.length>0&&r.forEach((function(t){var r=t.product_id,o=t.price,a=t.quantity;a&&o&&r&&window.braze.logPurchase(r,o,n,a,e)}))}},{key:"track",value:function(e){var t=e.message.userId,r=e.message.event,n=e.message.properties,o=!1;t?(window.braze.changeUser(t),o=!0):this.trackAnonymousUser&&(window.braze.changeUser(e.message.anonymousId),o=!0),r&&o&&("order completed"===r.toLowerCase()?this.handlePurchase(n,t):(n=this.handleReservedProperties(n),window.braze.logCustomEvent(r,n)))}},{key:"page",value:function(e){var t=e.message.userId,r=e.message.name,n=e.message.properties;t?window.braze.changeUser(t):this.trackAnonymousUser&&window.braze.changeUser(e.message.anonymousId),n=this.handleReservedProperties(n),r?window.braze.logCustomEvent(r,n):window.braze.logCustomEvent("Page View",n)}},{key:"isLoaded",value:function(){return null===window.brazeQueue}},{key:"isReady",value:function(){return null===window.brazeQueue}}]),e}();return e.Braze=j,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=Braze.min.js.map
