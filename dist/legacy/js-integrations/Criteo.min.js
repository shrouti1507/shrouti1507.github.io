var Criteo_RS=function(t){"use strict";function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function i(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var u=4,c=function(t){switch(t.toUpperCase()){case"INFO":u=1;break;case"DEBUG":u=2;break;case"WARN":u=3;break;default:u=4}},s=function(){var t;u<=2&&(t=console).log.apply(t,arguments)},f=function(){var t;u<=4&&(t=console).error.apply(t,arguments)};function l(t){var e=window.rudderanalytics&&window.rudderanalytics.errorReporting;e&&t instanceof Error&&e.notify(t)}function p(t,e,r){var n;try{n=function(t,e,r){var n;try{n="string"==typeof t?t:t instanceof Error||t.message?t.message:JSON.stringify(t)}catch(t){n=""}if(t instanceof Event){if(t.target&&"script"!==t.target.localName)return"";if(t.target.dataset&&("RS_JS_SDK"!==t.target.dataset.loader||"true"!==t.target.dataset.isNonNativeSDK))return"";if(n="error in script loading:: src::  ".concat(t.target.src," id:: ").concat(t.target.id),"ad-block"===t.target.id)return r.page("RudderJS-Initiated","ad-block page request",{path:"/ad-blocked",title:n},r.sendAdblockPageOptions),""}return"[handleError]::".concat(e||"",' "').concat(n,'"')}(t,e,r)}catch(e){f("[handleError] Exception:: ",e),f("[handleError] Original error:: ",JSON.stringify(t)),l(e)}n&&(f(n),l(t))}var d,v,h="RS_JS_SDK",y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},g={},b={get exports(){return g},set exports(t){g=t}},_={};d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&v.rotl(t,8)|4278255360&v.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=v.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var n=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?e.push(d.charAt(n>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,n=0;r<t.length;n=++r%4)0!=n&&e.push((d.indexOf(t.charAt(r-1))&Math.pow(2,-2*n+8)-1)<<2*n|d.indexOf(t.charAt(r))>>>6-2*n);return e}},{get exports(){return _},set exports(t){_=t}}.exports=v;var m={utf8:{stringToBytes:function(t){return m.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(m.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}},j=m,w=function(t){return null!=t&&(O(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&O(t.slice(0,0))}(t)||!!t._isBuffer)};function O(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}!function(){var t=_,e=j.utf8,r=w,n=j.bin,o=function o(i,a){i.constructor==String?i=a&&"binary"===a.encoding?n.stringToBytes(i):e.stringToBytes(i):r(i)?i=Array.prototype.slice.call(i,0):Array.isArray(i)||i.constructor===Uint8Array||(i=i.toString());for(var u=t.bytesToWords(i),c=8*i.length,s=1732584193,f=-271733879,l=-1732584194,p=271733878,d=0;d<u.length;d++)u[d]=16711935&(u[d]<<8|u[d]>>>24)|4278255360&(u[d]<<24|u[d]>>>8);u[c>>>5]|=128<<c%32,u[14+(c+64>>>9<<4)]=c;var v=o._ff,h=o._gg,y=o._hh,g=o._ii;for(d=0;d<u.length;d+=16){var b=s,_=f,m=l,j=p;s=v(s,f,l,p,u[d+0],7,-680876936),p=v(p,s,f,l,u[d+1],12,-389564586),l=v(l,p,s,f,u[d+2],17,606105819),f=v(f,l,p,s,u[d+3],22,-1044525330),s=v(s,f,l,p,u[d+4],7,-176418897),p=v(p,s,f,l,u[d+5],12,1200080426),l=v(l,p,s,f,u[d+6],17,-1473231341),f=v(f,l,p,s,u[d+7],22,-45705983),s=v(s,f,l,p,u[d+8],7,1770035416),p=v(p,s,f,l,u[d+9],12,-1958414417),l=v(l,p,s,f,u[d+10],17,-42063),f=v(f,l,p,s,u[d+11],22,-1990404162),s=v(s,f,l,p,u[d+12],7,1804603682),p=v(p,s,f,l,u[d+13],12,-40341101),l=v(l,p,s,f,u[d+14],17,-1502002290),s=h(s,f=v(f,l,p,s,u[d+15],22,1236535329),l,p,u[d+1],5,-165796510),p=h(p,s,f,l,u[d+6],9,-1069501632),l=h(l,p,s,f,u[d+11],14,643717713),f=h(f,l,p,s,u[d+0],20,-373897302),s=h(s,f,l,p,u[d+5],5,-701558691),p=h(p,s,f,l,u[d+10],9,38016083),l=h(l,p,s,f,u[d+15],14,-660478335),f=h(f,l,p,s,u[d+4],20,-405537848),s=h(s,f,l,p,u[d+9],5,568446438),p=h(p,s,f,l,u[d+14],9,-1019803690),l=h(l,p,s,f,u[d+3],14,-187363961),f=h(f,l,p,s,u[d+8],20,1163531501),s=h(s,f,l,p,u[d+13],5,-1444681467),p=h(p,s,f,l,u[d+2],9,-51403784),l=h(l,p,s,f,u[d+7],14,1735328473),s=y(s,f=h(f,l,p,s,u[d+12],20,-1926607734),l,p,u[d+5],4,-378558),p=y(p,s,f,l,u[d+8],11,-2022574463),l=y(l,p,s,f,u[d+11],16,1839030562),f=y(f,l,p,s,u[d+14],23,-35309556),s=y(s,f,l,p,u[d+1],4,-1530992060),p=y(p,s,f,l,u[d+4],11,1272893353),l=y(l,p,s,f,u[d+7],16,-155497632),f=y(f,l,p,s,u[d+10],23,-1094730640),s=y(s,f,l,p,u[d+13],4,681279174),p=y(p,s,f,l,u[d+0],11,-358537222),l=y(l,p,s,f,u[d+3],16,-722521979),f=y(f,l,p,s,u[d+6],23,76029189),s=y(s,f,l,p,u[d+9],4,-640364487),p=y(p,s,f,l,u[d+12],11,-421815835),l=y(l,p,s,f,u[d+15],16,530742520),s=g(s,f=y(f,l,p,s,u[d+2],23,-995338651),l,p,u[d+0],6,-198630844),p=g(p,s,f,l,u[d+7],10,1126891415),l=g(l,p,s,f,u[d+14],15,-1416354905),f=g(f,l,p,s,u[d+5],21,-57434055),s=g(s,f,l,p,u[d+12],6,1700485571),p=g(p,s,f,l,u[d+3],10,-1894986606),l=g(l,p,s,f,u[d+10],15,-1051523),f=g(f,l,p,s,u[d+1],21,-2054922799),s=g(s,f,l,p,u[d+8],6,1873313359),p=g(p,s,f,l,u[d+15],10,-30611744),l=g(l,p,s,f,u[d+6],15,-1560198380),f=g(f,l,p,s,u[d+13],21,1309151649),s=g(s,f,l,p,u[d+4],6,-145523070),p=g(p,s,f,l,u[d+11],10,-1120210379),l=g(l,p,s,f,u[d+2],15,718787259),f=g(f,l,p,s,u[d+9],21,-343485551),s=s+b>>>0,f=f+_>>>0,l=l+m>>>0,p=p+j>>>0}return t.endian([s,f,l,p])};o._ff=function(t,e,r,n,o,i,a){var u=t+(e&r|~e&n)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},o._gg=function(t,e,r,n,o,i,a){var u=t+(e&n|r&~n)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},o._hh=function(t,e,r,n,o,i,a){var u=t+(e^r^n)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},o._ii=function(t,e,r,n,o,i,a){var u=t+(r^(e|~n))+(o>>>0)+a;return(u<<i|u>>>32-i)+e},o._blocksize=16,o._digestsize=16,b.exports=function(e,r){if(null==e)throw new Error("Illegal argument "+e);var i=t.wordsToBytes(o(e,r));return r&&r.asBytes?i:r&&r.asString?n.bytesToString(i):t.bytesToHex(i)}}();var S=function(t){return void 0===t},A={};!function(t,e){var r=9007199254740991,o="[object Map]",i="[object Promise]",a="[object Set]",u="[object WeakMap]",c="[object DataView]",s=/^\[object .+?Constructor\]$/,f="object"==n(y)&&y&&y.Object===Object&&y,l="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,p=f||l||Function("return this")(),d=e&&!e.nodeType&&e,v=d&&t&&!t.nodeType&&t,h=v&&v.exports===d;var g,b,_,m=Function.prototype,j=Object.prototype,w=p["__core-js_shared__"],O=(g=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",S=m.toString,A=j.hasOwnProperty,T=j.toString,k=RegExp("^"+S.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=h?p.Buffer:void 0,C=j.propertyIsEnumerable,I=E?E.isBuffer:void 0,P=(b=Object.keys,_=Object,function(t){return b(_(t))}),N=W(p,"DataView"),B=W(p,"Map"),x=W(p,"Promise"),M=W(p,"Set"),R=W(p,"WeakMap"),D=!C.call({valueOf:1},"valueOf"),F=J(N),L=J(B),q=J(x),$=J(M),z=J(R);function U(t){if(!X(t)||function(t){return!!O&&O in t}(t))return!1;var e=Q(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?k:s;return e.test(J(t))}function W(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return U(r)?r:void 0}var K=function(t){return T.call(t)};function J(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function V(t){return function(t){return function(t){return!!t&&"object"==n(t)}(t)&&H(t)}(t)&&A.call(t,"callee")&&(!C.call(t,"callee")||"[object Arguments]"==T.call(t))}(N&&K(new N(new ArrayBuffer(1)))!=c||B&&K(new B)!=o||x&&K(x.resolve())!=i||M&&K(new M)!=a||R&&K(new R)!=u)&&(K=function(t){var e=T.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?J(r):void 0;if(n)switch(n){case F:return c;case L:return o;case q:return i;case $:return a;case z:return u}return e});var G=Array.isArray;function H(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!Q(t)}var Z=I||function(){return!1};function Q(t){var e=X(t)?T.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function X(t){var e=n(t);return!!t&&("object"==e||"function"==e)}t.exports=function(t){if(H(t)&&(G(t)||"string"==typeof t||"function"==typeof t.splice||Z(t)||V(t)))return!t.length;var e=K(t);if(e==o||e==a)return!t.size;if(D||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||j)}(t))return!P(t).length;for(var r in t)if(A.call(t,r))return!1;return!0}}({get exports(){return A},set exports(t){A=t}},A);var T=A,k={};!function(t,e){var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",s="[object Error]",f="[object Function]",l="[object Map]",p="[object Number]",d="[object Object]",v="[object Promise]",h="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",m="[object WeakMap]",j="[object ArrayBuffer]",w="[object DataView]",O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,S=/^\w*$/,A=/^\./,T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,k=/\\(\\)?/g,E=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[i]=I[a]=I[j]=I[u]=I[w]=I[c]=I[s]=I[f]=I[l]=I[p]=I[d]=I[h]=I[g]=I[b]=I[m]=!1;var P="object"==n(y)&&y&&y.Object===Object&&y,N="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,B=P||N||Function("return this")(),x=e&&!e.nodeType&&e,M=x&&t&&!t.nodeType&&t,R=M&&M.exports===x&&P.process,D=function(){try{return R&&R.binding("util")}catch(t){}}(),F=D&&D.isTypedArray;function L(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function q(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function $(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function U(t,e){return function(r){return t(e(r))}}function W(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var K,J=Array.prototype,V=Function.prototype,G=Object.prototype,H=B["__core-js_shared__"],Z=(K=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",Q=V.toString,X=G.hasOwnProperty,Y=G.toString,tt=RegExp("^"+Q.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=B.Symbol,rt=B.Uint8Array,nt=U(Object.getPrototypeOf,Object),ot=G.propertyIsEnumerable,it=J.splice,at=Object.getOwnPropertySymbols,ut=U(Object.keys,Object),ct=Lt(B,"DataView"),st=Lt(B,"Map"),ft=Lt(B,"Promise"),lt=Lt(B,"Set"),pt=Lt(B,"WeakMap"),dt=Lt(Object,"create"),vt=Zt(ct),ht=Zt(st),yt=Zt(ft),gt=Zt(lt),bt=Zt(pt),_t=et?et.prototype:void 0,mt=_t?_t.valueOf:void 0,jt=_t?_t.toString:void 0;function wt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function At(t){var e=-1,r=t?t.length:0;for(this.__data__=new St;++e<r;)this.add(t[e])}function Tt(t){this.__data__=new Ot(t)}function kt(t,e){var r=te(t)||Yt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!X.call(t,i)||o&&("length"==i||Ut(i,n))||r.push(i);return r}function Et(t,e){for(var r=t.length;r--;)if(Xt(t[r][0],e))return r;return-1}function Ct(t,e){for(var r=0,n=(e=Wt(e,t)?[e]:Mt(e)).length;null!=t&&r<n;)t=t[Ht(e[r++])];return r&&r==n?t:void 0}function It(t,e){return null!=t&&e in Object(t)}function Pt(t,e,r,n,o){return t===e||(null==t||null==e||!oe(t)&&!ie(e)?t!=t&&e!=e:function(t,e,r,n,o,f){var v=te(t),y=te(e),m=a,O=a;v||(m=(m=zt(t))==i?d:m);y||(O=(O=zt(e))==i?d:O);var S=m==d&&!$(t),A=O==d&&!$(e),T=m==O;if(T&&!S)return f||(f=new Tt),v||ce(t)?Rt(t,e,r,n,o,f):function(t,e,r,n,o,i,a){switch(r){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case j:return!(t.byteLength!=e.byteLength||!n(new rt(t),new rt(e)));case u:case c:case p:return Xt(+t,+e);case s:return t.name==e.name&&t.message==e.message;case h:case b:return t==e+"";case l:var f=z;case g:var d=2&i;if(f||(f=W),t.size!=e.size&&!d)return!1;var v=a.get(t);if(v)return v==e;i|=1,a.set(t,e);var y=Rt(f(t),f(e),n,o,i,a);return a.delete(t),y;case _:if(mt)return mt.call(t)==mt.call(e)}return!1}(t,e,m,r,n,o,f);if(!(2&o)){var k=S&&X.call(t,"__wrapped__"),E=A&&X.call(e,"__wrapped__");if(k||E){var C=k?t.value():t,I=E?e.value():e;return f||(f=new Tt),r(C,I,n,o,f)}}if(!T)return!1;return f||(f=new Tt),function(t,e,r,n,o,i){var a=2&o,u=se(t),c=u.length,s=se(e).length;if(c!=s&&!a)return!1;var f=c;for(;f--;){var l=u[f];if(!(a?l in e:X.call(e,l)))return!1}var p=i.get(t);if(p&&i.get(e))return p==e;var d=!0;i.set(t,e),i.set(e,t);var v=a;for(;++f<c;){var h=t[l=u[f]],y=e[l];if(n)var g=a?n(y,h,l,e,t,i):n(h,y,l,t,e,i);if(!(void 0===g?h===y||r(h,y,n,o,i):g)){d=!1;break}v||(v="constructor"==l)}if(d&&!v){var b=t.constructor,_=e.constructor;b==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(d=!1)}return i.delete(t),i.delete(e),d}(t,e,r,n,o,f)}(t,e,Pt,r,n,o))}function Nt(t){return!(!oe(t)||(e=t,Z&&Z in e))&&(re(t)||$(t)?tt:E).test(Zt(t));var e}function Bt(t){return"function"==typeof t?t:null==t?le:"object"==n(t)?te(t)?function(t,e){if(Wt(t)&&Jt(e))return Vt(Ht(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Ct(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=Wt(e,t)?[e]:Mt(e);var n,o=-1,i=e.length;for(;++o<i;){var a=Ht(e[o]);if(!(n=null!=t&&r(t,a)))break;t=t[a]}if(n)return n;return!!(i=t?t.length:0)&&ne(i)&&Ut(a,i)&&(te(t)||Yt(t))}(t,e,It)}(r,t):Pt(e,n,void 0,3)}}(t[0],t[1]):function(t){var e=function(t){var e=se(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,Jt(o)]}return e}(t);if(1==e.length&&e[0][2])return Vt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],s=t[c],f=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var l=new Tt;if(n)var p=n(s,f,c,t,e,l);if(!(void 0===p?Pt(f,s,n,3,l):p))return!1}}return!0}(r,t,e)}}(t):Wt(e=t)?(r=Ht(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Ct(e,t)}}(e);var e,r}function xt(t){if(!oe(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=Kt(t),r=[];for(var n in t)("constructor"!=n||!e&&X.call(t,n))&&r.push(n);return r}function Mt(t){return te(t)?t:Gt(t)}function Rt(t,e,r,n,o,i){var a=2&o,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t);if(s&&i.get(e))return s==e;var f=-1,l=!0,p=1&o?new At:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var d=t[f],v=e[f];if(n)var h=a?n(v,d,f,e,t,i):n(d,v,f,t,e,i);if(void 0!==h){if(h)continue;l=!1;break}if(p){if(!q(e,(function(t,e){if(!p.has(e)&&(d===t||r(d,t,n,o,i)))return p.add(e)}))){l=!1;break}}else if(d!==v&&!r(d,v,n,o,i)){l=!1;break}}return i.delete(t),i.delete(e),l}function Dt(t){return function(t,e,r){var n=e(t);return te(t)?n:L(n,r(t))}(t,fe,$t)}function Ft(t,e){var r,o,i=t.__data__;return("string"==(o=n(r=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Lt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Nt(r)?r:void 0}wt.prototype.clear=function(){this.__data__=dt?dt(null):{}},wt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},wt.prototype.get=function(t){var e=this.__data__;if(dt){var n=e[t];return n===r?void 0:n}return X.call(e,t)?e[t]:void 0},wt.prototype.has=function(t){var e=this.__data__;return dt?void 0!==e[t]:X.call(e,t)},wt.prototype.set=function(t,e){return this.__data__[t]=dt&&void 0===e?r:e,this},Ot.prototype.clear=function(){this.__data__=[]},Ot.prototype.delete=function(t){var e=this.__data__,r=Et(e,t);return!(r<0)&&(r==e.length-1?e.pop():it.call(e,r,1),!0)},Ot.prototype.get=function(t){var e=this.__data__,r=Et(e,t);return r<0?void 0:e[r][1]},Ot.prototype.has=function(t){return Et(this.__data__,t)>-1},Ot.prototype.set=function(t,e){var r=this.__data__,n=Et(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},St.prototype.clear=function(){this.__data__={hash:new wt,map:new(st||Ot),string:new wt}},St.prototype.delete=function(t){return Ft(this,t).delete(t)},St.prototype.get=function(t){return Ft(this,t).get(t)},St.prototype.has=function(t){return Ft(this,t).has(t)},St.prototype.set=function(t,e){return Ft(this,t).set(t,e),this},At.prototype.add=At.prototype.push=function(t){return this.__data__.set(t,r),this},At.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.clear=function(){this.__data__=new Ot},Tt.prototype.delete=function(t){return this.__data__.delete(t)},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Ot){var n=r.__data__;if(!st||n.length<199)return n.push([t,e]),this;r=this.__data__=new St(n)}return r.set(t,e),this};var qt=at?U(at,Object):pe,$t=at?function(t){for(var e=[];t;)L(e,qt(t)),t=nt(t);return e}:pe,zt=function(t){return Y.call(t)};function Ut(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||C.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t,e){if(te(t))return!1;var r=n(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ae(t))||(S.test(t)||!O.test(t)||null!=e&&t in Object(e))}function Kt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||G)}function Jt(t){return t==t&&!oe(t)}function Vt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ct&&zt(new ct(new ArrayBuffer(1)))!=w||st&&zt(new st)!=l||ft&&zt(ft.resolve())!=v||lt&&zt(new lt)!=g||pt&&zt(new pt)!=m)&&(zt=function(t){var e=Y.call(t),r=e==d?t.constructor:void 0,n=r?Zt(r):void 0;if(n)switch(n){case vt:return w;case ht:return l;case yt:return v;case gt:return g;case bt:return m}return e});var Gt=Qt((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ae(t))return jt?jt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var r=[];return A.test(t)&&r.push(""),t.replace(T,(function(t,e,n,o){r.push(n?o.replace(k,"$1"):e||t)})),r}));function Ht(t){if("string"==typeof t||ae(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Zt(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Qt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(Qt.Cache||St),r}function Xt(t,e){return t===e||t!=t&&e!=e}function Yt(t){return function(t){return ie(t)&&ee(t)}(t)&&X.call(t,"callee")&&(!ot.call(t,"callee")||Y.call(t)==i)}Qt.Cache=St;var te=Array.isArray;function ee(t){return null!=t&&ne(t.length)&&!re(t)}function re(t){var e=oe(t)?Y.call(t):"";return e==f||"[object GeneratorFunction]"==e}function ne(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function oe(t){var e=n(t);return!!t&&("object"==e||"function"==e)}function ie(t){return!!t&&"object"==n(t)}function ae(t){return"symbol"==n(t)||ie(t)&&Y.call(t)==_}var ue,ce=F?(ue=F,function(t){return ue(t)}):function(t){return ie(t)&&ne(t.length)&&!!I[Y.call(t)]};function se(t){return ee(t)?kt(t):function(t){if(!Kt(t))return ut(t);var e=[];for(var r in Object(t))X.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}function fe(t){return ee(t)?kt(t,!0):xt(t)}function le(t){return t}function pe(){return[]}t.exports=function(t,e){return null==t?{}:function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],u=t[a];r(u,a)&&(i[a]=u)}return i}(t,Dt(t),Bt(e))}}({get exports(){return k},set exports(t){k=t}},k);var E=9007199254740991,C="[object Arguments]",I="[object Function]",P="[object GeneratorFunction]",N="[object Symbol]",B="object"==n(y)&&y&&y.Object===Object&&y,x="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,M=B||x||Function("return this")();function R(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var D=Object.prototype,F=D.hasOwnProperty,L=D.toString,q=M.Symbol,$=D.propertyIsEnumerable,z=q?q.isConcatSpreadable:void 0,U=Math.max;function W(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=K),o||(o=[]);++i<a;){var u=t[i];e>0&&r(u)?e>1?W(u,e-1,r,n,o):R(o,u):n||(o[o.length]=u)}return o}function K(t){return H(t)||function(t){return function(t){return Z(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=E}(t.length)&&!function(t){var e=function(t){var e=n(t);return!!t&&("object"==e||"function"==e)}(t)?L.call(t):"";return e==I||e==P}(t)}(t)}(t)&&F.call(t,"callee")&&(!$.call(t,"callee")||L.call(t)==C)}(t)||!!(z&&t&&t[z])}function J(t){if("string"==typeof t||function(t){return"symbol"==n(t)||Z(t)&&L.call(t)==N}(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}var V,G,H=Array.isArray;function Z(t){return!!t&&"object"==n(t)}V=function(t,e){return null==t?{}:function(t,e){return function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],u=t[a];r(u,a)&&(i[a]=u)}return i}(t=Object(t),e,(function(e,r){return r in t}))}(t,function(t,e){for(var r=-1,n=t?t.length:0,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(W(e,1),J))},G=U(void 0===G?V.length-1:G,0);var Q="object"==n(y)&&y&&y.Object===Object&&y,X="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,Y=(Q||X||Function("return this")()).Symbol,tt=Y?Y.prototype:void 0;tt&&tt.toString;var et,rt=function(t){return!T(t)},nt=function(t){return function(t){return!S(t)}(t)&&function(t){return null!=t}(t)},ot=function(t,e){var r=t.message,n=r.properties,o={},i={},a=[{event:"setCustomerId",id:g(r.userId)},{event:"setRetailerVisitorId",id:g(r.anonymousId)}];if(n&&n.email){var u=n.email.trim().toLowerCase();o.event="setEmail",o.hash_method=e,o.email="md5"===e?g(u):u,a.push(o)}return n&&n.zipCode&&(i.event="setZipcode",i.zipCode=n.zipCode||n.zip,a.push(i)),a},it=function(t,e){var r=t.message,n={},o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"to",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={};return Array.isArray(t)&&t.forEach((function(t){rt(t[e])&&(o[n?t[e].toLowerCase():t[e]]=t[r])})),o}(e,"from","to",!1);return Object.keys(o).forEach((function(t){nt(r.properties[t])&&(n[o[t]]=r.properties[t])})),n},at="CRITEO";i(et={},at,at),i(et,"Criteo",at),i(et,"criteo",at);var ut=["product viewed","cart viewed","order completed","product list viewed"],ct=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.logLevel&&c(r.logLevel),this.name=at,this.hashMethod=e.hashMethod,this.accountId=e.accountId,this.url=e.homePageUrl,this.deviceType=/iPad/.test(navigator.userAgent)?"t":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent)?"m":"d",this.fieldMapping=e.fieldMapping,this.eventsToStandard=e.eventsToStandard,this.OPERATOR_LIST=["eq","gt","lt","ge","le","in"],this.areTransformationsConnected=n&&n.areTransformationsConnected,this.destinationId=n&&n.destinationId}var e,n,i;return e=t,n=[{key:"init",value:function(){s("===in init Criteo==="),this.accountId?(window.criteo_q=window.criteo_q||[],function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(document.getElementById(t))return;var n=document.createElement("script");n.src=e,n.async=void 0===r.async||r.async,n.type="text/javascript",n.id=t,!0!==r.skipDatasetAttributes&&(n.setAttribute("data-loader",h),void 0!==r.isNonNativeSDK&&n.setAttribute("data-isNonNativeSDK",r.isNonNativeSDK));var o=document.getElementsByTagName("head");if(o.length>0)o[0].insertBefore(n,o[0].firstChild);else{var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}catch(i){p(i)}}("Criteo","//dynamic.criteo.com/js/ld/ld.js?a=".concat(this.accountId)),window.criteo_q.push({event:"setAccount",account:this.accountId}),window.criteo_q.push({event:"setSiteType",type:this.deviceType})):s("Account ID missing")}},{key:"isLoaded",value:function(){return s("===in Criteo isLoaded==="),!(!window.criteo_q||window.criteo_q.push===Array.prototype.push)}},{key:"isReady",value:function(){return s("===in Criteo isReady==="),!(!window.criteo_q||window.criteo_q.push===Array.prototype.push)}},{key:"page",value:function(t){var e=t.message,n=e.name,o=e.properties,i=ot(t,this.hashMethod);if("home"===n||o&&"home"===o.name||this.url&&this.url===window.location.href||o&&o.url===this.url){i.push({event:"viewHome"});var a=it(t,this.fieldMapping);0!==Object.keys(a).length&&i.push(r({event:"setData"},a)),window.criteo_q.push(i)}else s("[Criteo] Home page is not detected")}},{key:"track",value:function(t){var e=this,n=t.message,o=n.event,i=n.properties,a=ot(t,this.hashMethod);if(o)if(i&&0!==Object.keys(i).length){var u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"to",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={};return Array.isArray(t)&&t.forEach((function(t){if(rt(t[e])){var i=n?t[e].toLowerCase().trim():t[e].trim();o[i]?o[i].includes(t[r])||o[i].push(t[r]):o[i]=[t[r]]}})),o}(this.eventsToStandard),c=o.toLowerCase().trim();if(ut.includes(c)||u[c]){var f=[];ut.includes(c)?f.push(c):f=u[c],f.forEach((function(r){switch(r){case"product viewed":!function(t,e){var r=t.properties;if(r.product_id){var n={event:"viewItem",item:String(r.product_id)};r.price&&!Number.isNaN(parseFloat(r.price))&&(n.price=parseFloat(r.price)),!r.availability||1!==r.availability&&0!==r.availability||(n.availability=r.availability),e.push(n)}else s("[Criteo] product_id is a mandatory field to use Product Tag in criteo")}(t.message,a);break;case"cart viewed":case"order completed":!function(t,e){var r,n=t.event,o=t.properties,i=n.toLowerCase().trim(),a=[];if(o&&o.products&&o.products.length>0)if(o.products.forEach((function(t,e){t.product_id&&t.price&&t.quantity?(r={id:String(t.product_id),price:parseFloat(t.price),quantity:parseInt(t.quantity,10)},Number.isNaN(parseFloat(r.price))||Number.isNaN(parseInt(r.quantity,10))||a.push(r)):s("[Criteo] product at index ".concat(e," is skipped for insufficient information"))})),0!==a.length){if("cart viewed"===i){var u={event:"viewBasket",item:a};e.push(u)}if("order completed"===i){var c={event:"trackTransaction",id:String(o.order_id),item:a};if(!c.id)return void s("[Criteo] order_id (Transaction Id) is a mandatory field");1!==o.new_customer&&0!==o.new_customer||(c.new_customer=o.new_customer),1!==o.deduplication&&0!==o.deduplication||(c.deduplication=o.deduplication),e.push(c)}}else s("[Criteo] None of the products had sufficient information or information is wrongly formatted");else s("[Criteo] Payload should consist of at least one product information")}(t.message,a);break;case"product list viewed":!function(t,e,r){var n=t.properties,o=[],i=[],a={},u=["name","value"];n.products&&n.products.length>0?(n.products.forEach((function(t){t.product_id&&o.push(String(t.product_id))})),0!==o.length?(a.event="viewList",a.item=o,a.category=String(n.category),a.keywords=String(n.keywords),n.page_number&&!Number.isNaN(parseInt(n.page_number,10))&&(a.page_number=parseInt(n.page_number,10)),n.filters&&n.filters.forEach((function(t){var e={};Object.keys(t).forEach((function(n){(u.includes(n)||"operator"===n&&r.includes(t.operator))&&(e[n]=t[n])})),i.push(e)})),i.length>0&&(a.filters=i),e.push(a)):s("[Criteo] None of the product information had product_id")):s("[Criteo] The payload should consist of atleast one product information")}(t.message,a,e.OPERATOR_LIST)}}));var l=it(t,this.fieldMapping);0!==Object.keys(l).length&&a.push(r({event:"setData"},l)),window.criteo_q.push(a)}else s("[Criteo] event ".concat(c," is not supported"))}else s("[Criteo] Either properties object is missing or empty in the track call");else s("[Criteo] Event name from track call is missing!!===")}}],n&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();return t.Criteo=ct,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=Criteo.min.js.map
