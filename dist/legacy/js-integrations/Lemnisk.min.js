var Lemnisk_RS=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var s,l={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},c=function(){function e(n,r){t(this,e),this.level=+r||l.ERROR.value,this.scope=n||""}return r(e,[{key:"setLogLevel",value:function(e){if(e&&"string"==typeof e){var t=e.toUpperCase();this.level=l[t]?l[t].value:this.level}}},{key:"setScope",value:function(e){this.scope=e||this.scope}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.LOG.value)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.INFO.value)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.DEBUG.value)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.WARN.value)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logBase(t,l.ERROR.value)}},{key:"logBase",value:function(e,t){if(this.level<=t){var n=Object.values(l).find((function(e){return e.value===t}));n.method.apply(n,o(this.getLogData(e)))}}},{key:"getLogData",value:function(e){if(Array.isArray(e)&&e.length>0){var t="%c RS SDK";this.scope&&(t="".concat(t," - ").concat(this.scope));var n=e[0].trim();t="".concat(t," %c ").concat(n);var r=[];return r.push(t),r.push("font-weight: bold; background: black; color: white;"),r.push("font-weight: normal;"),r.push.apply(r,o(e.slice(1))),r}return e}}]),e}(),m="LEMNISK";i(s={},m,m),i(s,"LEMNISK_MARKETING_AUTOMATION",m),i(s,"Lemnisk Marketing Automation",m),i(s,"LemniskMarketingAutomation",m),i(s,"lemniskmarketingautomation",m),i(s,"lemniskMarketingAutomation",m),i(s,"lemnisk",m),i(s,"Lemnisk",m);var f=new c(m),d=function(){function e(n,r,i){t(this,e),r.logLevel&&f.setLogLevel(r.logLevel),this.accountId=n.accountId,this.sdkWriteKey=n.sdkWriteKey,this.name=m,this.areTransformationsConnected=i&&i.areTransformationsConnected,this.destinationId=i&&i.destinationId}return r(e,[{key:"init",value:function(){f.debug("===in init Lemnisk Marketing Automation==="),function(e,t,n,r,i){var o=["init","page","track","identify"];e.lmSMTObj=e.lmSMTObj||[];for(var a=0;a<o.length;a++)lmSMTObj[o[a]]=function(e){return function(){lmSMTObj.push([e].concat(Array.prototype.slice.call(arguments)))}}(o[a]);r=n.getElementsByTagName("head")[0],(i=n.createElement("script")).setAttribute("data-loader","RS_JS_SDK"),i.type="text/javascript",i.async=1,i.src=t,r.appendChild(i)}(window,"https:"===document.location.protocol?"https://cdn25.lemnisk.co/ssp/st/".concat(this.accountId,".js"):"http://cdn25.lemnisk.co/ssp/st/".concat(this.accountId,".js"),document),window.lmSMTObj.init(this.sdkWriteKey)}},{key:"isLoaded",value:function(){return f.debug("===In isLoaded Lemnisk Marketing Automation==="),!!window.lmSMTObj}},{key:"isReady",value:function(){return f.debug("===In isReady Lemnisk Marketing Automation==="),!!window.lmSMTObj}},{key:"identify",value:function(e){var t;if(f.debug("===In Lemnisk Marketing Automation identify==="),e.message.userId||e.message.anonymousId){var n=(null===(t=e.message)||void 0===t?void 0:t.context).traits;n?window.lmSMTObj.identify(e.message.userId,n):window.lmSMTObj.identify(e.message.userId)}else f.debug("[Lemnisk] identify:: user id is required")}},{key:"track",value:function(e){f.debug("===In Lemnisk Marketing Automation track===");var t=e.message,n=t.event,r=t.properties;n?r?window.lmSMTObj.track(n,r):window.lmSMTObj.track(n):f.error("[Lemnisk] track:: Event name is missing!")}},{key:"page",value:function(e){f.debug("===In Lemnisk Marketing Automation page===");var t=e.message,n=t.name,r=t.properties;n&&!r?window.lmSMTObj.page(n):!n&&r?window.lmSMTObj.page(r):n&&r?window.lmSMTObj.page(n,r):window.lmSMTObj.page()}}]),e}();return e.Lemnisk=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=Lemnisk.min.js.map
