var LaunchDarkly_RS=function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function r(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var a=function(e){return null!=e&&"object"===t(e)&&!1===Array.isArray(e)};function o(e,t,n){return"function"==typeof n.join?n.join(e):e[0]+t+e[1]}function s(e,t,n){return"function"!=typeof n.isValid||n.isValid(e,t)}function c(e){return a(e)||Array.isArray(e)||"function"==typeof e}var u=4,l=function(e){switch(e.toUpperCase()){case"INFO":u=1;break;case"DEBUG":u=2;break;case"WARN":u=3;break;default:u=4}},d=function(){var e;u<=2&&(e=console).log.apply(e,arguments)},f=function(){var e;u<=4&&(e=console).error.apply(e,arguments)};function y(e){var t=window.rudderanalytics&&window.rudderanalytics.errorReporting;t&&e instanceof Error&&t.notify(e)}function v(e,t,n){var r;try{r=function(e,t,n){var r;try{r="string"==typeof e?e:e instanceof Error||e.message?e.message:JSON.stringify(e)}catch(e){r=""}if(e instanceof Event){if(e.target&&"script"!==e.target.localName)return"";if(e.target.dataset&&("RS_JS_SDK"!==e.target.dataset.loader||"true"!==e.target.dataset.isNonNativeSDK))return"";if(r="error in script loading:: src::  ".concat(e.target.src," id:: ").concat(e.target.id),"ad-block"===e.target.id)return n.page("RudderJS-Initiated","ad-block page request",{path:"/ad-blocked",title:r},n.sendAdblockPageOptions),""}return"[handleError]::".concat(t||"",' "').concat(r,'"')}(e,t,n)}catch(t){f("[handleError] Exception:: ",t),f("[handleError] Original error:: ",JSON.stringify(e)),y(t)}r&&(f(r),y(e))}var p,m="RS_JS_SDK",h="LAUNCHDARKLY";r(p={},h,h),r(p,"LaunchDarkly",h),r(p,"Launch_Darkly",h),r(p,"Launch Darkly",h),r(p,"launchDarkly",h),r(p,"launch darkly",h);var g=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.logLevel&&l(n.logLevel),this.name=h,this.clientSideId=t.clientSideId,this.anonymousUsersSharedKey=t.anonymousUsersSharedKey,this.areTransformationsConnected=r&&r.areTransformationsConnected,this.destinationId=r&&r.destinationId}var t,r,i;return t=e,r=[{key:"init",value:function(){d("===in init LaunchDarkly==="),this.clientSideId?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(document.getElementById(e))return;var r=document.createElement("script");r.src=t,r.async=void 0===n.async||n.async,r.type="text/javascript",r.id=e,!0!==n.skipDatasetAttributes&&(r.setAttribute("data-loader",m),void 0!==n.isNonNativeSDK&&r.setAttribute("data-isNonNativeSDK",n.isNonNativeSDK));var i=document.getElementsByTagName("head");if(i.length>0)i[0].insertBefore(r,i[0].firstChild);else{var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a)}}catch(a){v(a)}}(null,"https://unpkg.com/launchdarkly-js-client-sdk@2"):f("".concat(this.name," :: Unable to initialize destination - clientSideId is missing in config"))}},{key:"isLoaded",value:function(){return d("===In isLoaded LaunchDarkly==="),!!window.LDClient}},{key:"isReady",value:function(){return d("===In isReady LaunchDarkly==="),this.isLoaded()}},{key:"identify",value:function(e){var t=e.message,n=function(e,t,n){if(a(n)||(n={default:n}),!c(e))return void 0!==n.default?n.default:e;"number"==typeof t&&(t=String(t));var r=Array.isArray(t),i="string"==typeof t,u=n.separator||".",l=n.joinChar||("string"==typeof u?u:".");if(!i&&!r)return e;if(i&&t in e)return s(t,e,n)?e[t]:n.default;var d=r?t:function(e,t,n){return"function"==typeof n.split?n.split(e):e.split(t)}(t,u,n),f=d.length,y=0;do{var v=d[y];for("number"==typeof v&&(v=String(v));v&&"\\"===v.slice(-1);)v=o([v.slice(0,-1),d[++y]||""],l,n);if(v in e){if(!s(v,e,n))return n.default;e=e[v]}else{for(var p=!1,m=y+1;m<f;)if(p=(v=o([v,d[m++]],l,n))in e){if(!s(v,e,n))return n.default;e=e[v],y=m-1;break}if(!p)return n.default}}while(++y<f&&c(e));return y===f?e:n.default}(t,"integrations.".concat(h,".key"))||this.anonymousUsersSharedKey;this.launchDarklyUser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={};n.key=e.userId||e.anonymousId;var r=e.context.traits;return void 0!==r.anonymous&&(n.anonymous=r.anonymous,t&&(n.key=t)),void 0!==r.avatar&&(n.avatar=r.avatar),void 0!==r.country&&(n.country=r.country),void 0!==r.custom&&(n.custom=r.custom),void 0!==r.email&&(n.email=r.email),void 0!==r.firstName&&(n.firstName=r.firstName),void 0!==r.ip&&(n.ip=r.ip),void 0!==r.lastName&&(n.lastName=r.lastName),void 0!==r.name&&(n.name=r.name),void 0!==r.privateAttributeNames&&(n.privateAttributeNames=r.privateAttributeNames),void 0!==r.secondary&&(n.secondary=r.secondary),n}(t,n),window.ldclient?window.ldclient.identify(this.launchDarklyUser):window.ldclient=window.LDClient.initialize(this.clientSideId,this.launchDarklyUser)}},{key:"track",value:function(e){var t=e.message,n=t.event,r=t.properties;window.ldclient?window.ldclient.track(n,r):f("=== In LaunchDarkly, track is not supported before identify ===")}},{key:"alias",value:function(e){var t={key:e.message.userId};window.ldclient?window.ldclient.alias(t,this.launchDarklyUser):f("=== In LaunchDarkly, alias is not supported before identify ===")}}],r&&n(t.prototype,r),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();return e.LaunchDarkly=g,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=LaunchDarkly.min.js.map
