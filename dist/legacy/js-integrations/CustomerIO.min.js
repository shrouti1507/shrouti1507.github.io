var CustomerIO_RS=function(e){"use strict";function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}function i(e,t,i){return(t=r(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var n,o=4,a=function(e){switch(e.toUpperCase()){case"INFO":o=1;break;case"DEBUG":o=2;break;case"WARN":o=3;break;default:o=4}},s=function(){var e;o<=2&&(e=console).log.apply(e,arguments)},u="CUSTOMERIO";i(n={},u,u),i(n,"Customerio",u),i(n,"Customer.io",u),i(n,"CUSTOMER.IO",u),i(n,"customer.io",u);var c=function(){function e(t,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.logLevel&&a(i.logLevel),this.siteID=t.siteID,this.apiKey=t.apiKey,this.name=u,this.areTransformationsConnected=r&&r.areTransformationsConnected,this.destinationId=r&&r.destinationId}var i,r,n;return i=e,r=[{key:"init",value:function(){s("===in init Customer IO init==="),window._cio=window._cio||[];var e=this.siteID;!function(){var t,i,r;for(t=function(e){return function(){window._cio.push([e].concat(Array.prototype.slice.call(arguments,0)))}},i=["load","identify","sidentify","track","page"],r=0;r<i.length;r++)window._cio[i[r]]=t(i[r]);var n=document.createElement("script"),o=document.getElementsByTagName("script")[0];n.async=!0,n.setAttribute("data-loader","RS_JS_SDK"),n.id="cio-tracker",n.setAttribute("data-site-id",e),n.src="https://assets.customer.io/assets/track.js",o.parentNode.insertBefore(n,o)}()}},{key:"identify",value:function(e){s("in Customer IO identify");var t=e.message.userId?e.message.userId:e.message.anonymousId,i=e.message.context.traits?e.message.context.traits:{},r=i.createdAt;r&&(i.created_at=Math.floor(new Date(r).getTime()/1e3)),i.id=t,window._cio.identify(i)}},{key:"track",value:function(e){s("in Customer IO track");var t=e.message.event,i=e.message.properties;window._cio.track(t,i)}},{key:"page",value:function(e){s("in Customer IO page");var t=e.message.name||e.message.properties.url;window._cio.page(t,e.message.properties)}},{key:"isLoaded",value:function(){return!(!window._cio||window._cio.push===Array.prototype.push)}},{key:"isReady",value:function(){return!(!window._cio||window._cio.push===Array.prototype.push)}}],r&&t(i.prototype,r),n&&t(i,n),Object.defineProperty(i,"prototype",{writable:!1}),e}();return e.CustomerIO=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=CustomerIO.min.js.map
