{"version":3,"file":"TVSquared.min.js","sources":["../../../src/utils/logUtil.js","../../../src/utils/errorHandler.js","../../../src/utils/constants.js","../../../src/utils/ScriptLoader.js","../../../src/integrations/TVSquared/constants.js","../../../src/integrations/TVSquared/browser.js"],"sourcesContent":["const LOG_LEVEL_INFO = 1;\nconst LOG_LEVEL_DEBUG = 2;\nconst LOG_LEVEL_WARN = 3;\nconst LOG_LEVEL_ERROR = 4;\nconst DEF_LOG_LEVEL = LOG_LEVEL_ERROR;\nlet LOG_LEVEL = DEF_LOG_LEVEL;\n\nconst logger = {\n  setLogLevel(logLevel) {\n    switch (logLevel.toUpperCase()) {\n      case 'INFO':\n        LOG_LEVEL = LOG_LEVEL_INFO;\n        break;\n      case 'DEBUG':\n        LOG_LEVEL = LOG_LEVEL_DEBUG;\n        break;\n      case 'WARN':\n        LOG_LEVEL = LOG_LEVEL_WARN;\n        break;\n      default:\n        LOG_LEVEL = DEF_LOG_LEVEL;\n        break;\n    }\n  },\n\n  info(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_INFO) {\n      console.info(...args);\n    }\n  },\n\n  debug(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_DEBUG) {\n      console.log(...args);\n    }\n  },\n\n  warn(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_WARN) {\n      console.warn(...args);\n    }\n  },\n\n  error(...args) {\n    if (LOG_LEVEL <= LOG_LEVEL_ERROR) {\n      console.error(...args);\n    }\n  },\n};\n\nexport default logger;\n","import logger from './logUtil';\nimport { LOAD_ORIGIN, ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME } from './constants';\n\n/**\n * This function is to send handled errors to available error reporting client\n *\n * @param {Error} error Error instance from handled error\n */\nfunction notifyError(error) {\n  const errorReportingClient =\n    window.rudderanalytics && window.rudderanalytics[ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME];\n\n  if (errorReportingClient && error instanceof Error) {\n    errorReportingClient.notify(error);\n  }\n}\n\nfunction normalizeError(error, customMessage, analyticsInstance) {\n  let errorMessage;\n  try {\n    if (typeof error === 'string') {\n      errorMessage = error;\n    } else if (error instanceof Error) {\n      errorMessage = error.message;\n    } else {\n      errorMessage = error.message ? error.message : JSON.stringify(error);\n    }\n  } catch (e) {\n    errorMessage = '';\n  }\n\n  if (error instanceof Event) {\n    // Discard all the non-script loading errors\n    if (error.target && error.target.localName !== 'script') {\n      return '';\n    }\n\n    // Discard script errors that are not originated at SDK or from native SDKs\n    if (\n      error.target.dataset &&\n      (error.target.dataset.loader !== LOAD_ORIGIN ||\n        error.target.dataset.isNonNativeSDK !== 'true')\n    )\n      return '';\n\n    errorMessage = `error in script loading:: src::  ${error.target.src} id:: ${error.target.id}`;\n\n    // SDK triggered ad-blocker script\n    if (error.target.id === 'ad-block') {\n      analyticsInstance.page(\n        'RudderJS-Initiated',\n        'ad-block page request',\n        { path: '/ad-blocked', title: errorMessage },\n        analyticsInstance.sendAdblockPageOptions,\n      );\n      // No need to proceed further for Ad-block errors\n      return '';\n    }\n  }\n\n  const customErrMessagePrefix = customMessage || '';\n  return `[handleError]::${customErrMessagePrefix} \"${errorMessage}\"`;\n}\n\nfunction handleError(error, customMessage, analyticsInstance) {\n  let errorMessage;\n\n  try {\n    errorMessage = normalizeError(error, customMessage, analyticsInstance);\n  } catch (err) {\n    logger.error('[handleError] Exception:: ', err);\n    logger.error('[handleError] Original error:: ', JSON.stringify(error));\n    notifyError(err);\n  }\n\n  if (!errorMessage) {\n    return;\n  }\n\n  logger.error(errorMessage);\n  notifyError(error);\n}\n\nexport { notifyError, handleError, normalizeError };\n","// Reserved Keywords for properties/traits\nconst RESERVED_KEYS = [\n  'anonymous_id',\n  'id',\n  'sent_at',\n  'received_at',\n  'timestamp',\n  'original_timestamp',\n  'event_text',\n  'event',\n];\n\nconst CONFIG_URL =\n  'https://api.rudderlabs.com/sourceConfig/?p=__MODULE_TYPE__&v=__PACKAGE_VERSION__';\nconst SDK_CDN_BASE_URL = 'https://cdn.rudderlabs.com';\nconst CDN_ARCH_VERSION_DIR = 'v1.1';\nconst CDN_INT_DIR = 'js-integrations';\nconst DEST_SDK_BASE_URL = `${SDK_CDN_BASE_URL}/${CDN_ARCH_VERSION_DIR}/${CDN_INT_DIR}`;\n\nconst MAX_WAIT_FOR_INTEGRATION_LOAD = 10000;\nconst INTEGRATION_LOAD_CHECK_INTERVAL = 1000;\nconst MAX_TIME_TO_BUFFER_CLOUD_MODE_EVENTS = 10000;\nconst INTG_SUFFIX = '_RS';\nconst POLYFILL_URL =\n  'https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.find%2CArray.prototype.includes%2CPromise%2CString.prototype.endsWith%2CString.prototype.includes%2CString.prototype.startsWith%2CObject.entries%2CObject.values%2CElement.prototype.dataset%2CString.prototype.replaceAll';\n\nconst GENERIC_TRUE_VALUES = ['true', 'True', 'TRUE', 't', 'T', '1'];\nconst GENERIC_FALSE_VALUES = ['false', 'False', 'FALSE', 'f', 'F', '0'];\n\nconst SAMESITE_COOKIE_OPTS = ['Lax', 'None', 'Strict'];\n\nconst DEFAULT_SESSION_TIMEOUT = 30 * 60 * 1000; // 30 min in milliseconds\nconst MIN_SESSION_TIMEOUT = 10 * 1000; // 10 sec in milliseconds\nconst MIN_SESSION_ID_LENGTH = 10;\n\nconst ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME = 'errorReporting';\nconst LOAD_ORIGIN = 'RS_JS_SDK';\n\nconst DEFAULT_REGION = 'US';\nconst DEFAULT_DATAPLANE_URL = 'https://hosted.rudderlabs.com';\n\nconst RESIDENCY_SERVERS = [DEFAULT_REGION, 'EU'];\n\nconst SUPPORTED_CONSENT_MANAGERS = ['oneTrust'];\n\nconst SYSTEM_KEYWORDS = ['library', 'consentManagement'];\nconst UA_CH_LEVELS = ['none', 'default', 'full'];\n\nconst DEFAULT_INTEGRATIONS_CONFIG = { All: true };\n\nexport {\n  RESERVED_KEYS,\n  CONFIG_URL,\n  SDK_CDN_BASE_URL,\n  CDN_ARCH_VERSION_DIR,\n  CDN_INT_DIR,\n  DEST_SDK_BASE_URL,\n  MAX_WAIT_FOR_INTEGRATION_LOAD,\n  INTEGRATION_LOAD_CHECK_INTERVAL,\n  INTG_SUFFIX,\n  POLYFILL_URL,\n  GENERIC_TRUE_VALUES,\n  GENERIC_FALSE_VALUES,\n  SAMESITE_COOKIE_OPTS,\n  DEFAULT_SESSION_TIMEOUT,\n  MIN_SESSION_TIMEOUT,\n  MIN_SESSION_ID_LENGTH,\n  ERROR_REPORTING_SERVICE_GLOBAL_KEY_NAME,\n  LOAD_ORIGIN,\n  DEFAULT_REGION,\n  DEFAULT_DATAPLANE_URL,\n  RESIDENCY_SERVERS,\n  SUPPORTED_CONSENT_MANAGERS,\n  SYSTEM_KEYWORDS,\n  UA_CH_LEVELS,\n  DEFAULT_INTEGRATIONS_CONFIG,\n  MAX_TIME_TO_BUFFER_CLOUD_MODE_EVENTS,\n};\n","/* eslint-disable no-use-before-define */\n// import logger from \"../utils/logUtil\";\n\nimport { handleError } from \"./errorHandler\";\n\nconst defaultAsyncState = true;\n\nexport const LOAD_ORIGIN = 'RS_JS_SDK';\n/**\n * Script loader\n * @param {String} id                               Id of the script\n * @param {String} src                              URL of the script\n * @param {Object} options                          Object containing different configuration\n * @param {Boolean} options.async                   Determines script will be loaded asynchronously or not\n * @param {Boolean} options.isNonNativeSDK          Determines whether the script that will be loaded is one of RS's own\n * @param {Boolean} options.skipDatasetAttributes   Determines whether to add or skip dataset attribute\n */\nconst ScriptLoader = (id, src, options = {}) => {\n  try {\n    const exists = document.getElementById(id);\n    if (exists) {\n      // logger.debug(\"script already loaded\");\n      return;\n    }\n\n    const js = document.createElement('script');\n    js.src = src;\n    js.async = options.async === undefined ? defaultAsyncState : options.async;\n    js.type = 'text/javascript';\n    js.id = id;\n    // This checking is in place to skip the dataset attribute for some cases(while loading polyfill)\n    if (options.skipDatasetAttributes !== true) {\n      js.setAttribute('data-loader', LOAD_ORIGIN);\n      if (options.isNonNativeSDK !== undefined) {\n        js.setAttribute('data-isNonNativeSDK', options.isNonNativeSDK);\n      }\n    }\n    const headElmColl = document.getElementsByTagName('head');\n    if (headElmColl.length > 0) {\n      // logger.debug(\"==adding script==\", js);\n      headElmColl[0].insertBefore(js, headElmColl[0].firstChild);\n    } else {\n      const e = document.getElementsByTagName('script')[0];\n      // logger.debug(\"==parent script==\", e);\n      // logger.debug(\"==adding script==\", js);\n      e.parentNode.insertBefore(js, e);\n    }\n  } catch (e) {\n    handleError(e);\n  }\n};\n\nexport default ScriptLoader;\n","const NAME = 'TVSQUARED';\nconst CNameMapping = {\n  [NAME]: NAME,\n  TVSquared: NAME,\n  tvsquared: NAME,\n  tvSquared: NAME,\n  TvSquared: NAME,\n  Tvsquared: NAME,\n  'TV Squared': NAME,\n  'tv squared': NAME,\n  'tv Squared': NAME,\n};\n\nexport { NAME, CNameMapping };\n","/* eslint-disable camelcase */\n/* eslint-disable no-underscore-dangle */\nimport ScriptLoader from '../../utils/ScriptLoader';\nimport logger from '../../utils/logUtil';\nimport { NAME } from './constants';\n\nclass TVSquared {\n  constructor(config, analytics, destinationInfo) {\n    if (analytics.logLevel) {\n      logger.setLogLevel(analytics.logLevel);\n    }\n    this.brandId = config.brandId;\n    this.clientId = config.clientId;\n    this.eventWhiteList = config.eventWhiteList || [];\n    this.customMetrics = config.customMetrics || [];\n    this.name = NAME;\n    this.areTransformationsConnected = destinationInfo && destinationInfo.areTransformationsConnected;\n    this.destinationId = destinationInfo && destinationInfo.destinationId;\n  }\n\n  init() {\n    logger.debug('===in init TVSquared===');\n    window._tvq = window._tvq || [];\n    let url = document.location.protocol === 'https:' ? 'https://' : 'http://';\n    url += `collector-${this.clientId}.tvsquared.com/`;\n    window._tvq.push(['setSiteId', this.brandId]);\n    window._tvq.push(['setTrackerUrl', `${url}tv2track.php`]);\n    ScriptLoader('TVSquared-integration', `${url}tv2track.js`);\n  }\n\n  isLoaded = () => {\n    logger.debug('in TVSqaured isLoaded');\n    return !!(window._tvq && window._tvq.push !== Array.prototype.push);\n  };\n\n  isReady = () => {\n    logger.debug('in TVSqaured isReady');\n    return !!(window._tvq && window._tvq.push !== Array.prototype.push);\n  };\n\n  page = () => {\n    window._tvq.push([\n      function () {\n        this.deleteCustomVariable(5, 'page');\n      },\n    ]);\n    window._tvq.push(['trackPageView']);\n  };\n\n  track(rudderElement) {\n    const { event, userId, anonymousId } = rudderElement.message;\n    const { revenue, productType, category, order_id, promotion_id } =\n      rudderElement.message.properties;\n    let i;\n    let j;\n    let whitelist = this.eventWhiteList.slice();\n    whitelist = whitelist.filter((wl) => {\n      return wl.event !== '';\n    });\n    for (i = 0; i < whitelist.length; i += 1) {\n      if (event.toUpperCase() === whitelist[i].event.toUpperCase()) {\n        break;\n      }\n      if (i === whitelist.length - 1) {\n        return;\n      }\n    }\n\n    const session = { user: userId || anonymousId || '' };\n    const action = {\n      rev: revenue ? this.formatRevenue(revenue) : '',\n      prod: category || productType || '',\n      id: order_id || '',\n      promo: promotion_id || '',\n    };\n    let customMetrics = this.customMetrics.slice();\n    customMetrics = customMetrics.filter((cm) => {\n      return cm.propertyName !== '';\n    });\n    if (customMetrics.length) {\n      for (j = 0; j < customMetrics.length; j += 1) {\n        const key = customMetrics[j].propertyName;\n        const value = rudderElement.message.properties[key];\n        if (value) {\n          action[key] = value;\n        }\n      }\n    }\n    window._tvq.push([\n      function () {\n        this.setCustomVariable(5, 'session', JSON.stringify(session), 'visit');\n      },\n    ]);\n    if (event.toUpperCase() !== 'RESPONSE') {\n      window._tvq.push([\n        function () {\n          this.setCustomVariable(5, event, JSON.stringify(action), 'page');\n        },\n      ]);\n      window._tvq.push(['trackPageView']);\n    } else {\n      window._tvq.push([\n        function () {\n          this.deleteCustomVariable(5, 'page');\n        },\n      ]);\n    }\n  }\n\n  formatRevenue = (revenue) => {\n    let rev = revenue;\n    rev = parseFloat(rev.toString().replace(/^[^\\d.]*/, ''));\n    return rev;\n  };\n}\nexport default TVSquared;\n"],"names":["LOG_LEVEL","logger","logLevel","toUpperCase","_console2","console","log","apply","arguments","_console4","error","notifyError","errorReportingClient","window","rudderanalytics","Error","notify","handleError","customMessage","analyticsInstance","errorMessage","message","JSON","stringify","e","Event","target","localName","dataset","loader","isNonNativeSDK","concat","src","id","page","path","title","sendAdblockPageOptions","normalizeError","err","_CNameMapping","LOAD_ORIGIN","NAME","_defineProperty","TVSquared","config","analytics","destinationInfo","_classCallCheck","isLoaded","_tvq","push","Array","prototype","isReady","this","deleteCustomVariable","formatRevenue","revenue","rev","parseFloat","toString","replace","brandId","clientId","eventWhiteList","customMetrics","name","areTransformationsConnected","destinationId","key","value","url","document","location","protocol","options","length","undefined","getElementById","js","createElement","async","type","skipDatasetAttributes","setAttribute","headElmColl","getElementsByTagName","insertBefore","firstChild","parentNode","ScriptLoader","rudderElement","i","j","_rudderElement$messag","event","userId","anonymousId","_rudderElement$messag2","properties","productType","category","order_id","promotion_id","whitelist","slice","filter","wl","session","user","action","prod","promo","cm","propertyName","setCustomVariable"],"mappings":"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"}