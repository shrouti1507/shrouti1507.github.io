var Lotame_RS=function(e){"use strict";function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var l,h=4,p=function(e){switch(e.toUpperCase()){case"INFO":h=1;break;case"DEBUG":h=2;break;case"WARN":h=3;break;default:h=4}},d=function(){var e;h<=2&&(e=console).log.apply(e,arguments)},g=function(){var e;h<=4&&(e=console).error.apply(e,arguments)},v=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{}),y={},m={get exports(){return y},set exports(e){y=e}};function b(){return l||(l=1,m.exports=(e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},f=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,u=e.min(4*c,i);if(c){for(var f=0;f<c;f+=o)this._doProcessBlock(n,f);var l=n.splice(0,c);r.sigBytes-=u}return new s.init(l,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}});var h=n.algo={};return n}(Math),e)),y;var e}var C,_={},w={get exports(){return _},set exports(e){_=e}};function x(){return C||(C=1,w.exports=(e=b(),function(){var t=e,r=t.lib.WordArray;function n(e,t,n){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2,c=n[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|c)<<24-o%4*8,o++}return r.create(i,o)}t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64)),_;var e}var k,S={},F={get exports(){return S},set exports(e){S=e}};function I(){return k||(k=1,F.exports=(e=b(),function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,s=r.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],c=e[t+1],p=e[t+2],d=e[t+3],g=e[t+4],v=e[t+5],y=e[t+6],m=e[t+7],b=e[t+8],C=e[t+9],_=e[t+10],w=e[t+11],x=e[t+12],k=e[t+13],S=e[t+14],F=e[t+15],I=o[0],A=o[1],O=o[2],B=o[3];I=u(I,A,O,B,s,7,a[0]),B=u(B,I,A,O,c,12,a[1]),O=u(O,B,I,A,p,17,a[2]),A=u(A,O,B,I,d,22,a[3]),I=u(I,A,O,B,g,7,a[4]),B=u(B,I,A,O,v,12,a[5]),O=u(O,B,I,A,y,17,a[6]),A=u(A,O,B,I,m,22,a[7]),I=u(I,A,O,B,b,7,a[8]),B=u(B,I,A,O,C,12,a[9]),O=u(O,B,I,A,_,17,a[10]),A=u(A,O,B,I,w,22,a[11]),I=u(I,A,O,B,x,7,a[12]),B=u(B,I,A,O,k,12,a[13]),O=u(O,B,I,A,S,17,a[14]),I=f(I,A=u(A,O,B,I,F,22,a[15]),O,B,c,5,a[16]),B=f(B,I,A,O,y,9,a[17]),O=f(O,B,I,A,w,14,a[18]),A=f(A,O,B,I,s,20,a[19]),I=f(I,A,O,B,v,5,a[20]),B=f(B,I,A,O,_,9,a[21]),O=f(O,B,I,A,F,14,a[22]),A=f(A,O,B,I,g,20,a[23]),I=f(I,A,O,B,C,5,a[24]),B=f(B,I,A,O,S,9,a[25]),O=f(O,B,I,A,d,14,a[26]),A=f(A,O,B,I,b,20,a[27]),I=f(I,A,O,B,k,5,a[28]),B=f(B,I,A,O,p,9,a[29]),O=f(O,B,I,A,m,14,a[30]),I=l(I,A=f(A,O,B,I,x,20,a[31]),O,B,v,4,a[32]),B=l(B,I,A,O,b,11,a[33]),O=l(O,B,I,A,w,16,a[34]),A=l(A,O,B,I,S,23,a[35]),I=l(I,A,O,B,c,4,a[36]),B=l(B,I,A,O,g,11,a[37]),O=l(O,B,I,A,m,16,a[38]),A=l(A,O,B,I,_,23,a[39]),I=l(I,A,O,B,k,4,a[40]),B=l(B,I,A,O,s,11,a[41]),O=l(O,B,I,A,d,16,a[42]),A=l(A,O,B,I,y,23,a[43]),I=l(I,A,O,B,C,4,a[44]),B=l(B,I,A,O,x,11,a[45]),O=l(O,B,I,A,F,16,a[46]),I=h(I,A=l(A,O,B,I,p,23,a[47]),O,B,s,6,a[48]),B=h(B,I,A,O,m,10,a[49]),O=h(O,B,I,A,S,15,a[50]),A=h(A,O,B,I,v,21,a[51]),I=h(I,A,O,B,x,6,a[52]),B=h(B,I,A,O,d,10,a[53]),O=h(O,B,I,A,_,15,a[54]),A=h(A,O,B,I,c,21,a[55]),I=h(I,A,O,B,b,6,a[56]),B=h(B,I,A,O,F,10,a[57]),O=h(O,B,I,A,y,15,a[58]),A=h(A,O,B,I,k,21,a[59]),I=h(I,A,O,B,g,6,a[60]),B=h(B,I,A,O,w,10,a[61]),O=h(O,B,I,A,p,15,a[62]),A=h(A,O,B,I,C,21,a[63]),o[0]=o[0]+I|0,o[1]=o[1]+A|0,o[2]=o[2]+O|0,o[3]=o[3]+B|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,c=a.words,u=0;u<4;u++){var f=c[u];c[u]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+i+s;return(a<<o|a>>>32-o)+t}function f(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+i+s;return(a<<o|a>>>32-o)+t}function l(e,t,r,n,i,o,s){var a=e+(t^r^n)+i+s;return(a<<o|a>>>32-o)+t}function h(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+i+s;return(a<<o|a>>>32-o)+t}r.MD5=o._createHelper(c),r.HmacMD5=o._createHmacHelper(c)}(Math),e.MD5)),S;var e}var A,O={},B={get exports(){return O},set exports(e){O=e}},E={},P={get exports(){return E},set exports(e){E=e}};function U(){return A||(A=1,P.exports=(a=b(),t=(e=a).lib,r=t.WordArray,n=t.Hasher,i=e.algo,o=[],s=i.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],c=r[4],u=0;u<80;u++){if(u<16)o[u]=0|e[t+u];else{var f=o[u-3]^o[u-8]^o[u-14]^o[u-16];o[u]=f<<1|f>>>31}var l=(n<<5|n>>>27)+c+o[u];l+=u<20?1518500249+(i&s|~i&a):u<40?1859775393+(i^s^a):u<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,c=a,a=s,s=i<<30|i>>>2,i=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=n._createHelper(s),e.HmacSHA1=n._createHmacHelper(s),a.SHA1)),E;var e,t,r,n,i,o,s,a}var D,j,T={},z={get exports(){return T},set exports(e){T=e}};function M(){return j||(j=1,B.exports=function(e){return r=(t=e).lib,n=r.Base,i=r.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),o=i.create(),s=o.words,a=r.keySize,c=r.iterations;s.length<a;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var f=1;f<c;f++)u=n.finalize(u),n.reset();o.concat(u)}return o.sigBytes=4*a,o}}),t.EvpKDF=function(e,t,r){return a.create(r).compute(e,t)},e.EvpKDF;var t,r,n,i,o,s,a}(b(),U(),D||(D=1,z.exports=(e=b(),void function(){var t=e,r=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,c=s.words,u=0;u<r;u++)a[u]^=1549556828,c[u]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}())))),O;var e}var R,L,N={},H={get exports(){return N},set exports(e){N=e}};({get exports(){return v},set exports(e){v=e}}).exports=function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,i=[],o=[],s=[],a=[],c=[],u=[],f=[],l=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,i[r]=d,o[d]=r;var g=e[r],v=e[g],y=e[v],m=257*e[d]^16843008*d;s[r]=m<<24|m>>>8,a[r]=m<<16|m>>>16,c[r]=m<<8|m>>>24,u[r]=m,m=16843009*y^65537*v^257*g^16843008*r,f[d]=m<<24|m>>>8,l[d]=m<<16|m>>>16,h[d]=m<<8|m>>>24,p[d]=m,r?(r=g^e[e[e[y^g]]],n^=e[e[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)if(s<r)o[s]=t[s];else{var a=o[s-1];s%r?r>6&&s%r==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=d[s/r|0]<<24),o[s]=o[s-r]^a}for(var c=this._invKeySchedule=[],u=0;u<n;u++)s=n-u,a=u%4?o[s]:o[s-4],c[u]=u<4||s<=4?a:f[i[a>>>24]]^l[i[a>>>16&255]]^h[i[a>>>8&255]]^p[i[255&a]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,c,u,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,f,l,h,p,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,a){for(var c=this._nRounds,u=e[t]^r[0],f=e[t+1]^r[1],l=e[t+2]^r[2],h=e[t+3]^r[3],p=4,d=1;d<c;d++){var g=n[u>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&h]^r[p++],v=n[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&u]^r[p++],y=n[l>>>24]^i[h>>>16&255]^o[u>>>8&255]^s[255&f]^r[p++],m=n[h>>>24]^i[u>>>16&255]^o[f>>>8&255]^s[255&l]^r[p++];u=g,f=v,l=y,h=m}g=(a[u>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[p++],v=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^r[p++],y=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&f])^r[p++],m=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^r[p++],e[t]=g,e[t+1]=v,e[t+2]=y,e[t+3]=m},keySize:8});t.AES=r._createHelper(g)}(),e.AES}(b(),x(),I(),M(),R||(R=1,H.exports=(L=b(),M(),void(L.lib.Cipher||function(e){var t=L,r=t.lib,n=r.Base,i=r.WordArray,o=r.BufferedBlockAlgorithm,s=t.enc;s.Utf8;var a=s.Base64,c=t.algo.EvpKDF,u=r.Cipher=o.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?m:v}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()});r.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=t.mode={},l=r.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=f.CBC=function(){var t=l.extend();function r(t,r,n){var i=this._iv;if(i){var o=i;this._iv=e}else o=this._prevBlock;for(var s=0;s<n;s++)t[r+s]^=o[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);n.decryptBlock(e,t),r.call(this,e,t,i),this._prevBlock=o}}),t}(),p=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(o);var c=i.create(s,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};r.BlockCipher=u.extend({cfg:u.cfg.extend({mode:h,padding:p}),reset:function(){u.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=r.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=i.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(a)},parse:function(e){var t=a.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=i.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return d.create({ciphertext:t,salt:n})}},v=r.SerializableCipher=n.extend({cfg:n.extend({format:g}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return d.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var o=c.create({keySize:t+r}).compute(e,n),s=i.create(o.words.slice(t),4*r);return o.sigBytes=4*t,d.create({key:o,iv:s,salt:n})}},m=r.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:y}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=v.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,v.decrypt.call(this,e,t,i.key,n)}})}()))));var K=v,$={};!function(e,t){e.exports=function(e){return e.enc.Utf8}(b())}({get exports(){return $},set exports(e){$=e}});var J=$,W=function(e){return null!=e&&"object"===n(e)&&!1===Array.isArray(e)},G=function(e,t,r){if(W(r)||(r={default:r}),!Z(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));var n=Array.isArray(t),i="string"==typeof t,o=r.separator||".",s=r.joinChar||("string"==typeof o?o:".");if(!i&&!n)return e;if(i&&t in e)return V(t,e,r)?e[t]:r.default;var a=n?t:function(e,t,r){if("function"==typeof r.split)return r.split(e);return e.split(t)}(t,o,r),c=a.length,u=0;do{var f=a[u];for("number"==typeof f&&(f=String(f));f&&"\\"===f.slice(-1);)f=X([f.slice(0,-1),a[++u]||""],s,r);if(f in e){if(!V(f,e,r))return r.default;e=e[f]}else{for(var l=!1,h=u+1;h<c;)if(l=(f=X([f,a[h++]],s,r))in e){if(!V(f,e,r))return r.default;e=e[f],u=h-1;break}if(!l)return r.default}}while(++u<c&&Z(e));return u===c?e:r.default};function X(e,t,r){return"function"==typeof r.join?r.join(e):e[0]+t+e[1]}function V(e,t,r){return"function"!=typeof r.isValid||r.isValid(e,t)}function Z(e){return W(e)||Array.isArray(e)||"function"==typeof e}var q="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Q(){throw new Error("setTimeout has not been defined")}function Y(){throw new Error("clearTimeout has not been defined")}var ee=Q,te=Y;function re(e){if(ee===setTimeout)return setTimeout(e,0);if((ee===Q||!ee)&&setTimeout)return ee=setTimeout,setTimeout(e,0);try{return ee(e,0)}catch(t){try{return ee.call(null,e,0)}catch(t){return ee.call(this,e,0)}}}"function"==typeof q.setTimeout&&(ee=setTimeout),"function"==typeof q.clearTimeout&&(te=clearTimeout);var ne,ie=[],oe=!1,se=-1;function ae(){oe&&ne&&(oe=!1,ne.length?ie=ne.concat(ie):se=-1,ie.length&&ce())}function ce(){if(!oe){var e=re(ae);oe=!0;for(var t=ie.length;t;){for(ne=ie,ie=[];++se<t;)ne&&ne[se].run();se=-1,t=ie.length}ne=null,oe=!1,function(e){if(te===clearTimeout)return clearTimeout(e);if((te===Y||!te)&&clearTimeout)return te=clearTimeout,clearTimeout(e);try{te(e)}catch(t){try{return te.call(null,e)}catch(t){return te.call(this,e)}}}(e)}}function ue(e,t){this.fun=e,this.array=t}ue.prototype.run=function(){this.fun.apply(null,this.array)};function fe(){}var le=fe,he=fe,pe=fe,de=fe,ge=fe,ve=fe,ye=fe;var me=q.performance||{},be=me.now||me.mozNow||me.msNow||me.oNow||me.webkitNow||function(){return(new Date).getTime()};var Ce=new Date;var _e,we,xe={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];ie.push(new ue(e,t)),1!==ie.length||oe||re(ce)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:le,addListener:he,once:pe,off:de,removeListener:ge,removeAllListeners:ve,emit:ye,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*be.call(me),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Ce)/1e3}},ke={};function Se(){if(we)return _e;we=1;var e=1e3,t=60*e,r=60*t,i=24*r,o=7*i,s=365.25*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}return _e=function(c,u){u=u||{};var f=n(c);if("string"===f&&c.length>0)return function(n){if((n=String(n)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(c);if("number"===f&&isFinite(c))return u.long?function(n){var o=Math.abs(n);if(o>=i)return a(n,o,i,"day");if(o>=r)return a(n,o,r,"hour");if(o>=t)return a(n,o,t,"minute");if(o>=e)return a(n,o,e,"second");return n+" ms"}(c):function(n){var o=Math.abs(n);if(o>=i)return Math.round(n/i)+"d";if(o>=r)return Math.round(n/r)+"h";if(o>=t)return Math.round(n/t)+"m";if(o>=e)return Math.round(n/e)+"s";return n+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))},_e}var Fe=function(e){function t(e){var n,i,o,s=null;function a(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(a.enabled){var o=a,s=Number(new Date),c=s-(n||s);o.diff=c,o.prev=n,o.curr=s,n=s,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";u++;var i=t.formatters[n];if("function"==typeof i){var s=r[u];e=i.call(o,s),r.splice(u,1),u--}return e})),t.formatArgs.call(o,r);var f=o.log||t.log;f.apply(o,r)}}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(c(t.names.map(n)),c(t.skips.map(n).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=Se(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t};!function(e,t){var r;t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==xe&&"env"in xe&&(e=xe.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=Fe(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}({get exports(){return ke},set exports(e){ke=e}},ke);var Ie=ke("cookie"),Ae=function(e,t,r){switch(arguments.length){case 3:case 2:return Oe(e,t,r);case 1:return Ee(e);default:return Be()}};function Oe(e,t,r){r=r||{};var n=Pe(e)+"="+Pe(t);null==t&&(r.maxage=-1),r.maxage&&(r.expires=new Date(+new Date+r.maxage)),r.path&&(n+="; path="+r.path),r.domain&&(n+="; domain="+r.domain),r.expires&&(n+="; expires="+r.expires.toUTCString()),r.samesite&&(n+="; samesite="+r.samesite),r.secure&&(n+="; secure"),document.cookie=n}function Be(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,r={},n=e.split(/ *; */);if(""==n[0])return r;for(var i=0;i<n.length;++i)r[Ue((t=n[i].split("="))[0])]=Ue(t[1]);return r}(e)}function Ee(e){return Be()[e]}function Pe(e){try{return encodeURIComponent(e)}catch(t){Ie("error `encode(%o)` - %o",e,t)}}function Ue(e){try{return decodeURIComponent(e)}catch(t){Ie("error `decode(%o)` - %o",e,t)}}var De={},je={get exports(){return De},set exports(e){De=e}},Te=Math.max,ze=function(e,t){var r=t?t.length:0;if(!r)return[];for(var n=Te(Number(e)||0,0),i=Te(r-n,0),o=new Array(i),s=0;s<i;s+=1)o[s]=t[s+n];return o},Me=Math.max,Re=ze,Le=function(e){if(null==e||!e.length)return[];for(var t=new Array(Me(e.length-2,0)),r=1;r<e.length;r+=1)t[r-1]=e[r];return t},Ne=Object.prototype.hasOwnProperty,He=Object.prototype.toString,Ke=function(e){return Boolean(e)&&"object"===n(e)},$e=function(e){return Boolean(e)&&"[object Object]"===He.call(e)},Je=function(e,t,r,n){return Ne.call(t,n)&&void 0===e[n]&&(e[n]=r),t},We=function(e,t,r,n){return Ne.call(t,n)&&($e(e[n])&&$e(r)?e[n]=Xe(e[n],r):void 0===e[n]&&(e[n]=r)),t},Ge=function(e,t){if(!Ke(t))return t;e=e||Je;for(var r=Re(2,arguments),n=0;n<r.length;n+=1)for(var i in r[n])e(t,r[n],r[n][i],i);return t},Xe=function(e){return Ge.apply(null,[We,e].concat(Le(arguments)))};je.exports=function(e){return Ge.apply(null,[null,e].concat(Le(arguments)))},De.deep=Xe;var Ve={},Ze={get exports(){return Ve},set exports(e){Ve=e}},qe={};!function(e){function t(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}e.parse=function(e){var r=document.createElement("a");return r.href=e,{href:r.href,host:r.host||location.host,port:"0"===r.port||""===r.port?t(r.protocol):r.port,hash:r.hash,hostname:r.hostname||location.hostname,pathname:"/"!=r.pathname.charAt(0)?"/"+r.pathname:r.pathname,protocol:r.protocol&&":"!=r.protocol?r.protocol:location.protocol,search:r.search,query:r.search.slice(1)}},e.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")},e.isRelative=function(t){return!e.isAbsolute(t)},e.isCrossDomain=function(t){t=e.parse(t);var r=e.parse(window.location.href);return t.hostname!==r.hostname||t.port!==r.port||t.protocol!==r.protocol}}(qe);var Qe=ke("cookie"),Ye=function(e,t,r){switch(arguments.length){case 3:case 2:return et(e,t,r);case 1:return rt(e);default:return tt()}};function et(e,t,r){r=r||{};var n=nt(e)+"="+nt(t);null==t&&(r.maxage=-1),r.maxage&&(r.expires=new Date(+new Date+r.maxage)),r.path&&(n+="; path="+r.path),r.domain&&(n+="; domain="+r.domain),r.expires&&(n+="; expires="+r.expires.toUTCString()),r.secure&&(n+="; secure"),document.cookie=n}function tt(){var e;try{e=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return function(e){var t,r={},n=e.split(/ *; */);if(""==n[0])return r;for(var i=0;i<n.length;++i)r[it((t=n[i].split("="))[0])]=it(t[1]);return r}(e)}function rt(e){return tt()[e]}function nt(e){try{return encodeURIComponent(e)}catch(t){Qe("error `encode(%o)` - %o",e,t)}}function it(e){try{return decodeURIComponent(e)}catch(t){Qe("error `decode(%o)` - %o",e,t)}}!function(e,t){var r=qe.parse,n=Ye;function i(e){for(var r=t.cookie,n=t.levels(e),i=0;i<n.length;++i){var o="__tld__",s=n[i],a={domain:"."+s};if(r(o,1,a),r(o))return r(o,null,a),s}return""}i.levels=function(e){var t=r(e).hostname.split("."),n=t[t.length-1],i=[];if(4===t.length&&n===parseInt(n,10))return i;if(t.length<=1)return i;for(var o=t.length-2;o>=0;--o)i.push(t.slice(o).join("."));return i},i.cookie=n,t=e.exports=i}(Ze,Ve);var ot=Ve;function st(e){return null!=e&&"object"===n(e)&&!0===e["@@functional/placeholder"]}function at(e){return function t(r){return 0===arguments.length||st(r)?t:e.apply(this,arguments)}}var ct=at((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function ut(e,t,r,n){var i,o=function(i){for(var o=t.length,s=0;s<o;){if(e===t[s])return r[s];s+=1}for(var a in t[s]=e,r[s]=i,e)e.hasOwnProperty(a)&&(i[a]=n?ut(e[a],t,r,!0):e[a]);return i};switch(ct(e)){case"Object":return o(Object.create(Object.getPrototypeOf(e)));case"Array":return o([]);case"Date":return new Date(e.valueOf());case"RegExp":return i=e,new RegExp(i.source,(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.sticky?"y":"")+(i.unicode?"u":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var ft=at((function(e){return null!=e&&"function"==typeof e.clone?e.clone():ut(e,[],[],!0)})),lt=function(){function e(t){i(this,e),this.cOpts={},this.options(t),this.isSupportAvailable=this.checkSupportAvailability()}return s(e,[{key:"options",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===arguments.length)return this.cOpts;var t=".".concat(ot(window.location.href));return"."===t&&(t=null),this.cOpts=De(e,{maxage:31536e6,path:"/",domain:t,samesite:"Lax"}),this.cOpts}},{key:"set",value:function(e,t){try{return Ae(e,t,ft(this.cOpts)),!0}catch(e){return g(e),!1}}},{key:"get",value:function(e){return Ae(e)}},{key:"remove",value:function(e){try{return Ae(e,null,ft(this.cOpts)),!0}catch(e){return!1}}},{key:"checkSupportAvailability",value:function(){var e="test_rudder_cookie";return this.set(e,!0),!!this.get(e)&&(this.remove(e),!0)}}]),e}(),ht=new lt({}),pt={};!function(e,t){e.exports=function(){var e=window.localStorage;function t(e){return e=JSON.stringify(e),!!/^\{[\s\S]*\}$/.test(e)}function r(e){return void 0===e||"function"==typeof e?e+"":JSON.stringify(e)}function n(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}}function i(e){return"[object Function]"==={}.toString.call(e)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e){var t="_Is_Incognit",r="yes";try{e.setItem(t,r)}catch(t){if("QuotaExceededError"===t.name){var n=function(){};e.__proto__={setItem:n,getItem:n,removeItem:n,clear:n}}}finally{e.getItem(t)===r&&e.removeItem(t)}return e}function a(){if(!(this instanceof a))return new a}e=s(e),a.prototype={set:function(n,i){if(n&&!t(n))e.setItem(n,r(i));else if(t(n))for(var o in n)this.set(o,n[o]);return this},get:function(t){if(!t){var r={};return this.forEach((function(e,t){return r[e]=t})),r}if("?"===t.charAt(0))return this.has(t.substr(1));var i=arguments;if(i.length>1){for(var o={},s=0,a=i.length;s<a;s++){var c=n(e.getItem(i[s]));this.has(i[s])&&(o[i[s]]=c)}return o}return n(e.getItem(t))},clear:function(){return e.clear(),this},remove:function(t){var r=this.get(t);return e.removeItem(t),r},has:function(e){return{}.hasOwnProperty.call(this.get(),e)},keys:function(){var e=[];return this.forEach((function(t){e.push(t)})),e},forEach:function(t){for(var r=0,n=e.length;r<n;r++){var i=e.key(r);t(i,this.get(i))}return this},search:function(e){for(var t=this.keys(),r={},n=0,i=t.length;n<i;n++)t[n].indexOf(e)>-1&&(r[t[n]]=this.get(t[n]));return r}};var c=null;function u(e,r){var n=arguments,s=null;if(c||(c=a()),0===n.length)return c.get();if(1===n.length){if("string"==typeof e)return c.get(e);if(t(e))return c.set(e)}if(2===n.length&&"string"==typeof e){if(!r)return c.remove(e);if(r&&"string"==typeof r)return c.set(e,r);r&&i(r)&&(s=null,s=r(e,c.get(e)),u.set(e,s))}if(2===n.length&&o(e)&&i(r))for(var f=0,l=e.length;f<l;f++)s=r(e[f],c.get(e[f])),u.set(e[f],s);return u}for(var f in a.prototype)u[f]=a.prototype[f];return u}()}({get exports(){return pt},set exports(e){pt=e}});var dt=pt,gt=function(){function e(t){i(this,e),this.sOpts={},this.enabled=this.checkSupportAvailability(),this.options(t)}return s(e,[{key:"options",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===arguments.length||(De(e,{enabled:!0}),this.enabled=e.enabled&&this.enabled,this.sOpts=e),this.sOpts}},{key:"set",value:function(e,t){return dt.set(e,t)}},{key:"get",value:function(e){return dt.get(e)}},{key:"remove",value:function(e){return dt.remove(e)}},{key:"checkSupportAvailability",value:function(){var e="test_rudder_ls";return this.set(e,!0),!!this.get(e)&&(this.remove(e),!0)}}]),e}(),vt=new gt({}),yt="rl_user_id",mt="rl_trait",bt="rl_anonymous_id",Ct="rl_group_id",_t="rl_group_trait",wt="rl_page_init_referrer",xt="rl_page_init_referring_domain",kt="rl_session",St="rl_auth_token",Ft="RudderEncrypt:",It="Rudder",At={segment:"ajs_anonymous_id"};function Ot(e){try{return e?JSON.parse(e):null}catch(t){return g(t),e||null}}function Bt(e){return e.replace(/^\s+|\s+$/gm,"")}function Et(e){return!e||"string"==typeof e&&""===Bt(e)?e:e.substring(0,Ft.length)===Ft?K.decrypt(e.substring(Ft.length),It).toString(J):e}var Pt,Ut=function(){function e(){i(this,e),ht.isSupportAvailable?this.storage=ht:(vt.enabled&&(this.storage=vt),this.storage||g("No storage is available :: initializing the SDK without storage"))}return s(e,[{key:"options",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.storage.options(e)}},{key:"setItem",value:function(e,t){this.storage.set(e,function(e){return""===Bt(e)?e:"".concat(Ft).concat(K.encrypt(e,It).toString())}(function(e){return JSON.stringify(e)}(t)))}},{key:"setStringItem",value:function(e,t){"string"==typeof t?this.setItem(e,t):g("[Storage] ".concat(e," should be string"))}},{key:"setUserId",value:function(e){this.setStringItem(yt,e)}},{key:"setUserTraits",value:function(e){this.setItem(mt,e)}},{key:"setGroupId",value:function(e){this.setStringItem(Ct,e)}},{key:"setGroupTraits",value:function(e){this.setItem(_t,e)}},{key:"setAnonymousId",value:function(e){this.setStringItem(bt,e)}},{key:"setInitialReferrer",value:function(e){this.setItem(wt,e)}},{key:"setInitialReferringDomain",value:function(e){this.setItem(xt,e)}},{key:"setSessionInfo",value:function(e){this.setItem(kt,e)}},{key:"setAuthToken",value:function(e){this.setItem(St,e)}},{key:"getItem",value:function(e){return Ot(Et(this.storage.get(e)))}},{key:"getUserId",value:function(){return this.getItem(yt)}},{key:"getUserTraits",value:function(){return this.getItem(mt)}},{key:"getGroupId",value:function(){return this.getItem(Ct)}},{key:"getGroupTraits",value:function(){return this.getItem(_t)}},{key:"fetchExternalAnonymousId",value:function(e){var t,r=e.toLowerCase();return Object.keys(At).includes(r)&&"segment"===r?(vt.enabled&&(t=vt.get(At[r])),!t&&ht.isSupportAvailable&&(t=ht.get(At[r])),t):t}},{key:"getAnonymousId",value:function(e){var t=Ot(Et(this.storage.get(bt)));if(t)return t;var r=G(e,"autoCapture.source");if(!0===G(e,"autoCapture.enabled")&&"string"==typeof r){var n=this.fetchExternalAnonymousId(r);if(n)return n}return t}},{key:"getInitialReferrer",value:function(){return this.getItem(wt)}},{key:"getInitialReferringDomain",value:function(){return this.getItem(xt)}},{key:"getSessionInfo",value:function(){return this.getItem(kt)}},{key:"getAuthToken",value:function(){return this.getItem(St)}},{key:"removeItem",value:function(e){return this.storage.remove(e)}},{key:"removeSessionInfo",value:function(){this.removeItem(kt)}},{key:"clear",value:function(e){this.storage.remove(yt),this.storage.remove(mt),this.storage.remove(Ct),this.storage.remove(_t),this.storage.remove(St),e&&this.storage.remove(bt)}}]),e}(),Dt=new Ut,jt="lt_synch_timestamp",Tt=new(function(){function e(){i(this,e),this.storage=Dt}return s(e,[{key:"setLotameSynchTime",value:function(e){this.storage.setItem(jt,e)}},{key:"getLotameSynchTime",value:function(){return this.storage.getItem(jt)}}]),e}()),zt="LOTAME";a(Pt={},zt,zt),a(Pt,"Lotame",zt),a(Pt,"lotame",zt);var Mt=function(){function e(t,r,n){var o=this;i(this,e),r.logLevel&&p(r.logLevel),this.name=zt,this.analytics=r,this.storage=Tt,this.bcpUrlSettingsPixel=t.bcpUrlSettingsPixel,this.bcpUrlSettingsIframe=t.bcpUrlSettingsIframe,this.dspUrlSettingsPixel=t.dspUrlSettingsPixel,this.dspUrlSettingsIframe=t.dspUrlSettingsIframe,this.mappings={},t.mappings.forEach((function(e){var t=e.key,r=e.value;o.mappings[t]=r})),this.areTransformationsConnected=n&&n.areTransformationsConnected,this.destinationId=n&&n.destinationId}return s(e,[{key:"init",value:function(){d("===in init Lotame==="),window.LOTAME_SYNCH_CALLBACK=function(){}}},{key:"addPixel",value:function(e,t,r){d("Adding pixel for :: ".concat(e));var n=document.createElement("img");n.src=e,n.setAttribute("width",t),n.setAttribute("height",r),d("Image Pixel :: ".concat(n)),document.getElementsByTagName("body")[0].appendChild(n)}},{key:"addIFrame",value:function(e){d("Adding iframe for :: ".concat(e));var t=document.createElement("iframe");t.src=e,t.title="empty",t.setAttribute("id","LOTCCFrame"),t.setAttribute("tabindex","-1"),t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),t.setAttribute("style","border: 0px; width: 0px; height: 0px; display: block;"),d("IFrame :: ".concat(t)),document.getElementsByTagName("body")[0].appendChild(t)}},{key:"syncPixel",value:function(e){var t=this;if(d("===== in syncPixel ======"),d("Firing DSP Pixel URLs"),this.dspUrlSettingsPixel&&this.dspUrlSettingsPixel.length>0){var n=Date.now();this.dspUrlSettingsPixel.forEach((function(i){var o=t.compileUrl(r(r({},t.mappings),{},{userId:e,random:n}),i.dspUrlTemplate);t.addPixel(o,"1","1")}))}if(d("Firing DSP IFrame URLs"),this.dspUrlSettingsIframe&&this.dspUrlSettingsIframe.length>0){var i=Date.now();this.dspUrlSettingsIframe.forEach((function(n){var o=t.compileUrl(r(r({},t.mappings),{},{userId:e,random:i}),n.dspUrlTemplate);t.addIFrame(o)}))}this.storage.setLotameSynchTime(Date.now()),this.analytics.methodToCallbackMapping.syncPixel&&this.analytics.emit("syncPixel",{destination:this.name})}},{key:"compileUrl",value:function(e,t){return Object.keys(e).forEach((function(r){if(e.hasOwnProperty(r)){var n="{{".concat(r,"}}"),i=new RegExp(n,"gi");t=t.replace(i,e[r])}})),t}},{key:"identify",value:function(e){d("in Lotame identify");var t=e.message.userId;this.syncPixel(t)}},{key:"track",value:function(e){d("track not supported for lotame")}},{key:"page",value:function(e){var t=this;if(d("in Lotame page"),d("Firing BCP Pixel URLs"),this.bcpUrlSettingsPixel&&this.bcpUrlSettingsPixel.length>0){var n=Date.now();this.bcpUrlSettingsPixel.forEach((function(e){var i=t.compileUrl(r(r({},t.mappings),{},{random:n}),e.bcpUrlTemplate);t.addPixel(i,"1","1")}))}if(d("Firing BCP IFrame URLs"),this.bcpUrlSettingsIframe&&this.bcpUrlSettingsIframe.length>0){var i=Date.now();this.bcpUrlSettingsIframe.forEach((function(e){var n=t.compileUrl(r(r({},t.mappings),{},{random:i}),e.bcpUrlTemplate);t.addIFrame(n)}))}e.message.userId&&this.isPixelToBeSynched()&&this.syncPixel(e.message.userId)}},{key:"isPixelToBeSynched",value:function(){var e=this.storage.getLotameSynchTime(),t=Date.now();return!e||Math.floor((t-e)/864e5)>=7}},{key:"isLoaded",value:function(){return d("in Lotame isLoaded"),!0}},{key:"isReady",value:function(){return!0}}]),e}();return e.Lotame=Mt,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=Lotame.min.js.map
